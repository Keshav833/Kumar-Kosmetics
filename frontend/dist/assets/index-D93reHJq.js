const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-BrX0y8jD.js","assets/react-vendor-NB0rwQWP.js","assets/ui-vendor-C2ycjFKm.js","assets/utils-BC1-6gfo.js","assets/animation-BHxzdUjt.js","assets/charts-H8pboT79.js"])))=>i.map(i=>d[i]);
var sg=Object.defineProperty;var ig=(r,e,t)=>e in r?sg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Jt=(r,e,t)=>ig(r,typeof e!="symbol"?e+"":e,t);import{j as s,S as Vo,X as ti,H as Pi,a as vu,U as Ha,L as Np,A as jp,F as ag,I as og,T as lg,b as cg,M as dg,d as _p,e as Sp,f as ug,g as yu,C as ko,h as hg,G as fg,i as pg,k as os,l as Pl,m as pc,n as mg,o as gg,p as Ac,q as Wa,E as Qi,r as _s,s as Lc,t as wu,u as kp,v as xg,w as Ap,x as bg,P as ea,y as vg,z as yg,D as wg,B as Ng,J as Lp,K as jg,R as _g,N as mc,O as Go,Q as Cp,V as Sg,W as Pp,Y as kg,Z as Ag,_ as Lg,$ as Cg,a0 as Nh,a1 as Pg,a2 as Eg}from"./ui-vendor-C2ycjFKm.js";import{b as Fg,g as Ep,R as Fa,a as ue,u as ks,d as Cc,L as At,e as Ig,f as Fp,B as Tg,h as Og,i as Ar,N as Vs}from"./react-vendor-NB0rwQWP.js";import{a as Rg,s as jh,f as Na,p as Dg,i as Mg,b as Bg}from"./utils-BC1-6gfo.js";import{A as Va,m as cr,g as Ao,u as qg,a as fd}from"./animation-BHxzdUjt.js";import{R as _h,A as Ug,C as zg,X as Hg,Y as Wg,T as Sh,a as $g,P as Vg,b as Gg,c as Yg}from"./charts-H8pboT79.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var El={},kh;function Kg(){if(kh)return El;kh=1;var r=Fg();return El.createRoot=r.createRoot,El.hydrateRoot=r.hydrateRoot,El}var Xg=Kg();const Jg=Ep(Xg),Ah=r=>{let e;const t=new Set,n=(u,p)=>{const g=typeof u=="function"?u(e):u;if(!Object.is(g,e)){const b=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(f=>f(e,b))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>d,subscribe:u=>(t.add(u),()=>t.delete(u))},d=e=r(n,i,o);return o},Zg=(r=>r?Ah(r):Ah),Qg=r=>r;function e1(r,e=Qg){const t=Fa.useSyncExternalStore(r.subscribe,Fa.useCallback(()=>e(r.getState()),[r,e]),Fa.useCallback(()=>e(r.getInitialState()),[r,e]));return Fa.useDebugValue(t),t}const Lh=r=>{const e=Zg(r),t=n=>e1(e,n);return Object.assign(t,e),t},Nu=(r=>r?Lh(r):Lh),Ip="https://kumar-kosmetics.onrender.com";console.log("Current Environment Mode:","production");console.log("VITE_API_URL:",Ip);const t1=`${Ip}/api`,bt=Rg.create({baseURL:t1,withCredentials:!0});let r1={data:""},n1=r=>{if(typeof window=="object"){let e=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(r||document.head).appendChild(e),e.firstChild}return r||r1},s1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,i1=/\/\*[^]*?\*\/|  +/g,Ch=/\n+/g,Si=(r,e)=>{let t="",n="",i="";for(let a in r){let l=r[a];a[0]=="@"?a[1]=="i"?t=a+" "+l+";":n+=a[1]=="f"?Si(l,a):a+"{"+Si(l,a[1]=="k"?"":e)+"}":typeof l=="object"?n+=Si(l,e?e.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,o):o?o+" "+d:d)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Si.p?Si.p(a,l):a+":"+l+";")}return t+(e&&i?e+"{"+i+"}":i)+n},Gs={},Tp=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+Tp(r[t]);return e}return r},a1=(r,e,t,n,i)=>{let a=Tp(r),l=Gs[a]||(Gs[a]=(d=>{let u=0,p=11;for(;u<d.length;)p=101*p+d.charCodeAt(u++)>>>0;return"go"+p})(a));if(!Gs[l]){let d=a!==r?r:(u=>{let p,g,b=[{}];for(;p=s1.exec(u.replace(i1,""));)p[4]?b.shift():p[3]?(g=p[3].replace(Ch," ").trim(),b.unshift(b[0][g]=b[0][g]||{})):b[0][p[1]]=p[2].replace(Ch," ").trim();return b[0]})(r);Gs[l]=Si(i?{["@keyframes "+l]:d}:d,t?"":"."+l)}let o=t&&Gs.g?Gs.g:null;return t&&(Gs.g=Gs[l]),((d,u,p,g)=>{g?u.data=u.data.replace(g,d):u.data.indexOf(d)===-1&&(u.data=p?d+u.data:u.data+d)})(Gs[l],e,n,o),l},o1=(r,e,t)=>r.reduce((n,i,a)=>{let l=e[a];if(l&&l.call){let o=l(t),d=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=d?"."+d:o&&typeof o=="object"?o.props?"":Si(o,""):o===!1?"":o}return n+i+(l??"")},"");function Pc(r){let e=this||{},t=r.call?r(e.p):r;return a1(t.unshift?t.raw?o1(t,[].slice.call(arguments,1),e.p):t.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):t,n1(e.target),e.g,e.o,e.k)}let Op,Gd,Yd;Pc.bind({g:1});let ri=Pc.bind({k:1});function l1(r,e,t,n){Si.p=e,Op=r,Gd=t,Yd=n}function Ii(r,e){let t=this||{};return function(){let n=arguments;function i(a,l){let o=Object.assign({},a),d=o.className||i.className;t.p=Object.assign({theme:Gd&&Gd()},o),t.o=/ *go\d+/.test(d),o.className=Pc.apply(t,n)+(d?" "+d:"");let u=r;return r[0]&&(u=o.as||r,delete o.as),Yd&&u[0]&&Yd(o),Op(u,o)}return i}}var c1=r=>typeof r=="function",gc=(r,e)=>c1(r)?r(e):r,d1=(()=>{let r=0;return()=>(++r).toString()})(),Rp=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),u1=20,ju="default",Dp=(r,e)=>{let{toastLimit:t}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,t)};case 1:return{...r,toasts:r.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:n}=e;return Dp(r,{type:r.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...r,toasts:r.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let a=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},ec=[],Mp={toasts:[],pausedAt:void 0,settings:{toastLimit:u1}},ws={},Bp=(r,e=ju)=>{ws[e]=Dp(ws[e]||Mp,r),ec.forEach(([t,n])=>{t===e&&n(ws[e])})},qp=r=>Object.keys(ws).forEach(e=>Bp(r,e)),h1=r=>Object.keys(ws).find(e=>ws[e].toasts.some(t=>t.id===r)),Ec=(r=ju)=>e=>{Bp(e,r)},f1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},p1=(r={},e=ju)=>{let[t,n]=ue.useState(ws[e]||Mp),i=ue.useRef(ws[e]);ue.useEffect(()=>(i.current!==ws[e]&&n(ws[e]),ec.push([e,n]),()=>{let l=ec.findIndex(([o])=>o===e);l>-1&&ec.splice(l,1)}),[e]);let a=t.toasts.map(l=>{var o,d,u;return{...r,...r[l.type],...l,removeDelay:l.removeDelay||((o=r[l.type])==null?void 0:o.removeDelay)||(r==null?void 0:r.removeDelay),duration:l.duration||((d=r[l.type])==null?void 0:d.duration)||(r==null?void 0:r.duration)||f1[l.type],style:{...r.style,...(u=r[l.type])==null?void 0:u.style,...l.style}}});return{...t,toasts:a}},m1=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||d1()}),Zo=r=>(e,t)=>{let n=m1(e,r,t);return Ec(n.toasterId||h1(n.id))({type:2,toast:n}),n.id},it=(r,e)=>Zo("blank")(r,e);it.error=Zo("error");it.success=Zo("success");it.loading=Zo("loading");it.custom=Zo("custom");it.dismiss=(r,e)=>{let t={type:3,toastId:r};e?Ec(e)(t):qp(t)};it.dismissAll=r=>it.dismiss(void 0,r);it.remove=(r,e)=>{let t={type:4,toastId:r};e?Ec(e)(t):qp(t)};it.removeAll=r=>it.remove(void 0,r);it.promise=(r,e,t)=>{let n=it.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(i=>{let a=e.success?gc(e.success,i):void 0;return a?it.success(a,{id:n,...t,...t==null?void 0:t.success}):it.dismiss(n),i}).catch(i=>{let a=e.error?gc(e.error,i):void 0;a?it.error(a,{id:n,...t,...t==null?void 0:t.error}):it.dismiss(n)}),r};var g1=1e3,x1=(r,e="default")=>{let{toasts:t,pausedAt:n}=p1(r,e),i=ue.useRef(new Map).current,a=ue.useCallback((g,b=g1)=>{if(i.has(g))return;let f=setTimeout(()=>{i.delete(g),l({type:4,toastId:g})},b);i.set(g,f)},[]);ue.useEffect(()=>{if(n)return;let g=Date.now(),b=t.map(f=>{if(f.duration===1/0)return;let y=(f.duration||0)+f.pauseDuration-(g-f.createdAt);if(y<0){f.visible&&it.dismiss(f.id);return}return setTimeout(()=>it.dismiss(f.id,e),y)});return()=>{b.forEach(f=>f&&clearTimeout(f))}},[t,n,e]);let l=ue.useCallback(Ec(e),[e]),o=ue.useCallback(()=>{l({type:5,time:Date.now()})},[l]),d=ue.useCallback((g,b)=>{l({type:1,toast:{id:g,height:b}})},[l]),u=ue.useCallback(()=>{n&&l({type:6,time:Date.now()})},[n,l]),p=ue.useCallback((g,b)=>{let{reverseOrder:f=!1,gutter:y=8,defaultPosition:j}=b||{},_=t.filter(D=>(D.position||j)===(g.position||j)&&D.height),w=_.findIndex(D=>D.id===g.id),U=_.filter((D,F)=>F<w&&D.visible).length;return _.filter(D=>D.visible).slice(...f?[U+1]:[0,U]).reduce((D,F)=>D+(F.height||0)+y,0)},[t]);return ue.useEffect(()=>{t.forEach(g=>{if(g.dismissed)a(g.id,g.removeDelay);else{let b=i.get(g.id);b&&(clearTimeout(b),i.delete(g.id))}})},[t,a]),{toasts:t,handlers:{updateHeight:d,startPause:o,endPause:u,calculateOffset:p}}},b1=ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,v1=ri`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,y1=ri`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,w1=Ii("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${b1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${v1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${y1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,N1=ri`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,j1=Ii("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${N1} 1s linear infinite;
`,_1=ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,S1=ri`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,k1=Ii("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${S1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,A1=Ii("div")`
  position: absolute;
`,L1=Ii("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,C1=ri`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,P1=Ii("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${C1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,E1=({toast:r})=>{let{icon:e,type:t,iconTheme:n}=r;return e!==void 0?typeof e=="string"?ue.createElement(P1,null,e):e:t==="blank"?null:ue.createElement(L1,null,ue.createElement(j1,{...n}),t!=="loading"&&ue.createElement(A1,null,t==="error"?ue.createElement(w1,{...n}):ue.createElement(k1,{...n})))},F1=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,I1=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,T1="0%{opacity:0;} 100%{opacity:1;}",O1="0%{opacity:1;} 100%{opacity:0;}",R1=Ii("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,D1=Ii("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,M1=(r,e)=>{let t=r.includes("top")?1:-1,[n,i]=Rp()?[T1,O1]:[F1(t),I1(t)];return{animation:e?`${ri(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ri(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},B1=ue.memo(({toast:r,position:e,style:t,children:n})=>{let i=r.height?M1(r.position||e||"top-center",r.visible):{opacity:0},a=ue.createElement(E1,{toast:r}),l=ue.createElement(D1,{...r.ariaProps},gc(r.message,r));return ue.createElement(R1,{className:r.className,style:{...i,...t,...r.style}},typeof n=="function"?n({icon:a,message:l}):ue.createElement(ue.Fragment,null,a,l))});l1(ue.createElement);var q1=({id:r,className:e,style:t,onHeightUpdate:n,children:i})=>{let a=ue.useCallback(l=>{if(l){let o=()=>{let d=l.getBoundingClientRect().height;n(r,d)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return ue.createElement("div",{ref:a,className:e,style:t},i)},U1=(r,e)=>{let t=r.includes("top"),n=t?{top:0}:{bottom:0},i=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Rp()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...i}},z1=Pc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Fl=16,H1=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:n,children:i,toasterId:a,containerStyle:l,containerClassName:o})=>{let{toasts:d,handlers:u}=x1(t,a);return ue.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Fl,left:Fl,right:Fl,bottom:Fl,pointerEvents:"none",...l},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(p=>{let g=p.position||e,b=u.calculateOffset(p,{reverseOrder:r,gutter:n,defaultPosition:e}),f=U1(g,b);return ue.createElement(q1,{id:p.id,key:p.id,onHeightUpdate:u.updateHeight,className:p.visible?z1:"",style:f},p.type==="custom"?gc(p.message,p):i?i(p):ue.createElement(B1,{toast:p,position:g}))}))},Dt=it;const An=Nu((r,e)=>({authUser:null,signingUp:!1,loggingIn:!1,loading:!1,checkingAuth:!0,isAuthModalOpen:!1,triggerAction:null,openAuthModal:(t=null)=>r({isAuthModalOpen:!0,triggerAction:t}),closeAuthModal:()=>r({isAuthModalOpen:!1,triggerAction:null}),signup:async t=>{var n,i;r({signingUp:!0,loading:!0});try{const a=await bt.post("/auth/signup",t);r({authUser:a.data}),it.success("Account created successfully")}catch(a){it.error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"An error occurred during signup")}finally{r({signingUp:!1,loading:!1})}},login:async t=>{var n,i;r({loggingIn:!0,loading:!0});try{const a=await bt.post("/auth/login",t);r({authUser:a.data}),it.success("Logged in successfully")}catch(a){it.error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"An error occurred during login")}finally{r({loggingIn:!1,loading:!1})}},googleLogin:async t=>{var n,i;r({loggingIn:!0,loading:!0});try{const a=await bt.post("/auth/google",{token:t});r({authUser:a.data}),it.success("Logged in successfully")}catch(a){it.error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Google login failed")}finally{r({loggingIn:!1,loading:!1})}},logout:async()=>{var t,n;try{await bt.post("/auth/logout"),r({authUser:null}),it.success("Logged out successfully")}catch(i){it.error(((n=(t=i.response)==null?void 0:t.data)==null?void 0:n.message)||"An error occurred during logout")}},checkAuth:async()=>{r({checkingAuth:!0});try{const t=await bt.get("/auth/profile");r({authUser:t.data})}catch(t){console.log("Error in checkAuth:",t),r({authUser:null})}finally{r({checkingAuth:!1})}},updateProfile:async t=>{var n,i;r({loading:!0});try{const a=await bt.put("/profile/update",t);r({authUser:a.data}),it.success("Profile updated successfully")}catch(a){it.error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Error updating profile")}finally{r({loading:!1})}},changePassword:async t=>{var n,i;r({loading:!0});try{const a=await bt.put("/profile/password",t);return it.success(a.data.message),t.logoutOthers&&(r({authUser:null}),window.location.href="/login"),!0}catch(a){return it.error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Error changing password"),!1}finally{r({loading:!1})}},addAddress:async t=>{var n,i;r({loading:!0});try{const a=await bt.post("/profile/address",t);r({authUser:a.data}),it.success("Address added successfully")}catch(a){it.error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Error adding address")}finally{r({loading:!1})}},deleteAddress:async t=>{var n,i;r({loading:!0});try{const a=await bt.delete(`/profile/address/${t}`);r({authUser:a.data}),it.success("Address deleted successfully")}catch(a){it.error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Error deleting address")}finally{r({loading:!1})}},addUPI:async t=>{var n,i;r({loading:!0});try{const a=await bt.post("/profile/upi",t);r({authUser:a.data}),it.success("UPI added successfully")}catch(a){it.error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Error adding UPI")}finally{r({loading:!1})}},deleteUPI:async t=>{var n,i;r({loading:!0});try{const a=await bt.delete(`/profile/upi/${t}`);r({authUser:a.data}),it.success("UPI deleted successfully")}catch(a){it.error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Error deleting UPI")}finally{r({loading:!1})}},getMyOrders:async()=>{var t,n;r({loading:!0});try{return(await bt.get("/profile/orders")).data}catch(i){return it.error(((n=(t=i.response)==null?void 0:t.data)==null?void 0:n.message)||"Error fetching orders"),[]}finally{r({loading:!1})}}})),Ga=Nu((r,e)=>({cart:null,loading:!1,getCart:async()=>{r({loading:!0});try{const t=await bt.get("/cart");r({cart:t.data})}catch(t){console.error("Error fetching cart:",t),r({cart:null})}finally{r({loading:!1})}},addToCart:async(t,n=1,i)=>{var a,l;r({loading:!0});try{const o=await bt.post("/cart",{productId:t,quantity:n,variant:i});r({cart:o.data}),it.success("Added to cart")}catch(o){console.error("Error adding to cart:",o),it.error(((l=(a=o.response)==null?void 0:a.data)==null?void 0:l.message)||"Failed to add to cart")}finally{r({loading:!1})}},removeFromCart:async t=>{var n,i;r({loading:!0});try{const a=await bt.delete(`/cart/${t}`);r({cart:a.data}),it.success("Removed from cart")}catch(a){console.error("Error removing from cart:",a),it.error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to remove from cart")}finally{r({loading:!1})}},updateQuantity:async(t,n)=>{var i,a;r({loading:!0});try{const l=await bt.put(`/cart/${t}`,{quantity:n});r({cart:l.data})}catch(l){console.error("Error updating quantity:",l),it.error(((a=(i=l.response)==null?void 0:i.data)==null?void 0:a.message)||"Failed to update quantity")}finally{r({loading:!1})}},clearCart:async()=>{r({cart:[]});try{await bt.delete("/cart")}catch(t){console.error("Error clearing cart:",t)}}}));function As(){var K;const[r,e]=ue.useState(!1),[t,n]=ue.useState(!1),[i,a]=ue.useState(!0),[l,o]=ue.useState(!1),[d,u]=ue.useState(""),p=ue.useRef(null);ue.useEffect(()=>{l&&p.current&&p.current.focus()},[l]);const{authUser:g,openAuthModal:b,logout:f}=An(),{cart:y,getCart:j}=Ga(),_=ks(),w=Cc();w.pathname,ue.useEffect(()=>{g&&j()},[g,j]),ue.useEffect(()=>{let k=window.scrollY;const N=()=>{const T=window.scrollY,C=window.innerHeight*.1;T>C?n(!0):n(!1),T>k&&T>C&&!l?a(!1):a(!0),k=T};return window.addEventListener("scroll",N,{passive:!0}),()=>window.removeEventListener("scroll",N)},[l]);const U=k=>{k.preventDefault(),d.trim()&&(_(`/products?q=${encodeURIComponent(d.trim())}`),o(!1),u(""))},D=w.pathname==="/"||w.pathname==="/products",F="text-foreground hover:text-primary",te="text-foreground",X=((K=y==null?void 0:y.items)==null?void 0:K.length)||0;return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:`fixed top-0 w-full z-50 transition-all duration-500 ease-in-out transform ${i?"translate-y-0":"-translate-y-full"} ${t||!D||l?"bg-white/80 backdrop-blur-md shadow-md border-b border-border":"bg-transparent backdrop-blur-none shadow-none border-none"}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between relative",children:[s.jsx("div",{className:`absolute inset-0 bg-white/95 backdrop-blur-xl z-50 flex items-center justify-center px-4 transition-all duration-500 ease-out ${l?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-4 pointer-events-none"}`,style:{pointerEvents:l?"auto":"none"},children:s.jsxs("form",{onSubmit:U,className:"flex items-center gap-4 transition-all duration-1000 ease-in-out transform origin-center "+(l?"w-full max-w-7xl opacity-100 scale-100":"w-[60%] opacity-80 scale-95"),children:[s.jsx(Vo,{className:"w-5 h-5 text-gray-600"}),s.jsx("input",{ref:p,autoFocus:l,type:"text",placeholder:"Search...",className:"flex-1 bg-transparent border-b border-gray-100 focus:border-primary/50 outline-none text-xl font-light text-foreground placeholder-gray-300 py-2 transition-all",value:d,onChange:k=>{const N=k.target.value;u(N),w.pathname==="/products"&&l&&_(`/products?q=${encodeURIComponent(N.trim())}`,{replace:!0})}}),s.jsx("button",{type:"button",onClick:()=>{o(!1),u("")},className:"p-2 hover:bg-gray-50 rounded-full transition-colors",children:s.jsx(ti,{className:"w-5 h-5 text-gray-400 hover:text-foreground transition-colors"})})]})}),s.jsx(At,{to:"/",className:`flex items-center gap-2 transition-opacity duration-300 ${l?"opacity-0":"opacity-100"}`,children:s.jsx("img",{src:"/kumarKosmetics.png",alt:"Kumar Kosmetics",className:"h-12 w-auto object-contain"})}),s.jsxs("nav",{className:`hidden md:flex items-center gap-8 transition-opacity duration-300 ${l?"opacity-0 pointer-events-none":"opacity-100"}`,children:[s.jsx(At,{to:"/products",className:`text-sm transition-colors font-medium ${F}`,children:"Products"}),s.jsx(At,{to:"/skin-analyzer",className:`text-sm transition-colors font-medium ${F}`,children:"Skin Analyzer"}),s.jsx(At,{to:"/about",className:`text-sm transition-colors font-medium ${F}`,children:"About"}),s.jsx(At,{to:"/contact",className:`text-sm transition-colors font-medium ${F}`,children:"Contact"})]}),s.jsxs("div",{className:`flex items-center gap-4 transition-opacity duration-300 ${l?"opacity-0 pointer-events-none":"opacity-100"}`,children:[s.jsx("button",{onClick:()=>o(!0),className:"p-2 rounded-lg transition-colors hover:bg-muted",children:s.jsx(Vo,{className:`w-5 h-5 ${te}`})}),s.jsx(At,{to:"/wishlist",className:"p-2 rounded-lg transition-colors hover:bg-muted",children:s.jsx(Pi,{className:`w-5 h-5 ${te}`})}),s.jsxs(At,{to:"/cart",className:"p-2 rounded-lg transition-colors relative hover:bg-muted",children:[s.jsx(vu,{className:`w-5 h-5 ${te}`}),X>0&&s.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-primary text-white text-xs rounded-full flex items-center justify-center",children:X})]}),g?s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"flex items-center gap-2 p-1 rounded-full transition-colors border border-transparent  hover:bg-muted hover:border-border",children:g.avatar?s.jsx("img",{src:g.avatar,alt:g.name,className:"w-8 h-8 rounded-full object-cover border border-gray-200"}):s.jsx("div",{className:"p-1",children:s.jsx(Ha,{className:`w-5 h-5 ${te}`})})}),s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-border py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-border",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:g.name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:g.email})]}),s.jsx(At,{to:"/profile",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted transition-colors",children:"My Profile"}),s.jsx(At,{to:"/profile",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted transition-colors",children:"My Orders"}),g.role==="admin"&&s.jsx(At,{to:"/admin",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted transition-colors",children:"Admin Dashboard"}),s.jsxs("button",{onClick:f,className:"w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-red-50 transition-colors flex items-center gap-2",children:[s.jsx(Np,{className:"w-4 h-4"}),"Log Out"]})]})]}):s.jsx(At,{to:"/login",className:"p-2 rounded-lg transition-colors hover:bg-muted",children:s.jsx(Ha,{className:`w-5 h-5 ${te}`})})]})]})}),!D&&s.jsx("div",{className:"h-20"})]})}const wi=[{id:1,image:"/product_Header.jpg",lines:["Clean","Conscious","Clinical","Skincare"],titleStyles:["","","","font-thin opacity-90"],description:s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-extralight text-gray-600 w-2/3",children:"Unreservedly honest products that work, be kind to skin and the planet"}),s.jsx("span",{className:"ml-2 px-2 py-1 text-3xl rounded-md italic font-['Bodoni_Moda'] text-gray-700",children:"â€“ no exceptions!"})]}),buttonText:"Shop Collection",buttonLink:"/products"},{id:3,image:"/Header2.png.png",lines:["Your Skin.","Your Routine.","Perfectly","Matched."],titleStyles:["text-[#0f3d3e]","text-[#0f3d3e]","text-[#0f3d3e]","text-[#0f3d3e]"],description:s.jsx("span",{className:"font-extralight text-gray-600 w-2/3",children:"Personalized recommendations crafted around your skin type, concerns, and sensitivity."}),buttonText:"Start Analysis",buttonLink:"/skin-analyzer"}];function W1(){const[r,e]=ue.useState(0);return ue.useEffect(()=>{const t=setInterval(()=>{e(n=>(n+1)%wi.length)},12e3);return()=>clearInterval(t)},[]),s.jsxs("div",{className:"relative w-full h-screen overflow-hidden bg-gray-50",children:[s.jsx(Va,{mode:"wait",children:s.jsxs(cr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"absolute inset-0 w-full h-full",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:wi[r].image,alt:"Hero Slide",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 to-transparent mix-blend-overlay opacity-20"})]}),s.jsx("div",{className:"absolute inset-0 flex flex-col justify-center px-8 md:px-16 lg:px-24",children:s.jsxs("div",{className:"max-w-3xl",children:[s.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl text-black mb-6 mt-10",children:wi[r].lines.map((t,n)=>s.jsx(cr.span,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:n*.2+.5,duration:.8},className:`block drop-shadow-md ${wi[r].titleStyles[n]||""}`,children:t},n))}),s.jsx(cr.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.8},className:"text-xl md:text-2xl font-sans w-2/3 text-black leading-relaxed max-w-2xl drop-shadow-sm",children:wi[r].description}),s.jsxs(cr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.5,duration:.8},className:"mt-8",children:[s.jsxs(At,{to:wi[r].buttonLink,className:"group relative w-[280px] inline-flex items-center justify-center px-6 py-3 md:px-8 md:py-4 text-base md:text-lg font-medium rounded-full text-white bg-black hover:bg-gray-800 shadow-md transition-all duration-300",children:[s.jsx("span",{className:"pointer-events-none",children:wi[r].buttonText}),s.jsx("span",{className:`absolute right-2 top-1/2 -translate-y-1/2 \r
                                 bg-white text-black rounded-full p-2.5 md:p-3\r
                                 flex items-center justify-center`,children:s.jsx(jp,{className:"w-5 h-5 arrow-icon"})})]}),s.jsx("style",{children:`
                  @keyframes arrow-slide {
                    0% { transform: translateX(0); opacity: 1; }
                    45% { transform: translateX(100%); opacity: 0; }
                    50% { transform: translateX(-100%); opacity: 0; }
                    55% { transform: translateX(-100%); opacity: 0; }
                    100% { transform: translateX(0); opacity: 1; }
                  }
                  .group:hover .arrow-icon {
                    animation: arrow-slide 0.6s cubic-bezier(0.4, 0, 0.2, 1);
                  }
                `})]})]})})]},r)}),s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-3 z-20",children:wi.map((t,n)=>s.jsx("button",{onClick:()=>e(n),className:`w-3 h-3 rounded-full transition-all duration-300 ${r===n?"bg-black scale-125":"bg-gray-400 hover:bg-gray-600"}`},n))})]})}function $1(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function V1(r,e,t){return e&&$1(r.prototype,e),r}/*!
 * Observer 3.14.1
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Zr,tc,zn,ki,Ai,Oa,Up,Yi,Io,zp,Zs,is,Hp,Wp=function(){return Zr||typeof window<"u"&&(Zr=window.gsap)&&Zr.registerPlugin&&Zr},$p=1,Ia=[],Ft=[],Ss=[],To=Date.now,Kd=function(e,t){return t},G1=function(){var e=Io.core,t=e.bridge||{},n=e._scrollers,i=e._proxies;n.push.apply(n,Ft),i.push.apply(i,Ss),Ft=n,Ss=i,Kd=function(l,o){return t[l](o)}},Ci=function(e,t){return~Ss.indexOf(e)&&Ss[Ss.indexOf(e)+1][t]},Oo=function(e){return!!~zp.indexOf(e)},xn=function(e,t,n,i,a){return e.addEventListener(t,n,{passive:i!==!1,capture:!!a})},gn=function(e,t,n,i){return e.removeEventListener(t,n,!!i)},Il="scrollLeft",Tl="scrollTop",Xd=function(){return Zs&&Zs.isPressed||Ft.cache++},xc=function(e,t){var n=function i(a){if(a||a===0){$p&&(zn.history.scrollRestoration="manual");var l=Zs&&Zs.isPressed;a=i.v=Math.round(a)||(Zs&&Zs.iOS?1:0),e(a),i.cacheID=Ft.cache,l&&Kd("ss",a)}else(t||Ft.cache!==i.cacheID||Kd("ref"))&&(i.cacheID=Ft.cache,i.v=e());return i.v+i.offset};return n.offset=0,e&&n},wn={s:Il,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:xc(function(r){return arguments.length?zn.scrollTo(r,Hr.sc()):zn.pageXOffset||ki[Il]||Ai[Il]||Oa[Il]||0})},Hr={s:Tl,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:wn,sc:xc(function(r){return arguments.length?zn.scrollTo(wn.sc(),r):zn.pageYOffset||ki[Tl]||Ai[Tl]||Oa[Tl]||0})},kn=function(e,t){return(t&&t._ctx&&t._ctx.selector||Zr.utils.toArray)(e)[0]||(typeof e=="string"&&Zr.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Y1=function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1},Ei=function(e,t){var n=t.s,i=t.sc;Oo(e)&&(e=ki.scrollingElement||Ai);var a=Ft.indexOf(e),l=i===Hr.sc?1:2;!~a&&(a=Ft.push(e)-1),Ft[a+l]||xn(e,"scroll",Xd);var o=Ft[a+l],d=o||(Ft[a+l]=xc(Ci(e,n),!0)||(Oo(e)?i:xc(function(u){return arguments.length?e[n]=u:e[n]})));return d.target=e,o||(d.smooth=Zr.getProperty(e,"scrollBehavior")==="smooth"),d},Jd=function(e,t,n){var i=e,a=e,l=To(),o=l,d=t||50,u=Math.max(500,d*3),p=function(y,j){var _=To();j||_-l>d?(a=i,i=y,o=l,l=_):n?i+=y:i=a+(y-a)/(_-o)*(l-o)},g=function(){a=i=n?0:i,o=l=0},b=function(y){var j=o,_=a,w=To();return(y||y===0)&&y!==i&&p(y),l===o||w-o>u?0:(i+(n?_:-_))/((n?w:l)-j)*1e3};return{update:p,reset:g,getVelocity:b}},wo=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Ph=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},Vp=function(){Io=Zr.core.globals().ScrollTrigger,Io&&Io.core&&G1()},Gp=function(e){return Zr=e||Wp(),!tc&&Zr&&typeof document<"u"&&document.body&&(zn=window,ki=document,Ai=ki.documentElement,Oa=ki.body,zp=[zn,ki,Ai,Oa],Zr.utils.clamp,Hp=Zr.core.context||function(){},Yi="onpointerenter"in Oa?"pointer":"mouse",Up=Er.isTouch=zn.matchMedia&&zn.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in zn||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,is=Er.eventTypes=("ontouchstart"in Ai?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Ai?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return $p=0},500),Vp(),tc=1),tc};wn.op=Hr;Ft.cache=0;var Er=(function(){function r(t){this.init(t)}var e=r.prototype;return e.init=function(n){tc||Gp(Zr)||console.warn("Please gsap.registerPlugin(Observer)"),Io||Vp();var i=n.tolerance,a=n.dragMinimum,l=n.type,o=n.target,d=n.lineHeight,u=n.debounce,p=n.preventDefault,g=n.onStop,b=n.onStopDelay,f=n.ignore,y=n.wheelSpeed,j=n.event,_=n.onDragStart,w=n.onDragEnd,U=n.onDrag,D=n.onPress,F=n.onRelease,te=n.onRight,X=n.onLeft,K=n.onUp,k=n.onDown,N=n.onChangeX,T=n.onChangeY,S=n.onChange,C=n.onToggleX,W=n.onToggleY,G=n.onHover,le=n.onHoverEnd,fe=n.onMove,ne=n.ignoreCheck,q=n.isNormalizer,ee=n.onGestureStart,V=n.onGestureEnd,pe=n.onWheel,P=n.onEnable,M=n.onDisable,Y=n.onClick,J=n.scrollSpeed,Z=n.capture,se=n.allowClicks,ae=n.lockAxis,ce=n.onLockAxis;this.target=o=kn(o)||Ai,this.vars=n,f&&(f=Zr.utils.toArray(f)),i=i||1e-9,a=a||0,y=y||1,J=J||1,l=l||"wheel,touch,pointer",u=u!==!1,d||(d=parseFloat(zn.getComputedStyle(Oa).lineHeight)||22);var be,xe,ke,we,Pe,R,Ne,oe=this,Ae=0,ve=0,ze=n.passive||!p&&n.passive!==!1,Ie=Ei(o,wn),Me=Ei(o,Hr),He=Ie(),ot=Me(),We=~l.indexOf("touch")&&!~l.indexOf("pointer")&&is[0]==="pointerdown",qe=Oo(o),Be=o.ownerDocument||ki,rt=[0,0,0],De=[0,0,0],lt=0,Ue=function(){return lt=To()},ct=function(Ee,_t){return(oe.event=Ee)&&f&&Y1(Ee.target,f)||_t&&We&&Ee.pointerType!=="touch"||ne&&ne(Ee,_t)},yt=function(){oe._vx.reset(),oe._vy.reset(),xe.pause(),g&&g(oe)},ht=function(){var Ee=oe.deltaX=Ph(rt),_t=oe.deltaY=Ph(De),Oe=Math.abs(Ee)>=i,at=Math.abs(_t)>=i;S&&(Oe||at)&&S(oe,Ee,_t,rt,De),Oe&&(te&&oe.deltaX>0&&te(oe),X&&oe.deltaX<0&&X(oe),N&&N(oe),C&&oe.deltaX<0!=Ae<0&&C(oe),Ae=oe.deltaX,rt[0]=rt[1]=rt[2]=0),at&&(k&&oe.deltaY>0&&k(oe),K&&oe.deltaY<0&&K(oe),T&&T(oe),W&&oe.deltaY<0!=ve<0&&W(oe),ve=oe.deltaY,De[0]=De[1]=De[2]=0),(we||ke)&&(fe&&fe(oe),ke&&(_&&ke===1&&_(oe),U&&U(oe),ke=0),we=!1),R&&!(R=!1)&&ce&&ce(oe),Pe&&(pe(oe),Pe=!1),be=0},gt=function(Ee,_t,Oe){rt[Oe]+=Ee,De[Oe]+=_t,oe._vx.update(Ee),oe._vy.update(_t),u?be||(be=requestAnimationFrame(ht)):ht()},$t=function(Ee,_t){ae&&!Ne&&(oe.axis=Ne=Math.abs(Ee)>Math.abs(_t)?"x":"y",R=!0),Ne!=="y"&&(rt[2]+=Ee,oe._vx.update(Ee,!0)),Ne!=="x"&&(De[2]+=_t,oe._vy.update(_t,!0)),u?be||(be=requestAnimationFrame(ht)):ht()},Je=function(Ee){if(!ct(Ee,1)){Ee=wo(Ee,p);var _t=Ee.clientX,Oe=Ee.clientY,at=_t-oe.x,Ve=Oe-oe.y,$e=oe.isDragging;oe.x=_t,oe.y=Oe,($e||(at||Ve)&&(Math.abs(oe.startX-_t)>=a||Math.abs(oe.startY-Oe)>=a))&&(ke||(ke=$e?2:1),$e||(oe.isDragging=!0),$t(at,Ve))}},qt=oe.onPress=function(dt){ct(dt,1)||dt&&dt.button||(oe.axis=Ne=null,xe.pause(),oe.isPressed=!0,dt=wo(dt),Ae=ve=0,oe.startX=oe.x=dt.clientX,oe.startY=oe.y=dt.clientY,oe._vx.reset(),oe._vy.reset(),xn(q?o:Be,is[1],Je,ze,!0),oe.deltaX=oe.deltaY=0,D&&D(oe))},Te=oe.onRelease=function(dt){if(!ct(dt,1)){gn(q?o:Be,is[1],Je,!0);var Ee=!isNaN(oe.y-oe.startY),_t=oe.isDragging,Oe=_t&&(Math.abs(oe.x-oe.startX)>3||Math.abs(oe.y-oe.startY)>3),at=wo(dt);!Oe&&Ee&&(oe._vx.reset(),oe._vy.reset(),p&&se&&Zr.delayedCall(.08,function(){if(To()-lt>300&&!dt.defaultPrevented){if(dt.target.click)dt.target.click();else if(Be.createEvent){var Ve=Be.createEvent("MouseEvents");Ve.initMouseEvent("click",!0,!0,zn,1,at.screenX,at.screenY,at.clientX,at.clientY,!1,!1,!1,!1,0,null),dt.target.dispatchEvent(Ve)}}})),oe.isDragging=oe.isGesturing=oe.isPressed=!1,g&&_t&&!q&&xe.restart(!0),ke&&ht(),w&&_t&&w(oe),F&&F(oe,Oe)}},ft=function(Ee){return Ee.touches&&Ee.touches.length>1&&(oe.isGesturing=!0)&&ee(Ee,oe.isDragging)},Ot=function(){return(oe.isGesturing=!1)||V(oe)},pt=function(Ee){if(!ct(Ee)){var _t=Ie(),Oe=Me();gt((_t-He)*J,(Oe-ot)*J,1),He=_t,ot=Oe,g&&xe.restart(!0)}},Ze=function(Ee){if(!ct(Ee)){Ee=wo(Ee,p),pe&&(Pe=!0);var _t=(Ee.deltaMode===1?d:Ee.deltaMode===2?zn.innerHeight:1)*y;gt(Ee.deltaX*_t,Ee.deltaY*_t,0),g&&!q&&xe.restart(!0)}},Pt=function(Ee){if(!ct(Ee)){var _t=Ee.clientX,Oe=Ee.clientY,at=_t-oe.x,Ve=Oe-oe.y;oe.x=_t,oe.y=Oe,we=!0,g&&xe.restart(!0),(at||Ve)&&$t(at,Ve)}},Nn=function(Ee){oe.event=Ee,G(oe)},rr=function(Ee){oe.event=Ee,le(oe)},dn=function(Ee){return ct(Ee)||wo(Ee,p)&&Y(oe)};xe=oe._dc=Zr.delayedCall(b||.25,yt).pause(),oe.deltaX=oe.deltaY=0,oe._vx=Jd(0,50,!0),oe._vy=Jd(0,50,!0),oe.scrollX=Ie,oe.scrollY=Me,oe.isDragging=oe.isGesturing=oe.isPressed=!1,Hp(this),oe.enable=function(dt){return oe.isEnabled||(xn(qe?Be:o,"scroll",Xd),l.indexOf("scroll")>=0&&xn(qe?Be:o,"scroll",pt,ze,Z),l.indexOf("wheel")>=0&&xn(o,"wheel",Ze,ze,Z),(l.indexOf("touch")>=0&&Up||l.indexOf("pointer")>=0)&&(xn(o,is[0],qt,ze,Z),xn(Be,is[2],Te),xn(Be,is[3],Te),se&&xn(o,"click",Ue,!0,!0),Y&&xn(o,"click",dn),ee&&xn(Be,"gesturestart",ft),V&&xn(Be,"gestureend",Ot),G&&xn(o,Yi+"enter",Nn),le&&xn(o,Yi+"leave",rr),fe&&xn(o,Yi+"move",Pt)),oe.isEnabled=!0,oe.isDragging=oe.isGesturing=oe.isPressed=we=ke=!1,oe._vx.reset(),oe._vy.reset(),He=Ie(),ot=Me(),dt&&dt.type&&qt(dt),P&&P(oe)),oe},oe.disable=function(){oe.isEnabled&&(Ia.filter(function(dt){return dt!==oe&&Oo(dt.target)}).length||gn(qe?Be:o,"scroll",Xd),oe.isPressed&&(oe._vx.reset(),oe._vy.reset(),gn(q?o:Be,is[1],Je,!0)),gn(qe?Be:o,"scroll",pt,Z),gn(o,"wheel",Ze,Z),gn(o,is[0],qt,Z),gn(Be,is[2],Te),gn(Be,is[3],Te),gn(o,"click",Ue,!0),gn(o,"click",dn),gn(Be,"gesturestart",ft),gn(Be,"gestureend",Ot),gn(o,Yi+"enter",Nn),gn(o,Yi+"leave",rr),gn(o,Yi+"move",Pt),oe.isEnabled=oe.isPressed=oe.isDragging=!1,M&&M(oe))},oe.kill=oe.revert=function(){oe.disable();var dt=Ia.indexOf(oe);dt>=0&&Ia.splice(dt,1),Zs===oe&&(Zs=0)},Ia.push(oe),q&&Oo(o)&&(Zs=oe),oe.enable(j)},V1(r,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),r})();Er.version="3.14.1";Er.create=function(r){return new Er(r)};Er.register=Gp;Er.getAll=function(){return Ia.slice()};Er.getById=function(r){return Ia.filter(function(e){return e.vars.id===r})[0]};Wp()&&Zr.registerPlugin(Er);/*!
 * ScrollTrigger 3.14.1
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ye,La,Et,ir,Un,Gt,_u,bc,Yo,Ro,Lo,Ol,on,Fc,Zd,vn,Eh,Fh,Ca,Yp,pd,Kp,bn,Qd,Xp,Jp,_i,eu,Su,Ra,ku,Do,tu,md,Rl=1,ln=Date.now,gd=ln(),Jn=0,Co=0,Ih=function(e,t,n){var i=qn(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=i,i?e.substr(6,e.length-7):e},Th=function(e,t){return t&&(!qn(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},K1=function r(){return Co&&requestAnimationFrame(r)},Oh=function(){return Fc=1},Rh=function(){return Fc=0},ys=function(e){return e},Po=function(e){return Math.round(e*1e5)/1e5||0},Zp=function(){return typeof window<"u"},Qp=function(){return Ye||Zp()&&(Ye=window.gsap)&&Ye.registerPlugin&&Ye},ia=function(e){return!!~_u.indexOf(e)},em=function(e){return(e==="Height"?ku:Et["inner"+e])||Un["client"+e]||Gt["client"+e]},tm=function(e){return Ci(e,"getBoundingClientRect")||(ia(e)?function(){return ac.width=Et.innerWidth,ac.height=ku,ac}:function(){return Js(e)})},X1=function(e,t,n){var i=n.d,a=n.d2,l=n.a;return(l=Ci(e,"getBoundingClientRect"))?function(){return l()[i]}:function(){return(t?em(a):e["client"+a])||0}},J1=function(e,t){return!t||~Ss.indexOf(e)?tm(e):function(){return ac}},Ns=function(e,t){var n=t.s,i=t.d2,a=t.d,l=t.a;return Math.max(0,(n="scroll"+i)&&(l=Ci(e,n))?l()-tm(e)()[a]:ia(e)?(Un[n]||Gt[n])-em(i):e[n]-e["offset"+i])},Dl=function(e,t){for(var n=0;n<Ca.length;n+=3)(!t||~t.indexOf(Ca[n+1]))&&e(Ca[n],Ca[n+1],Ca[n+2])},qn=function(e){return typeof e=="string"},cn=function(e){return typeof e=="function"},Eo=function(e){return typeof e=="number"},Ki=function(e){return typeof e=="object"},No=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},xd=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},ja=Math.abs,rm="left",nm="top",Au="right",Lu="bottom",ta="width",ra="height",Mo="Right",Bo="Left",qo="Top",Uo="Bottom",Or="padding",Kn="margin",$a="Width",Cu="Height",zr="px",Xn=function(e){return Et.getComputedStyle(e)},Z1=function(e){var t=Xn(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},Dh=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Js=function(e,t){var n=t&&Xn(e)[Zd]!=="matrix(1, 0, 0, 1, 0, 0)"&&Ye.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return n&&n.progress(0).kill(),i},vc=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},sm=function(e){var t=[],n=e.labels,i=e.duration(),a;for(a in n)t.push(n[a]/i);return t},Q1=function(e){return function(t){return Ye.utils.snap(sm(e),t)}},Pu=function(e){var t=Ye.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(i,a){return i-a});return n?function(i,a,l){l===void 0&&(l=.001);var o;if(!a)return t(i);if(a>0){for(i-=l,o=0;o<n.length;o++)if(n[o]>=i)return n[o];return n[o-1]}else for(o=n.length,i+=l;o--;)if(n[o]<=i)return n[o];return n[0]}:function(i,a,l){l===void 0&&(l=.001);var o=t(i);return!a||Math.abs(o-i)<l||o-i<0==a<0?o:t(a<0?i-e:i+e)}},e2=function(e){return function(t,n){return Pu(sm(e))(t,n.direction)}},Ml=function(e,t,n,i){return n.split(",").forEach(function(a){return e(t,a,i)})},$r=function(e,t,n,i,a){return e.addEventListener(t,n,{passive:!i,capture:!!a})},Wr=function(e,t,n,i){return e.removeEventListener(t,n,!!i)},Bl=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},Mh={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},ql={toggleActions:"play",anticipatePin:0},yc={top:0,left:0,center:.5,bottom:1,right:1},rc=function(e,t){if(qn(e)){var n=e.indexOf("="),i=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(i*=t/100),e=e.substr(0,n-1)),e=i+(e in yc?yc[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Ul=function(e,t,n,i,a,l,o,d){var u=a.startColor,p=a.endColor,g=a.fontSize,b=a.indent,f=a.fontWeight,y=ir.createElement("div"),j=ia(n)||Ci(n,"pinType")==="fixed",_=e.indexOf("scroller")!==-1,w=j?Gt:n,U=e.indexOf("start")!==-1,D=U?u:p,F="border-color:"+D+";font-size:"+g+";color:"+D+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return F+="position:"+((_||d)&&j?"fixed;":"absolute;"),(_||d||!j)&&(F+=(i===Hr?Au:Lu)+":"+(l+parseFloat(b))+"px;"),o&&(F+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),y._isStart=U,y.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),y.style.cssText=F,y.innerText=t||t===0?e+"-"+t:e,w.children[0]?w.insertBefore(y,w.children[0]):w.appendChild(y),y._offset=y["offset"+i.op.d2],nc(y,0,i,U),y},nc=function(e,t,n,i){var a={display:"block"},l=n[i?"os2":"p2"],o=n[i?"p2":"os2"];e._isFlipped=i,a[n.a+"Percent"]=i?-100:0,a[n.a]=i?"1px":0,a["border"+l+$a]=1,a["border"+o+$a]=0,a[n.p]=t+"px",Ye.set(e,a)},Ct=[],ru={},Ko,Bh=function(){return ln()-Jn>34&&(Ko||(Ko=requestAnimationFrame(ei)))},_a=function(){(!bn||!bn.isPressed||bn.startX>Gt.clientWidth)&&(Ft.cache++,bn?Ko||(Ko=requestAnimationFrame(ei)):ei(),Jn||oa("scrollStart"),Jn=ln())},bd=function(){Jp=Et.innerWidth,Xp=Et.innerHeight},Fo=function(e){Ft.cache++,(e===!0||!on&&!Kp&&!ir.fullscreenElement&&!ir.webkitFullscreenElement&&(!Qd||Jp!==Et.innerWidth||Math.abs(Et.innerHeight-Xp)>Et.innerHeight*.25))&&bc.restart(!0)},aa={},t2=[],im=function r(){return Wr(Tt,"scrollEnd",r)||Zi(!0)},oa=function(e){return aa[e]&&aa[e].map(function(t){return t()})||t2},Bn=[],am=function(e){for(var t=0;t<Bn.length;t+=5)(!e||Bn[t+4]&&Bn[t+4].query===e)&&(Bn[t].style.cssText=Bn[t+1],Bn[t].getBBox&&Bn[t].setAttribute("transform",Bn[t+2]||""),Bn[t+3].uncache=1)},om=function(){return Ft.forEach(function(e){return cn(e)&&++e.cacheID&&(e.rec=e())})},Eu=function(e,t){var n;for(vn=0;vn<Ct.length;vn++)n=Ct[vn],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));Do=!0,t&&am(t),t||oa("revert")},lm=function(e,t){Ft.cache++,(t||!yn)&&Ft.forEach(function(n){return cn(n)&&n.cacheID++&&(n.rec=0)}),qn(e)&&(Et.history.scrollRestoration=Su=e)},yn,na=0,qh,r2=function(){if(qh!==na){var e=qh=na;requestAnimationFrame(function(){return e===na&&Zi(!0)})}},cm=function(){Gt.appendChild(Ra),ku=!bn&&Ra.offsetHeight||Et.innerHeight,Gt.removeChild(Ra)},Uh=function(e){return Yo(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Zi=function(e,t){if(Un=ir.documentElement,Gt=ir.body,_u=[Et,ir,Un,Gt],Jn&&!e&&!Do){$r(Tt,"scrollEnd",im);return}cm(),yn=Tt.isRefreshing=!0,Do||om();var n=oa("refreshInit");Yp&&Tt.sort(),t||Eu(),Ft.forEach(function(i){cn(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),Ct.slice(0).forEach(function(i){return i.refresh()}),Do=!1,Ct.forEach(function(i){if(i._subPinOffset&&i.pin){var a=i.vars.horizontal?"offsetWidth":"offsetHeight",l=i.pin[a];i.revert(!0,1),i.adjustPinSpacing(i.pin[a]-l),i.refresh()}}),tu=1,Uh(!0),Ct.forEach(function(i){var a=Ns(i.scroller,i._dir),l=i.vars.end==="max"||i._endClamp&&i.end>a,o=i._startClamp&&i.start>=a;(l||o)&&i.setPositions(o?a-1:i.start,l?Math.max(o?a:i.start+1,a):i.end,!0)}),Uh(!1),tu=0,n.forEach(function(i){return i&&i.render&&i.render(-1)}),Ft.forEach(function(i){cn(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),lm(Su,1),bc.pause(),na++,yn=2,ei(2),Ct.forEach(function(i){return cn(i.vars.onRefresh)&&i.vars.onRefresh(i)}),yn=Tt.isRefreshing=!1,oa("refresh")},nu=0,sc=1,zo,ei=function(e){if(e===2||!yn&&!Do){Tt.isUpdating=!0,zo&&zo.update(0);var t=Ct.length,n=ln(),i=n-gd>=50,a=t&&Ct[0].scroll();if(sc=nu>a?-1:1,yn||(nu=a),i&&(Jn&&!Fc&&n-Jn>200&&(Jn=0,oa("scrollEnd")),Lo=gd,gd=n),sc<0){for(vn=t;vn-- >0;)Ct[vn]&&Ct[vn].update(0,i);sc=1}else for(vn=0;vn<t;vn++)Ct[vn]&&Ct[vn].update(0,i);Tt.isUpdating=!1}Ko=0},su=[rm,nm,Lu,Au,Kn+Uo,Kn+Mo,Kn+qo,Kn+Bo,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],ic=su.concat([ta,ra,"boxSizing","max"+$a,"max"+Cu,"position",Kn,Or,Or+qo,Or+Mo,Or+Uo,Or+Bo]),n2=function(e,t,n){Da(n);var i=e._gsap;if(i.spacerIsNative)Da(i.spacerState);else if(e._gsap.swappedIn){var a=t.parentNode;a&&(a.insertBefore(e,t),a.removeChild(t))}e._gsap.swappedIn=!1},vd=function(e,t,n,i){if(!e._gsap.swappedIn){for(var a=su.length,l=t.style,o=e.style,d;a--;)d=su[a],l[d]=n[d];l.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(l.display="inline-block"),o[Lu]=o[Au]="auto",l.flexBasis=n.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[ta]=vc(e,wn)+zr,l[ra]=vc(e,Hr)+zr,l[Or]=o[Kn]=o[nm]=o[rm]="0",Da(i),o[ta]=o["max"+$a]=n[ta],o[ra]=o["max"+Cu]=n[ra],o[Or]=n[Or],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},s2=/([A-Z])/g,Da=function(e){if(e){var t=e.t.style,n=e.length,i=0,a,l;for((e.t._gsap||Ye.core.getCache(e.t)).uncache=1;i<n;i+=2)l=e[i+1],a=e[i],l?t[a]=l:t[a]&&t.removeProperty(a.replace(s2,"-$1").toLowerCase())}},zl=function(e){for(var t=ic.length,n=e.style,i=[],a=0;a<t;a++)i.push(ic[a],n[ic[a]]);return i.t=e,i},i2=function(e,t,n){for(var i=[],a=e.length,l=n?8:0,o;l<a;l+=2)o=e[l],i.push(o,o in t?t[o]:e[l+1]);return i.t=e.t,i},ac={left:0,top:0},zh=function(e,t,n,i,a,l,o,d,u,p,g,b,f,y){cn(e)&&(e=e(d)),qn(e)&&e.substr(0,3)==="max"&&(e=b+(e.charAt(4)==="="?rc("0"+e.substr(3),n):0));var j=f?f.time():0,_,w,U;if(f&&f.seek(0),isNaN(e)||(e=+e),Eo(e))f&&(e=Ye.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,b,e)),o&&nc(o,n,i,!0);else{cn(t)&&(t=t(d));var D=(e||"0").split(" "),F,te,X,K;U=kn(t,d)||Gt,F=Js(U)||{},(!F||!F.left&&!F.top)&&Xn(U).display==="none"&&(K=U.style.display,U.style.display="block",F=Js(U),K?U.style.display=K:U.style.removeProperty("display")),te=rc(D[0],F[i.d]),X=rc(D[1]||"0",n),e=F[i.p]-u[i.p]-p+te+a-X,o&&nc(o,X,i,n-X<20||o._isStart&&X>20),n-=n-X}if(y&&(d[y]=e||-.001,e<0&&(e=0)),l){var k=e+n,N=l._isStart;_="scroll"+i.d2,nc(l,k,i,N&&k>20||!N&&(g?Math.max(Gt[_],Un[_]):l.parentNode[_])<=k+1),g&&(u=Js(o),g&&(l.style[i.op.p]=u[i.op.p]-i.op.m-l._offset+zr))}return f&&U&&(_=Js(U),f.seek(b),w=Js(U),f._caScrollDist=_[i.p]-w[i.p],e=e/f._caScrollDist*b),f&&f.seek(j),f?e:Math.round(e)},a2=/(webkit|moz|length|cssText|inset)/i,Hh=function(e,t,n,i){if(e.parentNode!==t){var a=e.style,l,o;if(t===Gt){e._stOrig=a.cssText,o=Xn(e);for(l in o)!+l&&!a2.test(l)&&o[l]&&typeof a[l]=="string"&&l!=="0"&&(a[l]=o[l]);a.top=n,a.left=i}else a.cssText=e._stOrig;Ye.core.getCache(e).uncache=1,t.appendChild(e)}},dm=function(e,t,n){var i=t,a=i;return function(l){var o=Math.round(e());return o!==i&&o!==a&&Math.abs(o-i)>3&&Math.abs(o-a)>3&&(l=o,n&&n()),a=i,i=Math.round(l),i}},Hl=function(e,t,n){var i={};i[t.p]="+="+n,Ye.set(e,i)},Wh=function(e,t){var n=Ei(e,t),i="_scroll"+t.p2,a=function l(o,d,u,p,g){var b=l.tween,f=d.onComplete,y={};u=u||n();var j=dm(n,u,function(){b.kill(),l.tween=0});return g=p&&g||0,p=p||o-u,b&&b.kill(),d[i]=o,d.inherit=!1,d.modifiers=y,y[i]=function(){return j(u+p*b.ratio+g*b.ratio*b.ratio)},d.onUpdate=function(){Ft.cache++,l.tween&&ei()},d.onComplete=function(){l.tween=0,f&&f.call(b)},b=l.tween=Ye.to(e,d),b};return e[i]=n,n.wheelHandler=function(){return a.tween&&a.tween.kill()&&(a.tween=0)},$r(e,"wheel",n.wheelHandler),Tt.isTouch&&$r(e,"touchmove",n.wheelHandler),a},Tt=(function(){function r(t,n){La||r.register(Ye)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),eu(this),this.init(t,n)}var e=r.prototype;return e.init=function(n,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Co){this.update=this.refresh=this.kill=ys;return}n=Dh(qn(n)||Eo(n)||n.nodeType?{trigger:n}:n,ql);var a=n,l=a.onUpdate,o=a.toggleClass,d=a.id,u=a.onToggle,p=a.onRefresh,g=a.scrub,b=a.trigger,f=a.pin,y=a.pinSpacing,j=a.invalidateOnRefresh,_=a.anticipatePin,w=a.onScrubComplete,U=a.onSnapComplete,D=a.once,F=a.snap,te=a.pinReparent,X=a.pinSpacer,K=a.containerAnimation,k=a.fastScrollEnd,N=a.preventOverlaps,T=n.horizontal||n.containerAnimation&&n.horizontal!==!1?wn:Hr,S=!g&&g!==0,C=kn(n.scroller||Et),W=Ye.core.getCache(C),G=ia(C),le=("pinType"in n?n.pinType:Ci(C,"pinType")||G&&"fixed")==="fixed",fe=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],ne=S&&n.toggleActions.split(" "),q="markers"in n?n.markers:ql.markers,ee=G?0:parseFloat(Xn(C)["border"+T.p2+$a])||0,V=this,pe=n.onRefreshInit&&function(){return n.onRefreshInit(V)},P=X1(C,G,T),M=J1(C,G),Y=0,J=0,Z=0,se=Ei(C,T),ae,ce,be,xe,ke,we,Pe,R,Ne,oe,Ae,ve,ze,Ie,Me,He,ot,We,qe,Be,rt,De,lt,Ue,ct,yt,ht,gt,$t,Je,qt,Te,ft,Ot,pt,Ze,Pt,Nn,rr;if(V._startClamp=V._endClamp=!1,V._dir=T,_*=45,V.scroller=C,V.scroll=K?K.time.bind(K):se,xe=se(),V.vars=n,i=i||n.animation,"refreshPriority"in n&&(Yp=1,n.refreshPriority===-9999&&(zo=V)),W.tweenScroll=W.tweenScroll||{top:Wh(C,Hr),left:Wh(C,wn)},V.tweenTo=ae=W.tweenScroll[T.p],V.scrubDuration=function(Oe){ft=Eo(Oe)&&Oe,ft?Te?Te.duration(Oe):Te=Ye.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:ft,paused:!0,onComplete:function(){return w&&w(V)}}):(Te&&Te.progress(1).kill(),Te=0)},i&&(i.vars.lazy=!1,i._initted&&!V.isReverted||i.vars.immediateRender!==!1&&n.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),V.animation=i.pause(),i.scrollTrigger=V,V.scrubDuration(g),Je=0,d||(d=i.vars.id)),F&&((!Ki(F)||F.push)&&(F={snapTo:F}),"scrollBehavior"in Gt.style&&Ye.set(G?[Gt,Un]:C,{scrollBehavior:"auto"}),Ft.forEach(function(Oe){return cn(Oe)&&Oe.target===(G?ir.scrollingElement||Un:C)&&(Oe.smooth=!1)}),be=cn(F.snapTo)?F.snapTo:F.snapTo==="labels"?Q1(i):F.snapTo==="labelsDirectional"?e2(i):F.directional!==!1?function(Oe,at){return Pu(F.snapTo)(Oe,ln()-J<500?0:at.direction)}:Ye.utils.snap(F.snapTo),Ot=F.duration||{min:.1,max:2},Ot=Ki(Ot)?Ro(Ot.min,Ot.max):Ro(Ot,Ot),pt=Ye.delayedCall(F.delay||ft/2||.1,function(){var Oe=se(),at=ln()-J<500,Ve=ae.tween;if((at||Math.abs(V.getVelocity())<10)&&!Ve&&!Fc&&Y!==Oe){var $e=(Oe-we)/Ie,It=i&&!S?i.totalProgress():$e,ut=at?0:(It-qt)/(ln()-Lo)*1e3||0,Yt=Ye.utils.clamp(-$e,1-$e,ja(ut/2)*ut/.185),ar=$e+(F.inertia===!1?0:Yt),Ut,Mt,Lt=F,pr=Lt.onStart,Rt=Lt.onInterrupt,wr=Lt.onComplete;if(Ut=be(ar,V),Eo(Ut)||(Ut=ar),Mt=Math.max(0,Math.round(we+Ut*Ie)),Oe<=Pe&&Oe>=we&&Mt!==Oe){if(Ve&&!Ve._initted&&Ve.data<=ja(Mt-Oe))return;F.inertia===!1&&(Yt=Ut-$e),ae(Mt,{duration:Ot(ja(Math.max(ja(ar-It),ja(Ut-It))*.185/ut/.05||0)),ease:F.ease||"power3",data:ja(Mt-Oe),onInterrupt:function(){return pt.restart(!0)&&Rt&&Rt(V)},onComplete:function(){V.update(),Y=se(),i&&!S&&(Te?Te.resetTo("totalProgress",Ut,i._tTime/i._tDur):i.progress(Ut)),Je=qt=i&&!S?i.totalProgress():V.progress,U&&U(V),wr&&wr(V)}},Oe,Yt*Ie,Mt-Oe-Yt*Ie),pr&&pr(V,ae.tween)}}else V.isActive&&Y!==Oe&&pt.restart(!0)}).pause()),d&&(ru[d]=V),b=V.trigger=kn(b||f!==!0&&f),rr=b&&b._gsap&&b._gsap.stRevert,rr&&(rr=rr(V)),f=f===!0?b:kn(f),qn(o)&&(o={targets:b,className:o}),f&&(y===!1||y===Kn||(y=!y&&f.parentNode&&f.parentNode.style&&Xn(f.parentNode).display==="flex"?!1:Or),V.pin=f,ce=Ye.core.getCache(f),ce.spacer?Me=ce.pinState:(X&&(X=kn(X),X&&!X.nodeType&&(X=X.current||X.nativeElement),ce.spacerIsNative=!!X,X&&(ce.spacerState=zl(X))),ce.spacer=We=X||ir.createElement("div"),We.classList.add("pin-spacer"),d&&We.classList.add("pin-spacer-"+d),ce.pinState=Me=zl(f)),n.force3D!==!1&&Ye.set(f,{force3D:!0}),V.spacer=We=ce.spacer,$t=Xn(f),Ue=$t[y+T.os2],Be=Ye.getProperty(f),rt=Ye.quickSetter(f,T.a,zr),vd(f,We,$t),ot=zl(f)),q){ve=Ki(q)?Dh(q,Mh):Mh,oe=Ul("scroller-start",d,C,T,ve,0),Ae=Ul("scroller-end",d,C,T,ve,0,oe),qe=oe["offset"+T.op.d2];var dn=kn(Ci(C,"content")||C);R=this.markerStart=Ul("start",d,dn,T,ve,qe,0,K),Ne=this.markerEnd=Ul("end",d,dn,T,ve,qe,0,K),K&&(Nn=Ye.quickSetter([R,Ne],T.a,zr)),!le&&!(Ss.length&&Ci(C,"fixedMarkers")===!0)&&(Z1(G?Gt:C),Ye.set([oe,Ae],{force3D:!0}),yt=Ye.quickSetter(oe,T.a,zr),gt=Ye.quickSetter(Ae,T.a,zr))}if(K){var dt=K.vars.onUpdate,Ee=K.vars.onUpdateParams;K.eventCallback("onUpdate",function(){V.update(0,0,1),dt&&dt.apply(K,Ee||[])})}if(V.previous=function(){return Ct[Ct.indexOf(V)-1]},V.next=function(){return Ct[Ct.indexOf(V)+1]},V.revert=function(Oe,at){if(!at)return V.kill(!0);var Ve=Oe!==!1||!V.enabled,$e=on;Ve!==V.isReverted&&(Ve&&(Ze=Math.max(se(),V.scroll.rec||0),Z=V.progress,Pt=i&&i.progress()),R&&[R,Ne,oe,Ae].forEach(function(It){return It.style.display=Ve?"none":"block"}),Ve&&(on=V,V.update(Ve)),f&&(!te||!V.isActive)&&(Ve?n2(f,We,Me):vd(f,We,Xn(f),ct)),Ve||V.update(Ve),on=$e,V.isReverted=Ve)},V.refresh=function(Oe,at,Ve,$e){if(!((on||!V.enabled)&&!at)){if(f&&Oe&&Jn){$r(r,"scrollEnd",im);return}!yn&&pe&&pe(V),on=V,ae.tween&&!Ve&&(ae.tween.kill(),ae.tween=0),Te&&Te.pause(),j&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren?i.getChildren(!0,!0,!1).forEach(function(Cn){return Cn.vars.immediateRender&&Cn.render(0,!0,!0)}):i.vars.immediateRender&&i.render(0,!0,!0)),V.isReverted||V.revert(!0,!0),V._subPinOffset=!1;var It=P(),ut=M(),Yt=K?K.duration():Ns(C,T),ar=Ie<=.01||!Ie,Ut=0,Mt=$e||0,Lt=Ki(Ve)?Ve.end:n.end,pr=n.endTrigger||b,Rt=Ki(Ve)?Ve.start:n.start||(n.start===0||!b?0:f?"0 0":"0 100%"),wr=V.pinnedContainer=n.pinnedContainer&&kn(n.pinnedContainer,V),Nr=b&&Math.max(0,Ct.indexOf(V))||0,or=Nr,ur,mr,jn,si,xr,hr,un,Qr,ii,ds,en,us,Ps;for(q&&Ki(Ve)&&(us=Ye.getProperty(oe,T.p),Ps=Ye.getProperty(Ae,T.p));or-- >0;)hr=Ct[or],hr.end||hr.refresh(0,1)||(on=V),un=hr.pin,un&&(un===b||un===f||un===wr)&&!hr.isReverted&&(ds||(ds=[]),ds.unshift(hr),hr.revert(!0,!0)),hr!==Ct[or]&&(Nr--,or--);for(cn(Rt)&&(Rt=Rt(V)),Rt=Ih(Rt,"start",V),we=zh(Rt,b,It,T,se(),R,oe,V,ut,ee,le,Yt,K,V._startClamp&&"_startClamp")||(f?-.001:0),cn(Lt)&&(Lt=Lt(V)),qn(Lt)&&!Lt.indexOf("+=")&&(~Lt.indexOf(" ")?Lt=(qn(Rt)?Rt.split(" ")[0]:"")+Lt:(Ut=rc(Lt.substr(2),It),Lt=qn(Rt)?Rt:(K?Ye.utils.mapRange(0,K.duration(),K.scrollTrigger.start,K.scrollTrigger.end,we):we)+Ut,pr=b)),Lt=Ih(Lt,"end",V),Pe=Math.max(we,zh(Lt||(pr?"100% 0":Yt),pr,It,T,se()+Ut,Ne,Ae,V,ut,ee,le,Yt,K,V._endClamp&&"_endClamp"))||-.001,Ut=0,or=Nr;or--;)hr=Ct[or]||{},un=hr.pin,un&&hr.start-hr._pinPush<=we&&!K&&hr.end>0&&(ur=hr.end-(V._startClamp?Math.max(0,hr.start):hr.start),(un===b&&hr.start-hr._pinPush<we||un===wr)&&isNaN(Rt)&&(Ut+=ur*(1-hr.progress)),un===f&&(Mt+=ur));if(we+=Ut,Pe+=Ut,V._startClamp&&(V._startClamp+=Ut),V._endClamp&&!yn&&(V._endClamp=Pe||-.001,Pe=Math.min(Pe,Ns(C,T))),Ie=Pe-we||(we-=.01)&&.001,ar&&(Z=Ye.utils.clamp(0,1,Ye.utils.normalize(we,Pe,Ze))),V._pinPush=Mt,R&&Ut&&(ur={},ur[T.a]="+="+Ut,wr&&(ur[T.p]="-="+se()),Ye.set([R,Ne],ur)),f&&!(tu&&V.end>=Ns(C,T)))ur=Xn(f),si=T===Hr,jn=se(),De=parseFloat(Be(T.a))+Mt,!Yt&&Pe>1&&(en=(G?ir.scrollingElement||Un:C).style,en={style:en,value:en["overflow"+T.a.toUpperCase()]},G&&Xn(Gt)["overflow"+T.a.toUpperCase()]!=="scroll"&&(en.style["overflow"+T.a.toUpperCase()]="scroll")),vd(f,We,ur),ot=zl(f),mr=Js(f,!0),Qr=le&&Ei(C,si?wn:Hr)(),y?(ct=[y+T.os2,Ie+Mt+zr],ct.t=We,or=y===Or?vc(f,T)+Ie+Mt:0,or&&(ct.push(T.d,or+zr),We.style.flexBasis!=="auto"&&(We.style.flexBasis=or+zr)),Da(ct),wr&&Ct.forEach(function(Cn){Cn.pin===wr&&Cn.vars.pinSpacing!==!1&&(Cn._subPinOffset=!0)}),le&&se(Ze)):(or=vc(f,T),or&&We.style.flexBasis!=="auto"&&(We.style.flexBasis=or+zr)),le&&(xr={top:mr.top+(si?jn-we:Qr)+zr,left:mr.left+(si?Qr:jn-we)+zr,boxSizing:"border-box",position:"fixed"},xr[ta]=xr["max"+$a]=Math.ceil(mr.width)+zr,xr[ra]=xr["max"+Cu]=Math.ceil(mr.height)+zr,xr[Kn]=xr[Kn+qo]=xr[Kn+Mo]=xr[Kn+Uo]=xr[Kn+Bo]="0",xr[Or]=ur[Or],xr[Or+qo]=ur[Or+qo],xr[Or+Mo]=ur[Or+Mo],xr[Or+Uo]=ur[Or+Uo],xr[Or+Bo]=ur[Or+Bo],He=i2(Me,xr,te),yn&&se(0)),i?(ii=i._initted,pd(1),i.render(i.duration(),!0,!0),lt=Be(T.a)-De+Ie+Mt,ht=Math.abs(Ie-lt)>1,le&&ht&&He.splice(He.length-2,2),i.render(0,!0,!0),ii||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),pd(0)):lt=Ie,en&&(en.value?en.style["overflow"+T.a.toUpperCase()]=en.value:en.style.removeProperty("overflow-"+T.a));else if(b&&se()&&!K)for(mr=b.parentNode;mr&&mr!==Gt;)mr._pinOffset&&(we-=mr._pinOffset,Pe-=mr._pinOffset),mr=mr.parentNode;ds&&ds.forEach(function(Cn){return Cn.revert(!1,!0)}),V.start=we,V.end=Pe,xe=ke=yn?Ze:se(),!K&&!yn&&(xe<Ze&&se(Ze),V.scroll.rec=0),V.revert(!1,!0),J=ln(),pt&&(Y=-1,pt.restart(!0)),on=0,i&&S&&(i._initted||Pt)&&i.progress()!==Pt&&i.progress(Pt||0,!0).render(i.time(),!0,!0),(ar||Z!==V.progress||K||j||i&&!i._initted)&&(i&&!S&&(i._initted||Z||i.vars.immediateRender!==!1)&&i.totalProgress(K&&we<-.001&&!Z?Ye.utils.normalize(we,Pe,0):Z,!0),V.progress=ar||(xe-we)/Ie===Z?0:Z),f&&y&&(We._pinOffset=Math.round(V.progress*lt)),Te&&Te.invalidate(),isNaN(us)||(us-=Ye.getProperty(oe,T.p),Ps-=Ye.getProperty(Ae,T.p),Hl(oe,T,us),Hl(R,T,us-($e||0)),Hl(Ae,T,Ps),Hl(Ne,T,Ps-($e||0))),ar&&!yn&&V.update(),p&&!yn&&!ze&&(ze=!0,p(V),ze=!1)}},V.getVelocity=function(){return(se()-ke)/(ln()-Lo)*1e3||0},V.endAnimation=function(){No(V.callbackAnimation),i&&(Te?Te.progress(1):i.paused()?S||No(i,V.direction<0,1):No(i,i.reversed()))},V.labelToScroll=function(Oe){return i&&i.labels&&(we||V.refresh()||we)+i.labels[Oe]/i.duration()*Ie||0},V.getTrailing=function(Oe){var at=Ct.indexOf(V),Ve=V.direction>0?Ct.slice(0,at).reverse():Ct.slice(at+1);return(qn(Oe)?Ve.filter(function($e){return $e.vars.preventOverlaps===Oe}):Ve).filter(function($e){return V.direction>0?$e.end<=we:$e.start>=Pe})},V.update=function(Oe,at,Ve){if(!(K&&!Ve&&!Oe)){var $e=yn===!0?Ze:V.scroll(),It=Oe?0:($e-we)/Ie,ut=It<0?0:It>1?1:It||0,Yt=V.progress,ar,Ut,Mt,Lt,pr,Rt,wr,Nr;if(at&&(ke=xe,xe=K?se():$e,F&&(qt=Je,Je=i&&!S?i.totalProgress():ut)),_&&f&&!on&&!Rl&&Jn&&(!ut&&we<$e+($e-ke)/(ln()-Lo)*_?ut=1e-4:ut===1&&Pe>$e+($e-ke)/(ln()-Lo)*_&&(ut=.9999)),ut!==Yt&&V.enabled){if(ar=V.isActive=!!ut&&ut<1,Ut=!!Yt&&Yt<1,Rt=ar!==Ut,pr=Rt||!!ut!=!!Yt,V.direction=ut>Yt?1:-1,V.progress=ut,pr&&!on&&(Mt=ut&&!Yt?0:ut===1?1:Yt===1?2:3,S&&(Lt=!Rt&&ne[Mt+1]!=="none"&&ne[Mt+1]||ne[Mt],Nr=i&&(Lt==="complete"||Lt==="reset"||Lt in i))),N&&(Rt||Nr)&&(Nr||g||!i)&&(cn(N)?N(V):V.getTrailing(N).forEach(function(jn){return jn.endAnimation()})),S||(Te&&!on&&!Rl?(Te._dp._time-Te._start!==Te._time&&Te.render(Te._dp._time-Te._start),Te.resetTo?Te.resetTo("totalProgress",ut,i._tTime/i._tDur):(Te.vars.totalProgress=ut,Te.invalidate().restart())):i&&i.totalProgress(ut,!!(on&&(J||Oe)))),f){if(Oe&&y&&(We.style[y+T.os2]=Ue),!le)rt(Po(De+lt*ut));else if(pr){if(wr=!Oe&&ut>Yt&&Pe+1>$e&&$e+1>=Ns(C,T),te)if(!Oe&&(ar||wr)){var or=Js(f,!0),ur=$e-we;Hh(f,Gt,or.top+(T===Hr?ur:0)+zr,or.left+(T===Hr?0:ur)+zr)}else Hh(f,We);Da(ar||wr?He:ot),ht&&ut<1&&ar||rt(De+(ut===1&&!wr?lt:0))}}F&&!ae.tween&&!on&&!Rl&&pt.restart(!0),o&&(Rt||D&&ut&&(ut<1||!md))&&Yo(o.targets).forEach(function(jn){return jn.classList[ar||D?"add":"remove"](o.className)}),l&&!S&&!Oe&&l(V),pr&&!on?(S&&(Nr&&(Lt==="complete"?i.pause().totalProgress(1):Lt==="reset"?i.restart(!0).pause():Lt==="restart"?i.restart(!0):i[Lt]()),l&&l(V)),(Rt||!md)&&(u&&Rt&&xd(V,u),fe[Mt]&&xd(V,fe[Mt]),D&&(ut===1?V.kill(!1,1):fe[Mt]=0),Rt||(Mt=ut===1?1:3,fe[Mt]&&xd(V,fe[Mt]))),k&&!ar&&Math.abs(V.getVelocity())>(Eo(k)?k:2500)&&(No(V.callbackAnimation),Te?Te.progress(1):No(i,Lt==="reverse"?1:!ut,1))):S&&l&&!on&&l(V)}if(gt){var mr=K?$e/K.duration()*(K._caScrollDist||0):$e;yt(mr+(oe._isFlipped?1:0)),gt(mr)}Nn&&Nn(-$e/K.duration()*(K._caScrollDist||0))}},V.enable=function(Oe,at){V.enabled||(V.enabled=!0,$r(C,"resize",Fo),G||$r(C,"scroll",_a),pe&&$r(r,"refreshInit",pe),Oe!==!1&&(V.progress=Z=0,xe=ke=Y=se()),at!==!1&&V.refresh())},V.getTween=function(Oe){return Oe&&ae?ae.tween:Te},V.setPositions=function(Oe,at,Ve,$e){if(K){var It=K.scrollTrigger,ut=K.duration(),Yt=It.end-It.start;Oe=It.start+Yt*Oe/ut,at=It.start+Yt*at/ut}V.refresh(!1,!1,{start:Th(Oe,Ve&&!!V._startClamp),end:Th(at,Ve&&!!V._endClamp)},$e),V.update()},V.adjustPinSpacing=function(Oe){if(ct&&Oe){var at=ct.indexOf(T.d)+1;ct[at]=parseFloat(ct[at])+Oe+zr,ct[1]=parseFloat(ct[1])+Oe+zr,Da(ct)}},V.disable=function(Oe,at){if(Oe!==!1&&V.revert(!0,!0),V.enabled&&(V.enabled=V.isActive=!1,at||Te&&Te.pause(),Ze=0,ce&&(ce.uncache=1),pe&&Wr(r,"refreshInit",pe),pt&&(pt.pause(),ae.tween&&ae.tween.kill()&&(ae.tween=0)),!G)){for(var Ve=Ct.length;Ve--;)if(Ct[Ve].scroller===C&&Ct[Ve]!==V)return;Wr(C,"resize",Fo),G||Wr(C,"scroll",_a)}},V.kill=function(Oe,at){V.disable(Oe,at),Te&&!at&&Te.kill(),d&&delete ru[d];var Ve=Ct.indexOf(V);Ve>=0&&Ct.splice(Ve,1),Ve===vn&&sc>0&&vn--,Ve=0,Ct.forEach(function($e){return $e.scroller===V.scroller&&(Ve=1)}),Ve||yn||(V.scroll.rec=0),i&&(i.scrollTrigger=null,Oe&&i.revert({kill:!1}),at||i.kill()),R&&[R,Ne,oe,Ae].forEach(function($e){return $e.parentNode&&$e.parentNode.removeChild($e)}),zo===V&&(zo=0),f&&(ce&&(ce.uncache=1),Ve=0,Ct.forEach(function($e){return $e.pin===f&&Ve++}),Ve||(ce.spacer=0)),n.onKill&&n.onKill(V)},Ct.push(V),V.enable(!1,!1),rr&&rr(V),i&&i.add&&!Ie){var _t=V.update;V.update=function(){V.update=_t,Ft.cache++,we||Pe||V.refresh()},Ye.delayedCall(.01,V.update),Ie=.01,we=Pe=0}else V.refresh();f&&r2()},r.register=function(n){return La||(Ye=n||Qp(),Zp()&&window.document&&r.enable(),La=Co),La},r.defaults=function(n){if(n)for(var i in n)ql[i]=n[i];return ql},r.disable=function(n,i){Co=0,Ct.forEach(function(l){return l[i?"kill":"disable"](n)}),Wr(Et,"wheel",_a),Wr(ir,"scroll",_a),clearInterval(Ol),Wr(ir,"touchcancel",ys),Wr(Gt,"touchstart",ys),Ml(Wr,ir,"pointerdown,touchstart,mousedown",Oh),Ml(Wr,ir,"pointerup,touchend,mouseup",Rh),bc.kill(),Dl(Wr);for(var a=0;a<Ft.length;a+=3)Bl(Wr,Ft[a],Ft[a+1]),Bl(Wr,Ft[a],Ft[a+2])},r.enable=function(){if(Et=window,ir=document,Un=ir.documentElement,Gt=ir.body,Ye&&(Yo=Ye.utils.toArray,Ro=Ye.utils.clamp,eu=Ye.core.context||ys,pd=Ye.core.suppressOverwrites||ys,Su=Et.history.scrollRestoration||"auto",nu=Et.pageYOffset||0,Ye.core.globals("ScrollTrigger",r),Gt)){Co=1,Ra=document.createElement("div"),Ra.style.height="100vh",Ra.style.position="absolute",cm(),K1(),Er.register(Ye),r.isTouch=Er.isTouch,_i=Er.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Qd=Er.isTouch===1,$r(Et,"wheel",_a),_u=[Et,ir,Un,Gt],Ye.matchMedia?(r.matchMedia=function(u){var p=Ye.matchMedia(),g;for(g in u)p.add(g,u[g]);return p},Ye.addEventListener("matchMediaInit",function(){om(),Eu()}),Ye.addEventListener("matchMediaRevert",function(){return am()}),Ye.addEventListener("matchMedia",function(){Zi(0,1),oa("matchMedia")}),Ye.matchMedia().add("(orientation: portrait)",function(){return bd(),bd})):console.warn("Requires GSAP 3.11.0 or later"),bd(),$r(ir,"scroll",_a);var n=Gt.hasAttribute("style"),i=Gt.style,a=i.borderTopStyle,l=Ye.core.Animation.prototype,o,d;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",o=Js(Gt),Hr.m=Math.round(o.top+Hr.sc())||0,wn.m=Math.round(o.left+wn.sc())||0,a?i.borderTopStyle=a:i.removeProperty("border-top-style"),n||(Gt.setAttribute("style",""),Gt.removeAttribute("style")),Ol=setInterval(Bh,250),Ye.delayedCall(.5,function(){return Rl=0}),$r(ir,"touchcancel",ys),$r(Gt,"touchstart",ys),Ml($r,ir,"pointerdown,touchstart,mousedown",Oh),Ml($r,ir,"pointerup,touchend,mouseup",Rh),Zd=Ye.utils.checkPrefix("transform"),ic.push(Zd),La=ln(),bc=Ye.delayedCall(.2,Zi).pause(),Ca=[ir,"visibilitychange",function(){var u=Et.innerWidth,p=Et.innerHeight;ir.hidden?(Eh=u,Fh=p):(Eh!==u||Fh!==p)&&Fo()},ir,"DOMContentLoaded",Zi,Et,"load",Zi,Et,"resize",Fo],Dl($r),Ct.forEach(function(u){return u.enable(0,1)}),d=0;d<Ft.length;d+=3)Bl(Wr,Ft[d],Ft[d+1]),Bl(Wr,Ft[d],Ft[d+2])}},r.config=function(n){"limitCallbacks"in n&&(md=!!n.limitCallbacks);var i=n.syncInterval;i&&clearInterval(Ol)||(Ol=i)&&setInterval(Bh,i),"ignoreMobileResize"in n&&(Qd=r.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(Dl(Wr)||Dl($r,n.autoRefreshEvents||"none"),Kp=(n.autoRefreshEvents+"").indexOf("resize")===-1)},r.scrollerProxy=function(n,i){var a=kn(n),l=Ft.indexOf(a),o=ia(a);~l&&Ft.splice(l,o?6:2),i&&(o?Ss.unshift(Et,i,Gt,i,Un,i):Ss.unshift(a,i))},r.clearMatchMedia=function(n){Ct.forEach(function(i){return i._ctx&&i._ctx.query===n&&i._ctx.kill(!0,!0)})},r.isInViewport=function(n,i,a){var l=(qn(n)?kn(n):n).getBoundingClientRect(),o=l[a?ta:ra]*i||0;return a?l.right-o>0&&l.left+o<Et.innerWidth:l.bottom-o>0&&l.top+o<Et.innerHeight},r.positionInViewport=function(n,i,a){qn(n)&&(n=kn(n));var l=n.getBoundingClientRect(),o=l[a?ta:ra],d=i==null?o/2:i in yc?yc[i]*o:~i.indexOf("%")?parseFloat(i)*o/100:parseFloat(i)||0;return a?(l.left+d)/Et.innerWidth:(l.top+d)/Et.innerHeight},r.killAll=function(n){if(Ct.slice(0).forEach(function(a){return a.vars.id!=="ScrollSmoother"&&a.kill()}),n!==!0){var i=aa.killAll||[];aa={},i.forEach(function(a){return a()})}},r})();Tt.version="3.14.1";Tt.saveStyles=function(r){return r?Yo(r).forEach(function(e){if(e&&e.style){var t=Bn.indexOf(e);t>=0&&Bn.splice(t,5),Bn.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Ye.core.getCache(e),eu())}}):Bn};Tt.revert=function(r,e){return Eu(!r,e)};Tt.create=function(r,e){return new Tt(r,e)};Tt.refresh=function(r){return r?Fo(!0):(La||Tt.register())&&Zi(!0)};Tt.update=function(r){return++Ft.cache&&ei(r===!0?2:0)};Tt.clearScrollMemory=lm;Tt.maxScroll=function(r,e){return Ns(r,e?wn:Hr)};Tt.getScrollFunc=function(r,e){return Ei(kn(r),e?wn:Hr)};Tt.getById=function(r){return ru[r]};Tt.getAll=function(){return Ct.filter(function(r){return r.vars.id!=="ScrollSmoother"})};Tt.isScrolling=function(){return!!Jn};Tt.snapDirectional=Pu;Tt.addEventListener=function(r,e){var t=aa[r]||(aa[r]=[]);~t.indexOf(e)||t.push(e)};Tt.removeEventListener=function(r,e){var t=aa[r],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};Tt.batch=function(r,e){var t=[],n={},i=e.interval||.016,a=e.batchMax||1e9,l=function(u,p){var g=[],b=[],f=Ye.delayedCall(i,function(){p(g,b),g=[],b=[]}).pause();return function(y){g.length||f.restart(!0),g.push(y.trigger),b.push(y),a<=g.length&&f.progress(1)}},o;for(o in e)n[o]=o.substr(0,2)==="on"&&cn(e[o])&&o!=="onRefreshInit"?l(o,e[o]):e[o];return cn(a)&&(a=a(),$r(Tt,"refresh",function(){return a=e.batchMax()})),Yo(r).forEach(function(d){var u={};for(o in n)u[o]=n[o];u.trigger=d,t.push(Tt.create(u))}),t};var $h=function(e,t,n,i){return t>i?e(i):t<0&&e(0),n>i?(i-t)/(n-t):n<0?t/(t-n):1},yd=function r(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Er.isTouch?" pinch-zoom":""):"none",e===Un&&r(Gt,t)},Wl={auto:1,scroll:1},o2=function(e){var t=e.event,n=e.target,i=e.axis,a=(t.changedTouches?t.changedTouches[0]:t).target,l=a._gsap||Ye.core.getCache(a),o=ln(),d;if(!l._isScrollT||o-l._isScrollT>2e3){for(;a&&a!==Gt&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!(Wl[(d=Xn(a)).overflowY]||Wl[d.overflowX]));)a=a.parentNode;l._isScroll=a&&a!==n&&!ia(a)&&(Wl[(d=Xn(a)).overflowY]||Wl[d.overflowX]),l._isScrollT=o}(l._isScroll||i==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},um=function(e,t,n,i){return Er.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:i=i&&o2,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return n&&$r(ir,Er.eventTypes[0],Gh,!1,!0)},onDisable:function(){return Wr(ir,Er.eventTypes[0],Gh,!0)}})},l2=/(input|label|select|textarea)/i,Vh,Gh=function(e){var t=l2.test(e.target.tagName);(t||Vh)&&(e._gsapAllow=!0,Vh=t)},c2=function(e){Ki(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,i=t.momentum,a=t.allowNestedScroll,l=t.onRelease,o,d,u=kn(e.target)||Un,p=Ye.core.globals().ScrollSmoother,g=p&&p.get(),b=_i&&(e.content&&kn(e.content)||g&&e.content!==!1&&!g.smooth()&&g.content()),f=Ei(u,Hr),y=Ei(u,wn),j=1,_=(Er.isTouch&&Et.visualViewport?Et.visualViewport.scale*Et.visualViewport.width:Et.outerWidth)/Et.innerWidth,w=0,U=cn(i)?function(){return i(o)}:function(){return i||2.8},D,F,te=um(u,e.type,!0,a),X=function(){return F=!1},K=ys,k=ys,N=function(){d=Ns(u,Hr),k=Ro(_i?1:0,d),n&&(K=Ro(0,Ns(u,wn))),D=na},T=function(){b._gsap.y=Po(parseFloat(b._gsap.y)+f.offset)+"px",b.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(b._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},S=function(){if(F){requestAnimationFrame(X);var q=Po(o.deltaY/2),ee=k(f.v-q);if(b&&ee!==f.v+f.offset){f.offset=ee-f.v;var V=Po((parseFloat(b&&b._gsap.y)||0)-f.offset);b.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+V+", 0, 1)",b._gsap.y=V+"px",f.cacheID=Ft.cache,ei()}return!0}f.offset&&T(),F=!0},C,W,G,le,fe=function(){N(),C.isActive()&&C.vars.scrollY>d&&(f()>d?C.progress(1)&&f(d):C.resetTo("scrollY",d))};return b&&Ye.set(b,{y:"+=0"}),e.ignoreCheck=function(ne){return _i&&ne.type==="touchmove"&&S()||j>1.05&&ne.type!=="touchstart"||o.isGesturing||ne.touches&&ne.touches.length>1},e.onPress=function(){F=!1;var ne=j;j=Po((Et.visualViewport&&Et.visualViewport.scale||1)/_),C.pause(),ne!==j&&yd(u,j>1.01?!0:n?!1:"x"),W=y(),G=f(),N(),D=na},e.onRelease=e.onGestureStart=function(ne,q){if(f.offset&&T(),!q)le.restart(!0);else{Ft.cache++;var ee=U(),V,pe;n&&(V=y(),pe=V+ee*.05*-ne.velocityX/.227,ee*=$h(y,V,pe,Ns(u,wn)),C.vars.scrollX=K(pe)),V=f(),pe=V+ee*.05*-ne.velocityY/.227,ee*=$h(f,V,pe,Ns(u,Hr)),C.vars.scrollY=k(pe),C.invalidate().duration(ee).play(.01),(_i&&C.vars.scrollY>=d||V>=d-1)&&Ye.to({},{onUpdate:fe,duration:ee})}l&&l(ne)},e.onWheel=function(){C._ts&&C.pause(),ln()-w>1e3&&(D=0,w=ln())},e.onChange=function(ne,q,ee,V,pe){if(na!==D&&N(),q&&n&&y(K(V[2]===q?W+(ne.startX-ne.x):y()+q-V[1])),ee){f.offset&&T();var P=pe[2]===ee,M=P?G+ne.startY-ne.y:f()+ee-pe[1],Y=k(M);P&&M!==Y&&(G+=Y-M),f(Y)}(ee||q)&&ei()},e.onEnable=function(){yd(u,n?!1:"x"),Tt.addEventListener("refresh",fe),$r(Et,"resize",fe),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=y.smooth=!1),te.enable()},e.onDisable=function(){yd(u,!0),Wr(Et,"resize",fe),Tt.removeEventListener("refresh",fe),te.kill()},e.lockAxis=e.lockAxis!==!1,o=new Er(e),o.iOS=_i,_i&&!f()&&f(1),_i&&Ye.ticker.add(ys),le=o._dc,C=Ye.to(o,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:dm(f,f(),function(){return C.pause()})},onUpdate:ei,onComplete:le.vars.onComplete}),o};Tt.sort=function(r){if(cn(r))return Ct.sort(r);var e=Et.pageYOffset||0;return Tt.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Et.innerHeight}),Ct.sort(r||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};Tt.observe=function(r){return new Er(r)};Tt.normalizeScroll=function(r){if(typeof r>"u")return bn;if(r===!0&&bn)return bn.enable();if(r===!1){bn&&bn.kill(),bn=r;return}var e=r instanceof Er?r:c2(r);return bn&&bn.target===e.target&&bn.kill(),ia(e.target)&&(bn=e),e};Tt.core={_getVelocityProp:Jd,_inputObserver:um,_scrollers:Ft,_proxies:Ss,bridge:{ss:function(){Jn||oa("scrollStart"),Jn=ln()},ref:function(){return on}}};Qp()&&Ye.registerPlugin(Tt);Ao.registerPlugin(Tt);function d2(){const[r,e]=ue.useState([]),t=ue.useRef(null);return ue.useEffect(()=>{(async()=>{try{const a=(await bt.get("/products")).data.products||[],l=a.filter(d=>d.featured),o=l.length>0?l.slice(0,4):a.slice(0,4);e(o)}catch(i){console.error("Error fetching featured products:",i)}})()},[]),ue.useEffect(()=>{if(r.length>0&&t.current){const n=Ao.context(()=>{Ao.from(".featured-header > *",{scrollTrigger:{trigger:".featured-header",start:"top 80%"},y:30,opacity:0,duration:.8,stagger:.2,clearProps:"all"}),Ao.from(".featured-card",{scrollTrigger:{trigger:".featured-grid",start:"top 75%"},x:100,opacity:0,duration:.8,stagger:.15,clearProps:"all"}),Ao.from(".view-all-btn",{scrollTrigger:{trigger:".view-all-btn",start:"top 90%"},y:20,opacity:0,duration:.6,delay:.4,clearProps:"all"})},t);return()=>n.revert()}},[r]),r.length===0?null:s.jsxs("section",{ref:t,className:"max-w-7xl mx-auto px-4 py-16 bg-gradient-to-b from-primary/2 to-background",children:[s.jsxs("div",{className:"text-center mb-12 featured-header",children:[s.jsx("style",{children:`
          @keyframes arrow-slide {
            0% { transform: translateX(0); opacity: 1; }
            45% { transform: translateX(100%); opacity: 0; }
            50% { transform: translateX(-100%); opacity: 0; }
            55% { transform: translateX(-100%); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
          }
          .group:hover .arrow-icon {
            animation: arrow-slide 0.6s cubic-bezier(0.4, 0, 0.2, 1);
          }
        `}),s.jsxs("h2",{className:"text-5xl font-light text-foreground mb-3",children:["Our ",s.jsx("span",{className:"font-semibold",children:"Featured Collection"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Handpicked products loved by thousands"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 featured-grid",children:r.map(n=>{var i;return s.jsxs(At,{to:`/products/${n._id}`,className:"bg-white rounded-2xl overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer block group featured-card",children:[s.jsxs("div",{className:"relative h-48 bg-gray-50 overflow-hidden p-4",children:[s.jsx("img",{src:((i=n.images)==null?void 0:i[0])||"/placeholder.svg",alt:n.name,className:"w-full h-full object-contain hover:scale-110 transition-transform duration-300 mix-blend-multiply"}),n.stock<5&&s.jsx("div",{className:"absolute top-3 right-3 bg-red-500 text-white text-xs px-3 py-1 rounded-full font-medium z-10",children:"Low Stock"})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-foreground mb-2 truncate group-hover:text-primary transition-colors",children:n.name}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsxs("span",{className:"text-xs text-primary",children:["â˜… ",4.5]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(120+)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"font-semibold text-foreground",children:["â‚¹",n.price]}),s.jsx("button",{className:"bg-primary text-primary-foreground px-3 py-1 rounded-lg text-xs font-medium hover:opacity-90 transition-opacity",children:"View"})]})]})]},n._id)})}),s.jsx("div",{className:"mt-12 text-center view-all-btn",children:s.jsxs(At,{to:"/products",className:`group relative w-[300px] inline-flex items-center justify-center px-6 py-3 \r
               md:px-10 md:py-4 text-base md:text-lg font-medium rounded-full \r
               text-white bg-gray-700 hover:bg-gray-800 shadow-md`,children:[s.jsx("span",{className:"pointer-events-none",children:"View All"}),s.jsx("span",{className:`absolute right-2 top-1/2 -translate-y-1/2 \r
                 bg-white text-black rounded-full p-3\r
                 flex items-center justify-center`,children:s.jsx(jp,{className:"w-5 h-5 arrow-icon"})})]})})]})}function u2(){const r=[{name:"Priya Sharma",role:"Skincare Enthusiast",image:"/professional-woman-portrait.png",content:"Kumar Kosmetics changed my skin routine completely. The products are luxurious and truly effective. Highly recommended!"},{name:"Aisha Patel",role:"Beauty Blogger",image:"/professional-woman-headshot.png",content:"I have sensitive skin and was hesitant about trying new brands. Kumar Kosmetics was a game-changer for me."},{name:"Neha Gupta",role:"Makeup Artist",image:"/woman-makeup-artist-portrait.jpg",content:"The quality is unmatched. My clients absolutely love using these products as their base. Worth every penny!"}];return s.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-16",children:[s.jsxs("div",{className:"text-center  mb-12",children:[s.jsxs("h2",{className:"text-5xl font-light text-foreground mb-3",children:["Loved by ",s.jsx("span",{className:"font-semibold",children:"Thousands"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Real testimonials from our happy customers"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:r.map((e,t)=>s.jsxs("div",{className:"bg-gray-200 rounded-2xl p-6 border border-border hover:shadow-lg transition-shadow",children:[s.jsxs("p",{className:"text-muted-foreground mb-6 italic",children:['"',e.content,'"']}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-foreground text-sm",children:e.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e.role})]})]})]},t))})]})}function Ls(){return s.jsx("footer",{className:"bg-foreground text-primary-foreground mt-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Kumar Kosmetics"}),s.jsx("p",{className:"text-sm opacity-90",children:"Premium skincare that understands you."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:"Products"}),s.jsxs("ul",{className:"space-y-2 text-sm opacity-90",children:[s.jsx("li",{children:s.jsx(At,{to:"/products",children:"All Products"})}),s.jsx("li",{children:s.jsx(At,{to:"/products?type=skincare",children:"Skincare"})}),s.jsx("li",{children:s.jsx(At,{to:"/products?type=cosmetics",children:"Cosmetics"})}),s.jsx("li",{children:s.jsx(At,{to:"/products?new=true",children:"New Arrivals"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:"Company"}),s.jsxs("ul",{className:"space-y-2 text-sm opacity-90",children:[s.jsx("li",{children:s.jsx(At,{to:"/about",children:"About Us"})}),s.jsx("li",{children:s.jsx(At,{to:"/contact",children:"Contact"})}),s.jsx("li",{children:s.jsx(At,{to:"/blog",children:"Blog"})}),s.jsx("li",{children:s.jsx(At,{to:"/careers",children:"Careers"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:"Legal"}),s.jsxs("ul",{className:"space-y-2 text-sm opacity-90",children:[s.jsx("li",{children:s.jsx(At,{to:"/privacy",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(At,{to:"/terms",children:"Terms of Service"})}),s.jsx("li",{children:s.jsx(At,{to:"/returns",children:"Returns"})})]})]})]}),s.jsxs("div",{className:"border-t border-primary-foreground/20 pt-8 flex flex-col md:flex-row items-center justify-between",children:[s.jsx("p",{className:"text-sm opacity-75",children:"Â© 2025 Kumar Kosmetics. All rights reserved."}),s.jsxs("div",{className:"flex items-center gap-4 mt-4 md:mt-0",children:[s.jsx("a",{href:"#",className:"hover:opacity-75 transition-opacity",children:s.jsx(ag,{className:"w-5 h-5"})}),s.jsx("a",{href:"#",className:"hover:opacity-75 transition-opacity",children:s.jsx(og,{className:"w-5 h-5"})}),s.jsx("a",{href:"#",className:"hover:opacity-75 transition-opacity",children:s.jsx(lg,{className:"w-5 h-5"})})]})]})]})})}function h2(){const r=ue.useRef(null),{scrollYProgress:e}=qg({target:r,offset:["start end","end start"]}),t=fd(e,[0,1],["-10%","10%"]);fd(e,[0,1],["0%","5%"]);const n=fd(e,[0,1],["40%","-100%"]);return s.jsxs("div",{className:"w-full bg-gray-50",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-8 md:px-16 lg:px-24 pt-24 pb-2 text-left z-20 relative",children:[s.jsxs("h2",{className:"text-4xl md:text-6xl font-light text-gray-900 mb-6 drop-shadow-sm",children:["Explore Your Pathway ",s.jsx("br",{})," ",s.jsx("span",{className:"italic font-serif",children:"to Flawless Skin"})]}),s.jsx("p",{className:"text-gray-900/80 text-lg leading-relaxed max-w-lg font-medium",children:"From brightening and hydrating to refining and rejuvenating overnight."})]}),s.jsx("style",{children:`
          .mask-effect {
            mask-image: radial-gradient(ellipse 48% 65% at 50% 50%, black 60%, transparent 62%);
            -webkit-mask-image: radial-gradient(ellipse 48% 65% at 50% 50%, black 60%, transparent 62%);
          }
        `}),s.jsxs("section",{ref:r,className:"relative w-full h-[150vh] overflow-hidden flex justify-center ",children:[s.jsx(cr.div,{className:"relative z-10 w-[700px] h-[850px] mask-effect",style:{y:t,rotate:45},children:s.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:"url('/image2.png')"}})}),s.jsx("div",{className:"absolute  inset-0 z-20 pointer-events-none overflow-hidden",children:s.jsxs(cr.div,{style:{y:n},className:"relative w-full h-full max-w-7xl mx-auto pointer-events-auto",children:[s.jsxs("div",{className:"absolute text-center top-[45%] left-[5%] md:left-[10%] w-80 p-6 bg-gray-200/50 backdrop-blur-xl shadow-lg rounded-2xl border border-white/20",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mb-4 mx-auto shadow-sm",children:s.jsx(cg,{className:"w-6 h-6 text-gray-800"})}),s.jsx("h3",{className:"text-lg font-bold mb-1 text-gray-900",children:"Clean, Beyond Reproach"}),s.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"No black boxes, no hidden actives, no vague claims. Every formula is transparently disclosed â€” ingredient by ingredient â€” so you always know exactly what you're putting on your skin and why it works."})]}),s.jsxs("div",{className:"absolute text-center top-[50%] right-[5%] md:right-[10%] w-80 p-6 bg-gray-200/50 backdrop-blur-xl shadow-lg rounded-2xl border border-white/20",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mb-4 mx-auto shadow-sm",children:s.jsx(dg,{className:"w-6 h-6 text-gray-800"})}),s.jsx("h3",{className:"text-lg font-bold mb-1 text-gray-900",children:"Potent & Scientifically Designed"}),s.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Powered by dermatologist-approved actives and plant-based innovation, our formulations are crafted to deliver visible, measurable results â€” without compromising your skin barrier or long-term health."})]}),s.jsxs("div",{className:"absolute text-center top-[80%] left-[8%] md:left-[15%] w-80 p-6 bg-gray-200/50 backdrop-blur-xl shadow-lg rounded-2xl border border-white/20",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mb-4 mx-auto shadow-sm",children:s.jsx(_p,{className:"w-6 h-6 text-gray-800"})}),s.jsx("h3",{className:"text-lg font-bold mb-1 text-gray-900",children:"Dermat-Backed Expertise"}),s.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Each product is developed with dermatological insight, ensuring optimal safety, compatibility, and efficacy. Your skincare routine is supported by experts â€” from the very first step to your final glow."})]}),s.jsxs("div",{className:"absolute text-center top-[85%] right-[8%] md:right-[12%] w-80 p-6 bg-gray-200/50 backdrop-blur-xl shadow-lg rounded-2xl border border-white/20",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mb-4 mx-auto shadow-sm",children:s.jsx(Sp,{className:"w-6 h-6 text-gray-800"})}),s.jsx("h3",{className:"text-lg font-bold mb-1 text-gray-900",children:"Conscious & Responsible"}),s.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Formulated with clean, verified ingredients and responsibly sourced components. Every product is PETA-certified vegan & cruelty-free â€” gentle on your skin and kind to the planet we all share."})]})]})})]})]})}function f2(){return s.jsxs("main",{className:"min-h-screen bg-background",children:[s.jsx(As,{}),s.jsx(W1,{}),s.jsx(d2,{}),s.jsx(h2,{}),s.jsx(u2,{}),s.jsx(Ls,{})]})}function p2(){return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(As,{}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"text-center mb-16 slide-up",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"About Kumar Kosmetics"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",children:"We believe that beauty is personal. Our mission is to create premium, science-backed skincare products that celebrate your unique skin and empower you to feel confident."})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-16 items-center",children:[s.jsxs("div",{className:"fade-in",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Our Story"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Founded in 2020, Kumar Kosmetics began with a simple vision: to revolutionize the skincare industry by combining traditional beauty wisdom with modern science."}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Our founder, Priya Kumar, spent years researching natural ingredients and dermatological science to create formulations that work for every skin type. Today, we're proud to serve thousands of customers who have discovered their best skin with our products."}),s.jsx("p",{className:"text-muted-foreground",children:"Every product is crafted with intention, tested rigorously, and designed to make a real difference in your skincare routine."})]}),s.jsx("div",{className:"bg-secondary rounded-lg h-80 flex items-center justify-center",children:s.jsxs("div",{className:"text-secondary-foreground text-center",children:[s.jsx(Pi,{className:"w-24 h-24 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-semibold",children:"Crafted with Care"})]})})]}),s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-12 text-center",children:"Our Values"}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border hover:border-primary transition-colors",children:[s.jsx(ug,{className:"w-8 h-8 text-primary mb-4"}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Quality First"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"We use only the highest quality ingredients and rigorous testing to ensure product excellence."})]}),s.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border hover:border-primary transition-colors",children:[s.jsx(Sp,{className:"w-8 h-8 text-primary mb-4"}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Sustainability"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Our packaging is eco-friendly and our practices minimize environmental impact."})]}),s.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border hover:border-primary transition-colors",children:[s.jsx(yu,{className:"w-8 h-8 text-primary mb-4"}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Inclusivity"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Beauty is for everyone. Our products are formulated for all skin types and tones."})]}),s.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border hover:border-primary transition-colors",children:[s.jsx(Pi,{className:"w-8 h-8 text-primary mb-4"}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Transparency"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"We believe in full ingredient disclosure and honest communication with our customers."})]})]})]}),s.jsxs("div",{className:"bg-primary text-primary-foreground rounded-lg p-12 text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Meet Our Team"}),s.jsx("p",{className:"mb-6 text-lg opacity-90",children:"Our diverse team of skincare experts, chemists, and beauty enthusiasts are dedicated to innovation and customer satisfaction."}),s.jsx("button",{className:"bg-primary-foreground text-primary px-6 py-2 rounded-lg font-semibold hover:opacity-90 transition-opacity",children:"Join Our Team"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-center mb-16",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-4xl font-bold text-primary mb-2",children:"50K+"}),s.jsx("p",{className:"text-muted-foreground",children:"Happy Customers"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-4xl font-bold text-primary mb-2",children:"200+"}),s.jsx("p",{className:"text-muted-foreground",children:"Premium Products"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-4xl font-bold text-primary mb-2",children:"5+"}),s.jsx("p",{className:"text-muted-foreground",children:"Years of Excellence"})]})]})]}),s.jsx(Ls,{})]})}function Yh({filters:r,setFilters:e}){const[t,n]=ue.useState({skinType:!1,category:!1,price:!1,concern:!1}),i=g=>{n(b=>({skinType:!1,category:!1,price:!1,concern:!1,[g]:!b[g]}))},a=["Oily","Dry","Combination","Sensitive","Normal"],l=["Skincare","Cosmetics","Masks","Serums","Creams"],o=["Acne","Pigmentation","Dullness","Wrinkles","Dark Circles","Dryness"],d=(g,b)=>{e({...r,[g]:r[g].includes(b)?r[g].filter(f=>f!==b):[...r[g],b]})},u=()=>{e({skinType:[],category:[],priceRange:[0,5e3],concern:[]})},p=r.skinType.length>0||r.category.length>0||r.concern.length>0||r.priceRange[0]!==0||r.priceRange[1]!==5e3;return s.jsxs("div",{className:"sticky top-24 h-fit max-h-[calc(100vh-8rem)] overflow-y-auto custom-scrollbar font-sans px-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h2",{className:"text-xs font-bold tracking-wider text-gray-400",children:"FILTERS"}),p&&s.jsx("button",{onClick:u,className:"text-[10px] text-gray-400 hover:text-gray-600 underline tracking-wider transition-colors",children:"CLEAR ALL"})]}),s.jsxs("div",{className:"border-b border-gray-200 pb-1 mb-4",children:[s.jsxs("button",{onClick:()=>i("skinType"),className:"w-full flex justify-between items-center text-left mb-2 group",children:[s.jsx("span",{className:"text-xs tracking-wider text-gray-400 uppercase",children:"Skin Type"}),s.jsx(ko,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ease-in-out ${t.skinType?"rotate-90":"rotate-0"}`})]}),s.jsx("div",{className:`grid transition-[grid-template-rows] duration-500 ease-in-out ${t.skinType?"grid-rows-[1fr]":"grid-rows-[0fr]"}`,children:s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{className:"space-y-3 pt-3",children:a.map(g=>s.jsx("button",{onClick:()=>d("skinType",g),className:`block w-full text-left text-xs tracking-wide transition-colors ${r.skinType.includes(g)?"font-bold text-black":"font-normal text-black hover:text-gray-600"}`,children:g},g))})})})]}),s.jsxs("div",{className:"border-b border-gray-200 pb-1 mb-4",children:[s.jsxs("button",{onClick:()=>i("category"),className:"w-full flex justify-between items-center text-left mb-2 group",children:[s.jsx("span",{className:"text-xs tracking-wider text-gray-400 uppercase",children:"Category"}),s.jsx(ko,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ease-in-out ${t.category?"rotate-90":"rotate-0"}`})]}),s.jsx("div",{className:`grid transition-[grid-template-rows] duration-500 ease-in-out ${t.category?"grid-rows-[1fr]":"grid-rows-[0fr]"}`,children:s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{className:"space-y-3 pt-3",children:l.map(g=>s.jsx("button",{onClick:()=>d("category",g),className:`block w-full text-left text-xs tracking-wide transition-colors ${r.category.includes(g)?"font-bold text-black":"font-normal text-black hover:text-gray-600"}`,children:g},g))})})})]}),s.jsxs("div",{className:"border-b border-gray-200 pb-1 mb-4",children:[s.jsxs("button",{onClick:()=>i("concern"),className:"w-full flex justify-between items-center text-left mb-2 group",children:[s.jsx("span",{className:"text-xs tracking-wider text-gray-400 uppercase",children:"Concerns"}),s.jsx(ko,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ease-in-out ${t.concern?"rotate-90":"rotate-0"}`})]}),s.jsx("div",{className:`grid transition-[grid-template-rows] duration-500 ease-in-out ${t.concern?"grid-rows-[1fr]":"grid-rows-[0fr]"}`,children:s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{className:"space-y-3 pt-3",children:o.map(g=>s.jsx("button",{onClick:()=>d("concern",g),className:`block w-full text-left text-xs tracking-wide transition-colors ${r.concern.includes(g)?"font-bold text-black":"font-normal text-black hover:text-gray-600"}`,children:g},g))})})})]}),s.jsxs("div",{className:"pb-4",children:[s.jsxs("button",{onClick:()=>i("price"),className:"w-full flex justify-between items-center text-left mb-2 group",children:[s.jsx("span",{className:"text-xs tracking-wider text-gray-400 uppercase",children:"Price Range"}),s.jsx(ko,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ease-in-out ${t.price?"rotate-90":"rotate-0"}`})]}),s.jsx("div",{className:`grid transition-[grid-template-rows] duration-500 ease-in-out ${t.price?"grid-rows-[1fr]":"grid-rows-[0fr]"}`,children:s.jsx("div",{className:"overflow-hidden",children:s.jsxs("div",{className:"pt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("span",{className:"text-xs text-black font-medium",children:["â‚¹",r.priceRange[0]]}),s.jsxs("span",{className:"text-xs text-black font-medium",children:["â‚¹",r.priceRange[1]]})]}),s.jsx("input",{type:"range",min:"0",max:"5000",step:"100",value:r.priceRange[1],onChange:g=>e({...r,priceRange:[r.priceRange[0],Number.parseInt(g.target.value)]}),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-black"})]})})})]})]})}function Kh({product:r,onClose:e}){return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-96 overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 flex items-center justify-between p-6 border-b border-border bg-white",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground",children:r.name}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx(ti,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"bg-muted rounded-lg overflow-hidden h-48 md:h-64",children:s.jsx("img",{src:r.image||"/placeholder.svg",alt:r.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-primary font-medium mb-2",children:r.category}),s.jsxs("p",{className:"text-3xl font-semibold text-foreground",children:["â‚¹",r.price]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-sm text-primary mb-1",children:["â˜… ",r.rating," (",r.reviews," reviews)"]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Key Benefits"}),s.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("li",{children:["âœ“ Suitable for ",r.skinType.join(", ")," skin"]}),s.jsxs("li",{children:["âœ“ Helps with ",r.concerns.join(", ")]}),r.tags.map(t=>s.jsxs("li",{children:["âœ“ ",t]},t))]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Ingredients"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.ingredients.join(", ")})]}),s.jsx("button",{className:"w-full bg-primary text-primary-foreground py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity",children:"Add to Cart"})]})]})]})})}const Fu=Nu((r,e)=>({wishlist:[],loading:!1,getWishlist:async()=>{r({loading:!0});try{const t=await bt.get("/wishlist");r({wishlist:t.data.products||[]})}catch(t){console.error("Error fetching wishlist:",t),r({wishlist:[]})}finally{r({loading:!1})}},addToWishlist:async t=>{var n,i;try{const a=await bt.post("/wishlist",{productId:t});r({wishlist:a.data.products}),it.success("Added to wishlist")}catch(a){console.error("Error adding to wishlist:",a),it.error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to add to wishlist")}},removeFromWishlist:async t=>{var n,i;try{const a=await bt.delete(`/wishlist/${t}`);r({wishlist:a.data.products}),it.success("Removed from wishlist")}catch(a){console.error("Error removing from wishlist:",a),it.error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to remove from wishlist")}},isInWishlist:t=>{const{wishlist:n}=e();return n.some(i=>i._id===t||i===t)}}));function Iu({viewType:r,filters:e,products:t=[]}){const[n,i]=ue.useState(null),{addToWishlist:a,removeFromWishlist:l,isInWishlist:o}=Fu(),{authUser:d,openAuthModal:u}=An(),{addToCart:p}=Ga();ks();const g=(j,_)=>{if(j.preventDefault(),!d){u({type:"login"});return}p(_._id||_.id,1)},b=(j,_)=>{if(j.preventDefault(),!d){u({type:"wishlist"});return}o(_)?l(_):a(_)},y=t.filter(j=>{const _=j.skinType||[],w=j.skinConcerns||j.concerns||[],U=j.price||0;return!(e.skinType.length>0&&!e.skinType.some(D=>_.includes(D))||e.category.length>0&&!e.category.includes(j.category)||U<e.priceRange[0]||U>e.priceRange[1]||e.concern.length>0&&!e.concern.some(D=>w.includes(D)))});return r==="grid"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:y.map(j=>{var _;return s.jsx(At,{to:`/products/${j._id||j.id}`,children:s.jsxs(cr.div,{layoutId:`product-card-${j._id||j.id}`,className:"bg-white rounded-2xl overflow-hidden hover:shadow-lg transition-all duration-300 group cursor-pointer h-full flex flex-col",children:[s.jsxs("div",{className:"relative h-48 bg-white overflow-hidden flex items-center justify-center p-4",children:[s.jsx(cr.img,{layoutId:`product-image-${j._id||j.id}`,src:((_=j.images)==null?void 0:_[0])||j.image||"/placeholder.svg",alt:j.name,className:"w-full h-full object-contain group-hover:scale-110 transition-transform duration-300"}),s.jsx("button",{onClick:w=>b(w,j._id||j.id),className:`absolute top-3 right-3 rounded-full p-2 transition-colors shadow-sm ${o(j._id||j.id)?"bg-primary/10":"bg-white hover:bg-muted"}`,children:s.jsx(Pi,{className:`w-5 h-5 ${o(j._id||j.id)?"fill-primary text-primary":"text-primary"}`})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-xs text-primary font-medium mb-1",children:j.category}),s.jsx("h3",{className:"text-sm font-medium text-foreground mb-2 truncate",children:j.name}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsxs("span",{className:"text-xs text-primary",children:["â˜… ",j.rating?j.rating.toFixed(1):"New"]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",j.reviews||0,")"]})]}),s.jsx("div",{className:"flex gap-1 mb-3 flex-wrap",children:(j.allergyLabels||j.tags||[]).slice(0,2).map(w=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:w},w))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"font-semibold text-foreground",children:["â‚¹",j.price]}),s.jsx("button",{onClick:w=>g(w,j),className:"bg-primary text-primary-foreground px-3 py-1 rounded-lg text-xs font-medium hover:opacity-90 transition-opacity",children:"Add"})]})]})]})},j._id||j.id)})}),n&&s.jsx(Kh,{product:n,onClose:()=>i(null)})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-4",children:y.map(j=>{var _;return s.jsx(At,{to:`/products/${j._id||j.id}`,children:s.jsxs("div",{className:"bg-white rounded-2xl p-4 my-4 flex  gap-4 hover:shadow-lg transition-shadow cursor-pointer",children:[s.jsx("div",{className:"w-24 h-24 bg-white rounded-lg overflow-hidden flex-shrink-0 flex items-center justify-center border border-gray-100",children:s.jsx("img",{src:((_=j.images)==null?void 0:_[0])||j.image||"/placeholder.svg",alt:j.name,className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-primary font-medium mb-1",children:j.category}),s.jsx("h3",{className:"font-medium text-foreground mb-2 truncate",children:j.name}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:(j.ingredients||[]).join(", ")})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-xs text-primary",children:["â˜… ",j.rating?j.rating.toFixed(1):"New"," (",j.reviews||0,")"]})})]}),s.jsxs("div",{className:"flex flex-col items-end justify-between",children:[s.jsx("button",{onClick:w=>b(w,j._id||j.id),className:`p-2 rounded-lg ${o(j._id||j.id)?"bg-primary/10":"hover:bg-muted"}`,children:s.jsx(Pi,{className:`w-5 h-5 ${o(j._id||j.id)?"fill-primary text-primary":"text-primary"}`})}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold text-foreground mb-2",children:["â‚¹",j.price," "]}),s.jsx("button",{onClick:w=>g(w,j),className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg text-sm font-medium hover:opacity-90",children:"Add"})]})]})]})},j._id||j.id)})}),n&&s.jsx(Kh,{product:n,onClose:()=>i(null)})]})}function m2({filters:r,setFilters:e}){const t=ue.useRef(null),n=[{name:"Serum",image:"/serum.jpg"},{name:"Cleanser",image:"/Cleanser.jpg"},{name:"Moisturiser",image:"/moisturiser.jpg"},{name:"Mask",image:"/mask.jpg"},{name:"Toner",image:"/toner.jpg"},{name:"Treatment",image:"/treatment.jpg"},{name:"Sunscreen",image:"/sunscreen.jpg"}],i=[...n,...n],a=l=>{const o=r.category.includes(l);let d;o?d=r.category.filter(u=>u!==l):d=[...r.category,l],e({...r,category:d})};return s.jsxs("div",{className:"w-full mb-10 overflow-hidden relative group",children:[s.jsx("style",{children:`
        @keyframes scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
        .animate-scroll {
          animation: scroll 30s linear infinite;
        }
        .group:hover .animate-scroll {
          animation-play-state: paused;
        }
      `}),s.jsx("div",{ref:t,className:"flex w-max animate-scroll",children:i.map((l,o)=>{const d=r.category.includes(l.name);return s.jsxs("button",{onClick:()=>a(l.name),className:"flex flex-col items-center gap-3 group flex-shrink-0 focus:outline-none mx-6 md:mx-10 my-3",children:[s.jsx("div",{className:`
                  relative w-20 h-20 md:w-32 md:h-32 rounded-full p-1 transition-all duration-300
                  ${d?"ring-2 ring-primary ring-offset-2":"ring-1 ring-transparent hover:ring-2 hover:ring-gray-200 hover:ring-offset-2"}
                `,children:s.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-white shadow-sm",children:s.jsx("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover transition-transform duration-500"})})}),s.jsx("span",{className:`
                  text-sm font-medium tracking-wide transition-colors duration-200
                  ${d?"text-primary font-semibold":"text-gray-600 hover:text-black"}
                `,children:l.name})]},`${l.name}-${o}`)})})]})}function g2(){const[r]=Ig(),[e,t]=ue.useState([]),[n,i]=ue.useState(!0),[a,l]=ue.useState("grid"),[o,d]=ue.useState(r.get("q")||""),[u,p]=ue.useState({skinType:[],category:[],priceRange:[0,5e3],concern:[]}),[g,b]=ue.useState(!1);ue.useEffect(()=>{d(r.get("q")||"")},[r]);const f=ue.useRef(null);ue.useEffect(()=>{if(o&&f.current){const j=f.current.offsetTop-100;window.scrollY<j&&window.scrollTo({top:j,behavior:"smooth"})}},[o]),ue.useEffect(()=>{(async()=>{try{const _=await bt.get("/products");t(_.data.products)}catch(_){console.error("Error fetching products:",_)}finally{i(!1)}})()},[]);const y=e.filter(j=>j.name.toLowerCase().includes(o.toLowerCase())||j.category.toLowerCase().includes(o.toLowerCase()));return s.jsxs("div",{className:"min-h-screen bg-gray-50/50",children:[s.jsx(As,{}),s.jsxs("div",{className:"relative w-full h-screen",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"/product_Header.jpg",alt:"Clean Conscious Clinical Skincare",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0  to-transparent"})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center px-8 md:px-16 lg:px-24",children:[s.jsx("style",{children:`
            @keyframes slideInLeft {
              from { opacity: 0; transform: translateX(-100px); }
              to { opacity: 1; transform: translateX(0); }
            }
            .animate-slide-in-left {
              animation: slideInLeft 1s ease-out forwards;
              opacity: 0; /* Ensures it starts invisible */
            }
          `}),s.jsxs("div",{className:"max-w-3xl",children:[s.jsxs("h1",{className:"text-5xl md:text-6xl  lg:text-7xl text-black mb-6 mt-10  ",children:[s.jsx("span",{className:"block drop-shadow-md animate-slide-in-left",children:"Clean"}),s.jsx("span",{className:"block drop-shadow-md animate-slide-in-left",children:"Conscious"}),s.jsx("span",{className:"block drop-shadow-md animate-slide-in-left",children:"Clinical"}),s.jsx("span",{className:"block font-thin opacity-90 animate-slide-in-left",children:"Skincare"})]}),s.jsxs("p",{className:"text-xl md:text-2xl font-sans w-1/2 text-black leading-relaxed max-w-2xl drop-shadow-sm animate-slide-in-left",style:{animationDelay:"0.3s"},children:[s.jsx("span",{className:"font-extralight text-gray-600 w-1/2",children:"Unreservedly honest products that work, be kind to skin and the planet"}),s.jsx("span",{className:"ml-2 px-2 py-1 text-3xl rounded-md italic font-['Bodoni_Moda'] text-gray-700",children:"â€“ no exceptions!"})]})]})]})]}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsx(m2,{filters:u,setFilters:p}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:s.jsx(Yh,{filters:u,setFilters:p})}),s.jsxs("div",{className:"flex-1",ref:f,children:[s.jsxs("div",{className:"p-4 mb-8 flex flex-col sm:flex-row gap-4 justify-between items-center transition-all",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-700 tracking-tight",children:"Products"}),s.jsxs("div",{className:"flex items-center gap-6 w-full sm:w-auto justify-between sm:justify-end",children:[s.jsxs("button",{onClick:()=>b(!0),className:"lg:hidden flex items-center gap-2 text-sm font-medium text-gray-700 bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm hover:bg-gray-50","aria-label":"Filter",children:[s.jsx(hg,{className:"w-4 h-4"}),"Filters"]}),s.jsxs("span",{className:"text-sm  text-gray-500 font-medium whitespace-nowrap hidden sm:block",children:[y.length," Results"]}),s.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded-md transition-all duration-200 ${a==="grid"?"bg-white text-primary shadow-sm ring-1 ring-black/5":"text-gray-500 hover:text-black hover:bg-gray-200/50"}`,"aria-label":"Grid View",children:s.jsx(fg,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded-md transition-all duration-200 ${a==="list"?"bg-white text-primary shadow-sm ring-1 ring-black/5":"text-gray-500 hover:text-black hover:bg-gray-200/50"}`,"aria-label":"List View",children:s.jsx(pg,{className:"w-4 h-4"})})]})]})]}),n?s.jsxs("div",{className:"flex flex-col justify-center items-center h-96",children:[s.jsx(os,{className:"w-8 h-8 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-sm text-gray-500 font-light tracking-wide animate-pulse",children:"Loading collection..."})]}):s.jsx(Iu,{viewType:a,filters:u,products:y})]})]}),s.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${g?"pointer-events-auto":"pointer-events-none"}`,children:[s.jsx("div",{className:`absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity duration-300 ${g?"opacity-100":"opacity-0"}`,onClick:()=>b(!1)}),s.jsxs("div",{className:`
              absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-xl
              max-h-[85vh] overflow-y-auto transform transition-transform duration-300 ease-in-out
              ${g?"translate-y-0":"translate-y-full"}
            `,children:[s.jsxs("div",{className:"sticky top-0 bg-white z-10 px-6 py-4 flex justify-between items-center border-b border-gray-100",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),s.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close Filters",children:s.jsx(ti,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"p-6 pb-10",children:s.jsx(Yh,{filters:u,setFilters:p})})]})]})]}),s.jsx(Ls,{})]})}function x2({productId:r,productRating:e,totalReviews:t,onReviewAdded:n}){const[i,a]=ue.useState([]),[l,o]=ue.useState(!0),[d,u]=ue.useState(5),[p,g]=ue.useState(""),[b,f]=ue.useState(""),[y,j]=ue.useState(!1),{authUser:_,openAuthModal:w}=An();ue.useEffect(()=>{U()},[r]);const U=async()=>{try{const X=await bt.get(`/reviews/${r}`);a(X.data)}catch(X){console.error("Error fetching reviews:",X)}finally{o(!1)}},D=async X=>{var K,k;if(X.preventDefault(),!_){w({type:"review"});return}j(!0);try{const N=await bt.post(`/reviews/${r}`,{rating:d,comment:p,skinType:b});a([N.data,...i]),g(""),u(5),n&&n(),Dt.success("Review submitted successfully!")}catch(N){Dt.error(((k=(K=N.response)==null?void 0:K.data)==null?void 0:k.message)||"Failed to submit review")}finally{j(!1)}},F={5:0,4:0,3:0,2:0,1:0};i.forEach(X=>F[X.rating]=(F[X.rating]||0)+1);const te=i.length||1;return s.jsxs("div",{className:"space-y-12 max-w-5xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 items-center bg-gray-50/50 p-8 rounded-2xl border border-gray-100",children:[s.jsxs("div",{className:"lg:col-span-4 text-center lg:text-left lg:border-r lg:border-gray-200 lg:pr-8",children:[s.jsx("h3",{className:"text-lg font-medium text-foreground mb-4",children:"Customer Reviews"}),s.jsxs("div",{className:"flex items-baseline gap-4 justify-center lg:justify-start mb-2",children:[s.jsx("span",{className:"text-6xl font-bold text-foreground tracking-tight",children:(e==null?void 0:e.toFixed(1))||"0.0"}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("div",{className:"flex gap-1 mb-1",children:[1,2,3,4,5].map(X=>s.jsx(Pl,{className:`w-5 h-5 ${X<=Math.round(e||0)?"fill-yellow-400 text-yellow-400":"text-gray-200"}`},X))}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[t||0," Verified Reviews"]})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Based on genuine feedback from our customers."})]}),s.jsx("div",{className:"lg:col-span-8 space-y-3",children:[5,4,3,2,1].map(X=>s.jsxs("div",{className:"flex items-center gap-4 group",children:[s.jsxs("div",{className:"flex items-center gap-1 w-12",children:[s.jsx("span",{className:"text-sm font-semibold text-foreground",children:X}),s.jsx(Pl,{className:"w-3 h-3 text-gray-400"})]}),s.jsx("div",{className:"flex-1 h-2.5 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-yellow-400 rounded-full transition-all duration-500 ease-out group-hover:bg-yellow-500",style:{width:`${F[X]/te*100}%`}})}),s.jsx("span",{className:"text-sm text-muted-foreground w-10 text-right tabular-nums",children:F[X]})]},X))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[s.jsx("div",{className:"lg:col-span-4",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm sticky top-24",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Write a Review"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Share your thoughts with the community"}),s.jsxs("form",{onSubmit:D,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-foreground",children:"Rating"}),s.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(X=>s.jsx("button",{type:"button",onClick:()=>u(X),className:"focus:outline-none transition-all hover:scale-110 active:scale-95",children:s.jsx(Pl,{className:`w-8 h-8 ${X<=d?"fill-yellow-400 text-yellow-400":"text-gray-200"}`})},X))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-foreground",children:"Skin Type"}),s.jsxs("select",{value:b,onChange:X=>f(X.target.value),className:"w-full rounded-lg border-gray-200 bg-gray-50/50 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5 transition-colors hover:bg-white",children:[s.jsx("option",{value:"",children:"Select your skin type"}),s.jsx("option",{value:"Oily",children:"Oily"}),s.jsx("option",{value:"Dry",children:"Dry"}),s.jsx("option",{value:"Combination",children:"Combination"}),s.jsx("option",{value:"Sensitive",children:"Sensitive"}),s.jsx("option",{value:"Normal",children:"Normal"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-foreground",children:"Your Review"}),s.jsx("textarea",{value:p,onChange:X=>g(X.target.value),required:!0,rows:4,placeholder:"What did you like or dislike? How was the texture?",className:"w-full rounded-lg border-gray-200 bg-gray-50/50 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-3 transition-colors hover:bg-white resize-none"})]}),s.jsx("button",{type:"submit",disabled:y,className:"w-full bg-primary text-primary-foreground py-3 rounded-xl font-semibold hover:opacity-90 disabled:opacity-50 transition-all shadow-lg shadow-primary/20 active:scale-[0.98]",children:y?"Submitting...":"Submit Review"})]})]})}),s.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Latest Reviews"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",i.length," reviews"]})]}),i.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ha,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h4",{className:"text-lg font-medium text-foreground mb-2",children:"No reviews yet"}),s.jsx("p",{className:"text-muted-foreground",children:"Be the first to share your experience with this product!"})]}):s.jsx("div",{className:"space-y-6",children:i.map(X=>{var K,k,N;return s.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 hover:shadow-md transition-shadow duration-300",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary/20 to-primary/5 rounded-full flex items-center justify-center text-primary font-bold text-sm",children:((k=(K=X.user)==null?void 0:K.name)==null?void 0:k.charAt(0).toUpperCase())||"A"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-foreground text-sm",children:((N=X.user)==null?void 0:N.name)||"Anonymous"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[X.skinType&&s.jsxs("span",{className:"bg-gray-100 px-2 py-0.5 rounded-full text-gray-600 font-medium",children:[X.skinType," Skin"]}),s.jsx("span",{children:"â€¢"}),s.jsx("span",{children:new Date(X.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})})]})]})]}),X.isVerifiedPurchase&&s.jsxs("span",{className:"hidden sm:flex items-center gap-1.5 text-xs font-medium text-emerald-700 bg-emerald-50 px-3 py-1 rounded-full border border-emerald-100",children:[s.jsx(pc,{className:"w-3.5 h-3.5"})," Verified Purchase"]})]}),s.jsx("div",{className:"flex items-center gap-1 mb-3",children:[1,2,3,4,5].map(T=>s.jsx(Pl,{className:`w-4 h-4 ${T<=X.rating?"fill-yellow-400 text-yellow-400":"text-gray-200"}`},T))}),s.jsx("p",{className:"text-gray-600 leading-relaxed text-sm lg:text-base",children:X.comment})]},X._id)})})]})]})]})}function b2(){var G,le,fe,ne;const{id:r}=Fp(),[e,t]=ue.useState(1),[n,i]=ue.useState("details"),{authUser:a,openAuthModal:l}=An(),{addToCart:o}=Ga(),{addToWishlist:d,removeFromWishlist:u,isInWishlist:p}=Fu(),g=ks(),[b,f]=ue.useState(null),[y,j]=ue.useState(!0),[_,w]=ue.useState(null),[U,D]=ue.useState(0),[F,te]=ue.useState(!1),[X,K]=ue.useState(null),k=async()=>{try{const q=await bt.get(`/products/${r}`);f(q.data),q.data.variants&&q.data.variants.length>0&&!_&&w(q.data.variants[0].name),D(0),K(null)}catch(q){console.error("Error fetching product:",q),Dt.error("Failed to load product details")}finally{j(!1)}};ue.useEffect(()=>{k()},[r]),ue.useEffect(()=>{var ee;if(!((ee=b==null?void 0:b.images)!=null&&ee.length)||F)return;const q=setInterval(()=>{D(V=>(V+1)%b.images.length)},1e4);return()=>clearInterval(q)},[b,F]),ue.useEffect(()=>{D(0),K(null)},[_]);const N=()=>{var q;(q=b==null?void 0:b.images)!=null&&q.length&&D(ee=>(ee+1)%b.images.length)},T=()=>{var q;(q=b==null?void 0:b.images)!=null&&q.length&&D(ee=>(ee-1+b.images.length)%b.images.length)},S=()=>{if(!a){l({type:"cart"});return}o(b._id,e,_)},C=()=>{if(!a){l({type:"wishlist"});return}p(b._id)?u(b._id):d(b._id)},W=()=>{if(!a){l({type:"login"});return}o(b._id,e,_),g("/checkout")};return y?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(os,{className:"w-10 h-10 animate-spin text-primary"})}):b?s.jsxs("main",{className:"min-h-screen bg-background",children:[s.jsx(As,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[s.jsxs("div",{children:[s.jsx("div",{className:"w-full max-w-md mx-auto mb-6",children:s.jsxs("div",{className:"w-full h-80 bg-white rounded-xl overflow-hidden flex items-center justify-center border border-gray-100 relative group",onMouseEnter:()=>te(!0),onMouseLeave:()=>te(!1),children:[s.jsx(cr.img,{layoutId:`product-image-${b._id||b.id}`,src:X||((G=b.images)==null?void 0:G[U])||_&&((le=b.variants.find(q=>q.name===_))==null?void 0:le.image)||"/placeholder.svg",alt:b.name,className:"w-full h-full object-contain transition-opacity duration-500"}),((fe=b.images)==null?void 0:fe.length)>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:q=>{q.stopPropagation(),T()},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/20 hover:bg-black/40 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(mg,{className:"w-6 h-6"})}),s.jsx("button",{onClick:q=>{q.stopPropagation(),N()},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/20 hover:bg-black/40 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(ko,{className:"w-6 h-6"})})]})]})}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:(ne=b.images)==null?void 0:ne.map((q,ee)=>s.jsx("div",{className:`bg-white rounded-lg overflow-hidden cursor-pointer hover:ring-2 ring-primary h-24 flex items-center justify-center border border-gray-100 ${U===ee?"ring-2 ring-primary":""}`,onMouseEnter:()=>K(q),onMouseLeave:()=>K(null),onClick:()=>D(ee),children:s.jsx("img",{src:q||"/placeholder.svg",alt:`${b.name} ${ee+1}`,className:"w-full h-full object-contain"})},ee))})]}),s.jsxs(cr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[s.jsx("p",{className:"text-sm text-primary font-medium mb-2",children:b.category}),s.jsx("h1",{className:"text-3xl font-light text-foreground mb-2",children:s.jsx("span",{className:"font-semibold",children:b.name})}),s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsxs("span",{className:"text-xl text-primary",children:["â˜… ",b.rating?b.rating.toFixed(1):"New"]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",b.reviews||0," reviews)"]})]}),s.jsxs("p",{className:"text-4xl font-semibold text-foreground mb-6",children:["â‚¹",b.price]}),s.jsx("div",{className:"flex gap-2 mb-6 flex-wrap",children:(b.allergyLabels||[]).map(q=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-3 py-1 rounded-full font-medium",children:q},q))}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-8",children:b.description}),b.variants&&b.variants.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"font-semibold text-foreground mb-2",children:"Variants"}),s.jsx("div",{className:"flex gap-2",children:b.variants.map(q=>s.jsx("button",{onClick:()=>w(q.name),className:`px-4 py-2 rounded-lg border ${_===q.name?"border-primary bg-primary/10 text-primary":"border-border hover:bg-muted"}`,children:q.name},q._id||q.name))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"font-semibold text-foreground mb-2",children:"Best for"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:(b.skinType||[]).map(q=>s.jsxs("span",{className:"text-sm bg-secondary/20 text-foreground px-3 py-1 rounded-lg",children:[q," Skin"]},q))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-foreground mb-2",children:"Addresses"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:(b.skinConcerns||[]).map(q=>s.jsx("span",{className:"text-sm bg-accent/20 text-foreground px-3 py-1 rounded-lg",children:q},q))})]})]}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"text-sm font-medium text-foreground",children:"Quantity"}),s.jsxs("div",{className:"flex items-center border border-border rounded-lg",children:[s.jsx("button",{onClick:()=>t(Math.max(1,e-1)),className:"px-3 py-2 hover:bg-muted",children:"-"}),s.jsx("span",{className:"px-4 py-2",children:e}),s.jsx("button",{onClick:()=>t(e+1),className:"px-3 py-2 hover:bg-muted",children:"+"})]})]}),s.jsxs("div",{className:"grid grid-cols-[1fr_auto_auto] gap-3",children:[s.jsxs("button",{onClick:S,className:"flex items-center justify-center gap-2 bg-transparent border border-primary text-primary h-12 rounded-full font-bold uppercase tracking-widest text-xs hover:bg-primary hover:text-white hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",children:[s.jsx(vu,{className:"w-4 h-4"}),"Add to Cart"]}),s.jsx("button",{onClick:C,className:`h-12 w-12 flex items-center justify-center border border-border rounded-full hover:bg-muted transition-colors ${p(b._id)?"bg-primary/10 border-primary":""}`,children:s.jsx(Pi,{className:`w-5 h-5 ${p(b._id)?"fill-primary text-primary":"text-primary"}`})}),s.jsx("button",{className:"h-12 w-12 flex items-center justify-center border border-border rounded-full hover:bg-muted transition-colors",children:s.jsx(gg,{className:"w-5 h-5 text-foreground"})}),s.jsxs("button",{onClick:W,className:"flex items-center justify-center gap-2 bg-transparent border border-amber-500 text-amber-500 h-12 rounded-full font-bold uppercase tracking-widest text-xs hover:bg-amber-500 hover:text-white hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",children:[s.jsx(Ac,{className:"w-4 h-4"}),"Buy Now"]})]})]})]})]}),s.jsxs("div",{className:"mt-16 border-t border-border pt-8",children:[s.jsxs("div",{className:"flex gap-8 mb-8 border-b border-border",children:[s.jsx("button",{onClick:()=>i("details"),className:`pb-4 font-medium transition-colors ${n==="details"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Details"}),s.jsx("button",{onClick:()=>i("ingredients"),className:`pb-4 font-medium transition-colors ${n==="ingredients"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Ingredients"}),s.jsx("button",{onClick:()=>i("reviews"),className:`pb-4 font-medium transition-colors ${n==="reviews"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Reviews"})]}),n==="details"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"How to Use"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:b.howToUse||"Apply as needed."})]})}),n==="ingredients"&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Key Ingredients"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:(b.ingredients||[]).map(q=>s.jsx("div",{className:"bg-muted rounded-lg p-4",children:s.jsx("p",{className:"font-medium text-foreground text-sm",children:q})},q))})]}),n==="reviews"&&s.jsx(x2,{productId:b._id,productRating:b.rating,totalReviews:b.reviews,onReviewAdded:k})]})]}),s.jsx(Ls,{})]}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx("p",{className:"text-xl text-muted-foreground",children:"Product not found"})})}function v2({items:r,onUpdateQuantity:e,onRemoveItem:t}){return s.jsx("div",{className:"space-y-4",children:r.map(n=>{var i,a,l,o,d,u;return s.jsx("div",{className:"bg-white rounded-2xl p-6 border border-border hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex gap-6",children:[s.jsx("div",{className:"w-24 h-24 bg-white rounded-lg overflow-hidden flex-shrink-0 flex items-center justify-center border border-gray-100",children:s.jsx("img",{src:((a=(i=n.product)==null?void 0:i.images)==null?void 0:a[0])||"/placeholder.svg",alt:(l=n.product)==null?void 0:l.name,className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-1",children:(o=n.product)==null?void 0:o.name}),n.variant&&s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Variant: ",n.variant]}),s.jsxs("p",{className:"text-lg font-semibold text-primary",children:["â‚¹",(d=n.product)==null?void 0:d.price]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center border border-border rounded-lg",children:[s.jsx("button",{onClick:()=>e(n._id,n.quantity-1),className:"px-3 py-2 hover:bg-muted transition-colors",children:"âˆ’"}),s.jsx("span",{className:"px-4 py-2 font-medium",children:n.quantity}),s.jsx("button",{onClick:()=>e(n._id,n.quantity+1),className:"px-3 py-2 hover:bg-muted transition-colors",children:"+"})]}),s.jsx("button",{onClick:()=>t(n._id),className:"p-2 text-destructive hover:bg-destructive/10 rounded-lg transition-colors",children:s.jsx(Wa,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Subtotal"}),s.jsxs("p",{className:"font-semibold text-foreground",children:["â‚¹",(((u=n.product)==null?void 0:u.price)||0)*n.quantity]})]})]})},n._id)})})}function y2({items:r,onCheckout:e}){const t=r.reduce((u,p)=>{var g;return u+(((g=p.product)==null?void 0:g.price)||0)*p.quantity},0),n=Math.round(t-t/1.18),i=t-n,l=r.reduce((u,p)=>u+p.quantity,0)*50,o=t>1500?0:l,d=t+o;return s.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-border h-fit sticky top-24",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-6",children:"Order Summary"}),s.jsxs("div",{className:"space-y-3 pb-6 border-b border-border",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{className:"text-foreground font-medium",children:["â‚¹",i]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax (18%)"}),s.jsxs("span",{className:"text-foreground font-medium",children:["â‚¹",n]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),s.jsx("span",{className:`font-medium ${o===0?"text-primary":"text-foreground"}`,children:o===0?"Free":`â‚¹${o}`})]})]}),o===0?s.jsx("div",{className:"bg-primary/10 rounded-lg p-3 mt-4 mb-4 text-xs text-primary font-medium",children:"Free shipping applied!"}):s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mt-4 mb-4 text-xs text-muted-foreground font-medium",children:["Add items worth â‚¹",1500-t," more for free shipping"]}),s.jsxs("div",{className:"flex justify-between mb-6 pt-4",children:[s.jsx("span",{className:"text-lg font-semibold text-foreground",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["â‚¹",d]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-xs font-medium text-foreground mb-2",children:"Promo Code"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Enter code",className:"flex-1 px-3 py-2 border border-border rounded-lg text-sm placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),s.jsx("button",{className:"px-4 py-2 bg-muted text-foreground rounded-lg text-sm font-medium hover:bg-border transition-colors",children:"Apply"})]})]}),s.jsx("button",{onClick:e,className:"w-full bg-primary text-primary-foreground py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity mb-3",children:"Proceed to Checkout"}),s.jsx(At,{to:"/products",className:"block",children:s.jsx("button",{className:"w-full bg-muted text-foreground py-3 rounded-lg font-semibold hover:bg-border transition-colors",children:"Continue Shopping"})}),s.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:s.jsxs("div",{className:"text-xs text-muted-foreground space-y-2",children:[s.jsx("p",{children:"âœ“ Secure checkout"}),s.jsx("p",{children:"âœ“ 14-day return policy"}),s.jsx("p",{children:"âœ“ Customer support available"})]})})]})}function w2(){const{authUser:r,openAuthModal:e}=An(),{cart:t,getCart:n,updateQuantity:i,removeFromCart:a,loading:l}=Ga(),o=ks();ue.useEffect(()=>{r&&n()},[r,n]);const d=(b,f)=>{i(b,f)},u=b=>{a(b)},p=()=>{r?o("/checkout"):e({type:"checkout"})};if(l&&!t)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(os,{className:"w-10 h-10 animate-spin text-primary"})});const g=(t==null?void 0:t.items)||[];return s.jsxs("main",{className:"min-h-screen bg-background",children:[s.jsx(As,{}),s.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12 border-b border-border",children:[s.jsxs("h1",{className:"text-4xl font-light text-foreground mb-3",children:["Shopping ",s.jsx("span",{className:"font-semibold",children:"Cart"})]}),s.jsxs("p",{className:"text-muted-foreground",children:[g.length," items in cart"]})]}),g.length>0?s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(v2,{items:g,onUpdateQuantity:d,onRemoveItem:u})}),s.jsx("aside",{className:"lg:col-span-1",children:s.jsx(y2,{items:g,onCheckout:p})})]})}):s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-24",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"ðŸ›ï¸"}),s.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-2",children:"Your cart is empty"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Add some products to get started"}),s.jsx(At,{to:"/products",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Continue Shopping"})]})}),s.jsx(Ls,{})]})}function N2({onSubmit:r}){const[e,t]=ue.useState({email:"",firstName:"",lastName:"",address:"",city:"",state:"",pincode:"",phone:""}),n=a=>{const{name:l,value:o}=a.target;t(d=>({...d,[l]:o}))},i=a=>{a.preventDefault(),r(e)};return s.jsxs("form",{onSubmit:i,className:"bg-white rounded-2xl p-8 border border-border space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Contact Information"}),s.jsx("input",{type:"email",name:"email",placeholder:"Email address",value:e.email,onChange:n,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary mb-4"}),s.jsx("input",{type:"tel",name:"phone",placeholder:"Phone number",value:e.phone,onChange:n,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Shipping Address"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsx("input",{type:"text",name:"firstName",placeholder:"First name",value:e.firstName,onChange:n,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),s.jsx("input",{type:"text",name:"lastName",placeholder:"Last name",value:e.lastName,onChange:n,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsx("input",{type:"text",name:"address",placeholder:"Street address",value:e.address,onChange:n,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary mb-4"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("input",{type:"text",name:"city",placeholder:"City",value:e.city,onChange:n,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),s.jsxs("select",{name:"state",value:e.state,onChange:n,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"Select State"}),s.jsx("option",{value:"DL",children:"Delhi"}),s.jsx("option",{value:"MH",children:"Maharashtra"}),s.jsx("option",{value:"KA",children:"Karnataka"}),s.jsx("option",{value:"TG",children:"Telangana"}),s.jsx("option",{value:"UP",children:"Uttar Pradesh"})]}),s.jsx("input",{type:"text",name:"pincode",placeholder:"Pincode",value:e.pincode,onChange:n,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),s.jsx("button",{type:"submit",className:"w-full bg-primary text-primary-foreground py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity",children:"Continue to Payment"})]})}function Xh({items:r,subtotal:e,tax:t,shipping:n,total:i}){return s.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-border h-fit sticky top-24",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-6",children:"Order Review"}),s.jsx("div",{className:"space-y-4 pb-6 border-b border-border",children:r.map((a,l)=>s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-16 h-16 bg-white rounded-lg overflow-hidden flex-shrink-0 border border-border",children:s.jsx("img",{src:a.image||"/placeholder.svg",alt:a.name,className:"w-full h-full object-contain p-1"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:a.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Qty: ",a.quantity]})]}),s.jsxs("p",{className:"text-sm font-semibold text-foreground",children:["â‚¹",a.price*a.quantity]})]},a.id||l))}),s.jsxs("div",{className:"space-y-3 py-6 border-b border-border",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{className:"text-foreground",children:["â‚¹",e]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax (18%)"}),s.jsxs("span",{className:"text-foreground",children:["â‚¹",t]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),s.jsxs("span",{className:"text-foreground",children:["â‚¹",n]})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-6",children:[s.jsx("span",{className:"font-semibold text-foreground",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["â‚¹",i]})]})]})}function j2(){var w;const[r,e]=ue.useState(1),[t,n]=ue.useState({email:"",firstName:"",lastName:"",address:"",city:"",state:"",pincode:"",phone:""}),{cart:i,getCart:a,clearCart:l}=Ga(),o=ks();ue.useEffect(()=>{a()},[a]);const d=((w=i==null?void 0:i.items)==null?void 0:w.map(U=>{var D;return{...U,name:U.product.name,image:((D=U.product.images)==null?void 0:D[0])||"/placeholder.svg",price:U.product.price,id:U._id}}))||[],u=d.reduce((U,D)=>U+D.price*D.quantity,0),p=Math.round(u-u/1.18),g=u-p,b=d.reduce((U,D)=>U+D.quantity,0),f=u>1500?0:b*50,y=u+f,j=U=>{n(U),e(2)},_=async(U,D)=>{try{(await bt.post("/payment/verify-payment",{razorpay_order_id:U.razorpay_order_id,razorpay_payment_id:U.razorpay_payment_id,razorpay_signature:U.razorpay_signature,orderId:D})).data.success?(it.success("Payment Successful!"),l(),o("/order-success")):it.error("Payment Verification Failed")}catch(F){console.error("Payment verification error:",F),it.error("Payment Verification Failed")}};return s.jsxs("main",{className:"min-h-screen bg-background",children:[s.jsx(As,{}),s.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-3xl font-light text-foreground",children:s.jsx("span",{className:"font-semibold",children:"Checkout"})}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",r," of 2"]})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${r/2*100}%`}})})]}),r===1&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(N2,{onSubmit:j,initialData:t})}),s.jsx("aside",{className:"lg:col-span-1",children:s.jsx(Xh,{items:d,subtotal:g,tax:p,shipping:f,total:y})})]}),r===2&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(_2,{orderData:t,total:y,cartItems:d,onSuccess:_,onBack:()=>e(1)})}),s.jsx("aside",{className:"lg:col-span-1",children:s.jsx(Xh,{items:d,subtotal:g,tax:p,shipping:f,total:y})})]})]}),s.jsx(Ls,{})]})}function _2({orderData:r,total:e,cartItems:t,onSuccess:n,onBack:i}){const[a,l]=ue.useState(!1),[o,d]=ue.useState("COD"),{clearCart:u}=Ga(),p=ks(),g=async()=>{l(!0);try{(await bt.post("/orders",{items:t.map(f=>({product:f.product._id,name:f.name,quantity:f.quantity,price:f.price,image:f.image,variant:f.variant})),totalAmount:e,address:{fullName:`${r.firstName} ${r.lastName}`,phone:r.phone,address:r.address,city:r.city,state:r.state,pincode:r.pincode},paymentMethod:o})).status===201&&(it.success("Order Placed Successfully!"),u(),p("/order-success"))}catch(b){console.error("Order placement error:",b),b.response?(console.error("Server response:",b.response.data),it.error(b.response.data.message||"Failed to place order"),b.response.data.details&&console.error("Validation details:",b.response.data.details)):it.error("Failed to place order")}finally{l(!1)}};return s.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-border",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-6",children:"Payment Method"}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("label",{className:`flex items-center gap-3 p-4 border-2 rounded-lg cursor-pointer transition-colors ${o==="COD"?"border-primary bg-primary/5":"border-border hover:border-primary"}`,children:[s.jsx("input",{type:"radio",name:"payment",checked:o==="COD",onChange:()=>d("COD"),className:"w-4 h-4"}),s.jsx("span",{className:"font-medium text-foreground",children:"Cash on Delivery (COD)"})]}),s.jsx("div",{className:"p-4 border-2 border-border rounded-lg opacity-50 cursor-not-allowed",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"radio",name:"payment",disabled:!0,className:"w-4 h-4"}),s.jsx("span",{className:"font-medium text-foreground",children:"Online Payment (Coming Soon)"})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:g,disabled:a,className:"w-full bg-primary text-primary-foreground py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50",children:a?"Processing...":`Place Order (â‚¹${e})`}),s.jsx("button",{onClick:i,className:"w-full bg-muted text-foreground py-3 rounded-lg font-semibold hover:bg-border transition-colors",children:"Back"})]})]})}function S2(r={}){const{nonce:e,onScriptLoadSuccess:t,onScriptLoadError:n}=r,[i,a]=ue.useState(!1),l=ue.useRef(t);l.current=t;const o=ue.useRef(n);return o.current=n,ue.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,d.nonce=e,d.onload=()=>{var u;a(!0),(u=l.current)===null||u===void 0||u.call(l)},d.onerror=()=>{var u;a(!1),(u=o.current)===null||u===void 0||u.call(o)},document.body.appendChild(d),()=>{document.body.removeChild(d)}},[e]),i}const hm=ue.createContext(null);function k2({clientId:r,nonce:e,onScriptLoadSuccess:t,onScriptLoadError:n,children:i}){const a=S2({nonce:e,onScriptLoadSuccess:t,onScriptLoadError:n}),l=ue.useMemo(()=>({clientId:r,scriptLoadedSuccessfully:a}),[r,a]);return Fa.createElement(hm.Provider,{value:l},i)}function A2(){const r=ue.useContext(hm);if(!r)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return r}function L2(r){var e;return(e=r==null?void 0:r.clientId)!==null&&e!==void 0?e:r==null?void 0:r.client_id}const C2={large:40,medium:32,small:20};function fm({onSuccess:r,onError:e,useOneTap:t,promptMomentNotification:n,type:i="standard",theme:a="outline",size:l="large",text:o,shape:d,logo_alignment:u,width:p,locale:g,click_listener:b,containerProps:f,...y}){const j=ue.useRef(null),{clientId:_,scriptLoadedSuccessfully:w}=A2(),U=ue.useRef(r);U.current=r;const D=ue.useRef(e);D.current=e;const F=ue.useRef(n);return F.current=n,ue.useEffect(()=>{var te,X,K,k,N,T,S,C,W;if(w)return(K=(X=(te=window==null?void 0:window.google)===null||te===void 0?void 0:te.accounts)===null||X===void 0?void 0:X.id)===null||K===void 0||K.initialize({client_id:_,callback:G=>{var le;if(!(G!=null&&G.credential))return(le=D.current)===null||le===void 0?void 0:le.call(D);const{credential:fe,select_by:ne}=G;U.current({credential:fe,clientId:L2(G),select_by:ne})},...y}),(T=(N=(k=window==null?void 0:window.google)===null||k===void 0?void 0:k.accounts)===null||N===void 0?void 0:N.id)===null||T===void 0||T.renderButton(j.current,{type:i,theme:a,size:l,text:o,shape:d,logo_alignment:u,width:p,locale:g,click_listener:b}),t&&((W=(C=(S=window==null?void 0:window.google)===null||S===void 0?void 0:S.accounts)===null||C===void 0?void 0:C.id)===null||W===void 0||W.prompt(F.current)),()=>{var G,le,fe;t&&((fe=(le=(G=window==null?void 0:window.google)===null||G===void 0?void 0:G.accounts)===null||le===void 0?void 0:le.id)===null||fe===void 0||fe.cancel())}},[_,w,t,i,a,l,o,d,u,p,g]),Fa.createElement("div",{...f,ref:j,style:{height:C2[l],...f==null?void 0:f.style}})}const P2=({children:r,padding:e=100,disabled:t=!1,magnetStrength:n=2,activeTransition:i="transform 0.3s ease-out",inactiveTransition:a="transform 0.5s ease-in-out",wrapperClassName:l="",innerClassName:o="",...d})=>{const[u,p]=ue.useState(!1),[g,b]=ue.useState({x:0,y:0}),f=ue.useRef(null);ue.useEffect(()=>{if(t){b({x:0,y:0});return}const j=_=>{if(!f.current)return;const{left:w,top:U,width:D,height:F}=f.current.getBoundingClientRect(),te=w+D/2,X=U+F/2,K=Math.abs(te-_.clientX),k=Math.abs(X-_.clientY);if(K<D/2+e&&k<F/2+e){p(!0);const N=(_.clientX-te)/n,T=(_.clientY-X)/n;b({x:N,y:T})}else p(!1),b({x:0,y:0})};return window.addEventListener("mousemove",j),()=>{window.removeEventListener("mousemove",j)}},[e,t,n]);const y=u?i:a;return s.jsx("div",{ref:f,className:l,style:{position:"relative",display:"inline-block"},...d,children:s.jsx("div",{className:o,style:{transform:`translate3d(${g.x}px, ${g.y}px, 0)`,transition:y,willChange:"transform"},children:r})})};function jo(){const[r,e]=ue.useState("login"),[t,n]=ue.useState(!1),[i,a]=ue.useState(!1),[l,o]=ue.useState({name:"",email:"",password:"",otp:"",newPassword:"",confirmPassword:""}),{login:d,signup:u,googleLogin:p,loading:g}=An(),b=ks(),f=Cc(),y=ue.useRef([]),j=(X,K)=>{const k=X.target.value;if(!/^[0-9]?$/.test(k))return;const N=l.otp.split("");for(;N.length<6;)N.push("");N[K]=k;const T=N.join("").slice(0,6);o({...l,otp:T}),k&&K<5&&y.current[K+1].focus()},_=(X,K)=>{X.key==="Backspace"&&!l.otp[K]&&K>0&&y.current[K-1].focus()};ue.useEffect(()=>{var K,k;const X=f.pathname;X==="/signup"?e("signup"):X==="/login"?e("login"):X==="/forgot-password"?e("forgot-password"):X==="/verify-otp"?e("verify-otp"):X==="/reset-password"&&e("reset-password"),(K=f.state)!=null&&K.email&&o(N=>({...N,email:f.state.email})),(k=f.state)!=null&&k.otp&&o(N=>({...N,otp:f.state.otp}))},[f.pathname,f.state]);const w=async X=>{var K,k,N,T,S,C;if(X.preventDefault(),r==="login")await d({email:l.email,password:l.password});else if(r==="signup")await u({name:l.name,email:l.email,password:l.password});else if(r==="forgot-password"){a(!0);try{await bt.post("/auth/forgot-password",{email:l.email}),Dt.success("OTP sent to your email"),b("/verify-otp",{state:{email:l.email}})}catch(W){Dt.error(((k=(K=W.response)==null?void 0:K.data)==null?void 0:k.message)||"Something went wrong")}finally{a(!1)}}else if(r==="verify-otp"){if(l.otp.length!==6)return Dt.error("OTP must be 6 digits");a(!0);try{await bt.post("/auth/verify-otp",{email:l.email,otp:l.otp}),Dt.success("OTP verified successfully"),b("/reset-password",{state:{email:l.email,otp:l.otp}})}catch(W){Dt.error(((T=(N=W.response)==null?void 0:N.data)==null?void 0:T.message)||"Invalid OTP")}finally{a(!1)}}else if(r==="reset-password"){if(l.newPassword!==l.confirmPassword)return Dt.error("Passwords do not match");if(l.newPassword.length<6)return Dt.error("Password must be at least 6 characters");a(!0);try{await bt.post("/auth/reset-password",{email:l.email,otp:l.otp,newPassword:l.newPassword}),Dt.success("Password reset successfully! Please login."),b("/login")}catch(W){Dt.error(((C=(S=W.response)==null?void 0:S.data)==null?void 0:C.message)||"Error resetting password")}finally{a(!1)}}},U=X=>{X.credential&&p(X.credential)},D=()=>{switch(r){case"login":return"LOGIN";case"signup":return"SIGN UP";case"forgot-password":return"FORGOT PASSWORD";case"verify-otp":return"VERIFY OTP";case"reset-password":return"RESET PASSWORD";default:return"LOGIN"}},F=()=>{switch(r){case"login":return"By accessing your Kumar Kosmetics Account you can track and manage your orders and also save multiple addresses.";case"signup":return"Create your Kumar Kosmetics Account to track orders, save addresses, and enjoy exclusive benefits.";case"forgot-password":return"Enter your email address and we'll send you an OTP to reset your password.";case"verify-otp":return`Enter the 6-digit code sent to ${l.email||"your email"}`;case"reset-password":return"Create a new password for your account";default:return""}},te=i||g;return s.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",children:[s.jsxs("div",{className:"hidden lg:block lg:w-1/2 xl:w-2/5 relative overflow-hidden",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=1200&h=1600&fit=crop&q=80",alt:"Skincare product application",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/5"})]}),s.jsxs("div",{className:"w-full lg:w-1/2 xl:w-3/5 flex flex-col bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 md:px-30 md:py-4",children:[s.jsx("div",{className:"w-28 sm:w-40 md:w-20",children:s.jsx(At,{to:"/",children:s.jsx("img",{src:"/kumarKosmetics.png",alt:"Kumar Kosmetics",className:"w-full h-auto"})})}),s.jsx(At,{to:"/",className:"text-xs sm:text-sm text-gray-600 hover:text-gray-900 whitespace-nowrap",children:"Return to Store"})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 md:px-8 pb-8",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-semibold text-gray-900 mb-3 sm:mb-4",children:D()}),s.jsx("p",{className:"text-gray-400 text-xs sm:text-xs px-4",children:F()})]}),s.jsxs("form",{onSubmit:w,className:"space-y-2 sm:space-y-3",children:[r==="signup"&&s.jsx("div",{children:s.jsx("input",{type:"text",placeholder:"FULL NAME",value:l.name,onChange:X=>o({...l,name:X.target.value}),className:"w-full px-4 sm:px-5 py-4 sm:py-3 bg-white border border-gray-200 rounded-full text-xs sm:text-xs font-semibold placeholder-gray-400 focus:outline-none focus:border-gray-400 transition-colors",required:!0})}),(r==="login"||r==="signup"||r==="forgot-password")&&s.jsx("div",{children:s.jsx("input",{type:"email",placeholder:"ENTER YOUR EMAIL",value:l.email,onChange:X=>o({...l,email:X.target.value}),className:"w-full px-4 sm:px-5 py-4 sm:py-3 bg-white border border-gray-200 rounded-full text-xs sm:text-xs font-semibold placeholder-gray-400 focus:outline-none focus:border-gray-400 transition-colors",required:!0})}),(r==="login"||r==="signup")&&s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:t?"text":"password",placeholder:"PASSWORD",value:l.password,onChange:X=>o({...l,password:X.target.value}),className:"w-full px-4 sm:px-5 py-4 sm:py-3 bg-white border border-gray-200 rounded-full text-xs sm:text-xs font-semibold placeholder-gray-400 focus:outline-none focus:border-gray-400 transition-colors",required:!0}),s.jsx("button",{type:"button",onClick:()=>n(!t),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t?s.jsx(Qi,{size:18}):s.jsx(_s,{size:18})})]}),r==="verify-otp"&&s.jsx("div",{className:"flex gap-3 justify-center",children:Array.from({length:6}).map((X,K)=>s.jsx("input",{type:"text",maxLength:1,ref:k=>y.current[K]=k,value:l.otp[K]||"",onChange:k=>j(k,K),onKeyDown:k=>_(k,K),className:`\r
                            w-12 h-12 \r
                            text-center text-xl font-semibold \r
                            border border-gray-300 \r
                            rounded-xl \r
                            outline-none\r
                            focus:border-indigo-500 \r
                            focus:ring-2 \r
                            focus:ring-indigo-300\r
                        `},K))}),r==="reset-password"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:t?"text":"password",placeholder:"NEW PASSWORD",value:l.newPassword,onChange:X=>o({...l,newPassword:X.target.value}),className:"w-full px-4 sm:px-5 py-4 sm:py-3 bg-white border border-gray-200 rounded-full text-xs sm:text-xs font-semibold placeholder-gray-400 focus:outline-none focus:border-gray-400 transition-colors",required:!0}),s.jsx("button",{type:"button",onClick:()=>n(!t),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t?s.jsx(Qi,{size:18}):s.jsx(_s,{size:18})})]}),s.jsx("div",{children:s.jsx("input",{type:"password",placeholder:"CONFIRM NEW PASSWORD",value:l.confirmPassword,onChange:X=>o({...l,confirmPassword:X.target.value}),className:"w-full px-4 sm:px-5 py-4 sm:py-3 bg-white border border-gray-200 rounded-full text-xs sm:text-xs font-semibold placeholder-gray-400 focus:outline-none focus:border-gray-400 transition-colors",required:!0})})]}),r==="login"&&s.jsxs("div",{className:"flex items-center justify-between px-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",type:"checkbox",className:"h-4 w-4 text-gray-800 focus:ring-gray-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-xs text-gray-600",children:"Remember me"})]}),s.jsx(At,{to:"/forgot-password",className:"text-xs sm:text-sm text-gray-600 hover:text-gray-900 underline",children:"Forgot Password"})]}),s.jsx("div",{className:"flex justify-center w-full",children:s.jsx(P2,{padding:50,disabled:te,magnetStrength:5,children:s.jsx("button",{type:"submit",disabled:te,className:"px-8 py-2 sm:py-3 bg-gray-800 text-white rounded-full text-xs sm:text-sm font-semibold hover:bg-gray-900 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed min-w-[120px]",children:te?s.jsx(os,{className:"size-5 animate-spin"}):r==="login"?"LOGIN":r==="signup"?"SIGN UP":r==="forgot-password"?"SEND OTP":r==="verify-otp"?"VERIFY":"RESET PASSWORD"})})}),(r==="login"||r==="signup")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative my-4",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200"})}),s.jsx("div",{className:"relative flex justify-center text-xs",children:s.jsx("span",{className:"bg-gray-50 px-2 text-gray-500",children:"Or continue with"})})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(fm,{onSuccess:U,onError:()=>console.log("Login Failed"),useOneTap:!0,shape:"circle"})})]})]}),s.jsxs("div",{className:"text-center mt-6 sm:mt-8",children:[r==="login"&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Don't Have an Account Already?"}),s.jsx(At,{to:"/signup",className:"text-gray-900 text-sm sm:text-base font-medium underline hover:text-gray-700 mt-1 block",children:"Sign Up"})]}),r==="signup"&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Already Have an Account?"}),s.jsx(At,{to:"/login",className:"text-gray-900 text-sm sm:text-base font-medium underline hover:text-gray-700 mt-1 block",children:"Login"})]}),(r==="forgot-password"||r==="verify-otp"||r==="reset-password")&&s.jsx(At,{to:"/login",className:"text-gray-900 text-sm sm:text-base font-medium underline hover:text-gray-700 mt-1",children:"Back to Login"})]})]})})]})]})}function E2(){const[r,e]=ue.useState({name:"",email:"",subject:"",message:""}),[t,n]=ue.useState(!1),i=l=>{e({...r,[l.target.name]:l.target.value})},a=async l=>{var o,d;l.preventDefault(),n(!0);try{await bt.post("/contact",r),Dt.success("Message sent successfully!"),e({name:"",email:"",subject:"",message:""})}catch(u){console.error("Error sending message:",u),Dt.error(((d=(o=u.response)==null?void 0:o.data)==null?void 0:d.message)||"Failed to send message")}finally{n(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col font-sans",children:[s.jsx(As,{}),s.jsxs("main",{className:"flex-grow",children:[s.jsxs("section",{className:"bg-primary text-primary-foreground py-12 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10 text-center",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Get in Touch"}),s.jsx("p",{className:"text-base md:text-lg text-primary-foreground/90 max-w-2xl mx-auto leading-relaxed",children:"We'd love to hear from you. Whether you have a question about our products, need assistance, or just want to say hello, our team is here to help."})]})]}),s.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8 -mt-8 relative z-20",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center text-primary",children:s.jsx(Lc,{className:"w-5 h-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email Us"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Our friendly team is here to help."}),s.jsx("a",{href:"mailto:support@kumarkosmetics.com",className:"text-primary font-medium hover:underline text-sm",children:"support@kumarkosmetics.com"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center text-primary",children:s.jsx(wu,{className:"w-5 h-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Visit Us"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Come say hello at our office headquarters."}),s.jsx("p",{className:"text-gray-900 font-medium text-sm",children:"123 Skincare Lane, Beauty City, BC 12345"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center text-primary",children:s.jsx(kp,{className:"w-5 h-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Business Hours"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Mon - Fri: 9am - 6pm"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Sat - Sun: Closed"})]})]}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 md:p-8 h-full",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Send us a Message"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Fill out the form below and we'll get back to you as soon as possible."})]}),s.jsxs("form",{onSubmit:a,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Full Name"}),s.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:r.name,onChange:i,className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none bg-gray-50 focus:bg-white text-sm",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Email Address"}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:i,className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none bg-gray-50 focus:bg-white text-sm",placeholder:"john@example.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Subject"}),s.jsx("input",{id:"subject",name:"subject",type:"text",value:r.subject,onChange:i,className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none bg-gray-50 focus:bg-white text-sm",placeholder:"How can we help you?"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Message"}),s.jsx("textarea",{id:"message",name:"message",rows:4,required:!0,value:r.message,onChange:i,className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none bg-gray-50 focus:bg-white resize-none text-sm",placeholder:"Tell us more about your inquiry..."})]}),s.jsx("button",{type:"submit",disabled:t,className:"w-full md:w-auto px-6 py-3 bg-primary text-primary-foreground font-semibold rounded-lg hover:opacity-90 disabled:opacity-70 transition-all shadow-md shadow-primary/20 flex items-center justify-center gap-2 transform active:scale-[0.98] text-sm",children:t?"Sending...":s.jsxs(s.Fragment,{children:["Send Message ",s.jsx(xg,{className:"w-4 h-4"})]})})]})]})})]})})]}),s.jsx(Ls,{})]})}function pm(){const[r,e]=ue.useState([]),[t,n]=ue.useState(!0),[i,a]=ue.useState(""),[l,o]=ue.useState(null);ue.useEffect(()=>{d()},[]);const d=async()=>{try{const g=await bt.get("/contact/admin/contact-messages");e(g.data)}catch(g){console.error("Error fetching messages:",g),Dt.error("Failed to fetch messages")}finally{n(!1)}},u=async g=>{if(window.confirm("Are you sure you want to delete this message?"))try{await bt.delete(`/contact/admin/contact-messages/${g}`),e(r.filter(b=>b._id!==g)),Dt.success("Message deleted successfully"),(l==null?void 0:l._id)===g&&o(null)}catch(b){console.error("Error deleting message:",b),Dt.error("Failed to delete message")}},p=r.filter(g=>{var b;return g.name.toLowerCase().includes(i.toLowerCase())||g.email.toLowerCase().includes(i.toLowerCase())||((b=g.subject)==null?void 0:b.toLowerCase().includes(i.toLowerCase()))});return t?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx(os,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-light text-foreground",children:[s.jsx("span",{className:"font-semibold",children:"Messages"}),s.jsxs("span",{className:"text-lg text-muted-foreground ml-2",children:["(",r.length,")"]})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage inquiries from your customers"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search messages...",value:i,onChange:g=>a(g.target.value),className:"pl-10 pr-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary w-full md:w-64"})]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Sender"}),s.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Subject"}),s.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Preview"}),s.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:s.jsx(Va,{children:p.length===0?s.jsx(cr.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsx("td",{colSpan:"5",className:"px-6 py-16 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Lc,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No messages found"}),s.jsx("p",{className:"text-gray-500",children:"We couldn't find any messages matching your search."})]})})}):p.map((g,b)=>s.jsxs(cr.tr,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:b*.05},className:"hover:bg-gray-50/80 transition-colors group",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-gray-900",children:g.name}),s.jsx("a",{href:`mailto:${g.email}`,className:"text-sm text-gray-500 hover:text-primary transition-colors",children:g.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900 font-medium bg-gray-100 px-2.5 py-1 rounded-md",children:g.subject||"No Subject"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("p",{className:"text-sm text-gray-600 line-clamp-1 max-w-xs",children:g.message})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-500",children:new Date(g.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>o(g),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(_s,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>u(g._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Message",children:s.jsx(Wa,{className:"w-4 h-4"})})]})})]},g._id))})})]})})}),l&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-[95%] sm:w-full sm:max-w-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Message Details"}),s.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ti,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Sender"}),s.jsx("p",{className:"text-gray-900 font-medium",children:l.name}),s.jsx("a",{href:`mailto:${l.email}`,className:"text-primary text-sm hover:underline",children:l.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Date"}),s.jsx("p",{className:"text-gray-900",children:new Date(l.createdAt).toLocaleString("en-US",{dateStyle:"full",timeStyle:"short"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Subject"}),s.jsx("p",{className:"text-gray-900 font-medium text-lg",children:l.subject||"No Subject"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2",children:"Message"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:l.message})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:s.jsx("button",{onClick:()=>o(null),className:"px-6 py-2.5 bg-gray-900 text-white hover:bg-gray-800 rounded-lg transition-colors font-medium",children:"Close"})})]})})]})}function F2({onAnalysisComplete:r}){const[e,t]=ue.useState(1),[n,i]=ue.useState({skinType:"",concerns:[],allergies:[]}),a=["Oily","Dry","Combination","Sensitive","Normal"],l=["Acne","Dullness","Pigmentation","Anti-aging","Redness","Dark spots","Uneven skin tone"],o=["Fragrance-free","Paraben-free","Sulfate-free","Silicone-free","Alcohol-free"],d=b=>{i(f=>({...f,concerns:f.concerns.includes(b)?f.concerns.filter(y=>y!==b):[...f.concerns,b]}))},u=b=>{i(f=>({...f,allergies:f.allergies.includes(b)?f.allergies.filter(y=>y!==b):[...f.allergies,b]}))},p=()=>{e===1&&!n.skinType||e<3&&t(e+1)},g=()=>{r(n)};return s.jsxs("section",{className:"max-w-2xl mx-auto px-4 py-16",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h1",{className:"text-3xl font-light text-foreground",children:["Find Your ",s.jsx("span",{className:"font-semibold",children:"Perfect Products"})]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",e," of 3"]})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${e/3*100}%`}})})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-border",children:[e===1&&s.jsxs("div",{className:"slide-up",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-6",children:"What's your skin type?"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:a.map(b=>s.jsx("button",{onClick:()=>i(f=>({...f,skinType:b})),className:`p-4 rounded-lg font-medium transition-all ${n.skinType===b?"bg-primary text-primary-foreground":"bg-muted text-foreground hover:bg-border"}`,children:b},b))}),s.jsx("p",{className:"text-sm text-muted-foreground mt-6",children:n.skinType&&I2(n.skinType)})]}),e===2&&s.jsxs("div",{className:"slide-up",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-2",children:"What are your main concerns?"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Select all that apply"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:l.map(b=>s.jsx("button",{onClick:()=>d(b),className:`p-4 rounded-lg font-medium transition-all border-2 ${n.concerns.includes(b)?"border-primary bg-primary/10 text-primary":"border-border text-foreground hover:border-primary"}`,children:b},b))})]}),e===3&&s.jsxs("div",{className:"slide-up",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-2",children:"Any preferences?"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Select attributes you look for"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-8",children:o.map(b=>s.jsx("button",{onClick:()=>u(b),className:`p-4 rounded-lg font-medium transition-all border-2 ${n.allergies.includes(b)?"border-secondary bg-secondary/10 text-secondary":"border-border text-foreground hover:border-secondary"}`,children:b},b))}),s.jsx("div",{className:"bg-accent/10 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-foreground",children:[s.jsx("span",{className:"font-semibold",children:"Your Profile:"})," ",n.skinType," skin |"," ",n.concerns.length>0?n.concerns.join(", "):"No concerns selected"]})})]}),s.jsxs("div",{className:"flex gap-3 mt-8",children:[s.jsx("button",{onClick:()=>t(Math.max(1,e-1)),disabled:e===1,className:`px-6 py-3 rounded-lg font-medium transition-colors ${e===1?"bg-muted text-muted-foreground cursor-not-allowed":"bg-muted text-foreground hover:bg-border"}`,children:"Back"}),e<3?s.jsx("button",{onClick:p,disabled:e===1&&!n.skinType,className:`flex-1 px-6 py-3 rounded-lg font-medium transition-colors ${e===1&&!n.skinType?"bg-muted text-muted-foreground cursor-not-allowed":"bg-primary text-primary-foreground hover:opacity-90"}`,children:"Next"}):s.jsx("button",{onClick:g,className:"flex-1 px-6 py-3 rounded-lg font-medium bg-primary text-primary-foreground hover:opacity-90 transition-colors",children:"See My Recommendations"})]})]})]})}function I2(r){return{Oily:"Skin that tends to produce excess oil, especially in the T-zone. Best suited for lightweight, oil-free products.",Dry:"Skin that lacks moisture and may feel tight. Benefits from rich, nourishing formulations.",Combination:"Skin that is oily in some areas and dry in others. Requires balanced care.",Sensitive:"Skin prone to irritation and redness. Needs gentle, fragrance-free products.",Normal:"Balanced skin with minimal sensitivity. Versatile for most product types."}[r]||""}function T2({analysis:r,onReset:e}){const[t,n]=ue.useState([]),[i,a]=ue.useState(!0);ue.useEffect(()=>{(async()=>{try{const p=await bt.get("/products");n(p.data.products||[])}catch(p){console.error("Error fetching products:",p)}finally{a(!1)}})()},[]);const l=t.filter(u=>{const p=u.skinType||[],g=p.includes(r.skinType)||p.includes("All"),b=u.skinConcerns||u.concerns||[],f=r.concerns.length===0||b.some(_=>r.concerns.includes(_)),y=u.allergyLabels||u.tags||[],j=r.allergies.every(_=>y.includes(_));return g&&f&&j}),d=["Cleanser","Toner","Serum","Moisturizer","Sunscreen"].map(u=>{const p=l.find(g=>{var b;return g.category===u||((b=g.category)==null?void 0:b.includes(u))});return p?{step:u,product:p}:null}).filter(Boolean);return i?s.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:s.jsx(os,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-light text-foreground mb-2",children:["Your ",s.jsx("span",{className:"font-semibold",children:"Personalized Results"})]}),s.jsxs("p",{className:"text-muted-foreground",children:[r.skinType," skin with"," ",r.concerns.length>0?r.concerns.join(", "):"no specific concerns"]})]}),s.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-primary hover:opacity-75 transition-opacity",children:[s.jsx(Ap,{className:"w-4 h-4"}),"Retake Quiz"]})]}),d.length>0&&s.jsxs("div",{className:"mb-16 bg-gradient-to-r from-primary/5 to-secondary/5 rounded-2xl p-8 border border-border",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-8",children:"Your Daily Routine"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map((u,p)=>s.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm",children:[s.jsx("div",{className:"text-4xl font-light text-primary mb-2",children:p+1}),s.jsx("h3",{className:"font-semibold text-foreground mb-1",children:u.step}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:u.product.name})]},p))})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-semibold text-foreground mb-8",children:["Recommended for You (",l.length,")"]}),l.length>0?s.jsx(Iu,{viewType:"grid",products:l,filters:{category:[],priceRange:[0,1e5],skinType:[],concern:[]}}):s.jsxs("div",{className:"bg-muted rounded-2xl p-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"No products match your specific preferences perfectly."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your quiz answers to see more results."}),s.jsx("button",{onClick:e,className:"mt-6 bg-primary text-primary-foreground px-6 py-2 rounded-lg font-medium hover:opacity-90",children:"Retake Quiz"})]})]})]})}function O2(){const[r,e]=ue.useState(null),{authUser:t}=An(),n=async i=>{if(e(i),t)try{await bt.put("/auth/profile/skin",i),Dt.success("Skin profile saved!")}catch(a){console.error("Failed to save skin profile",a)}};return s.jsxs("main",{className:"min-h-screen bg-background",children:[s.jsx(As,{}),r?s.jsx(s.Fragment,{children:s.jsx(T2,{analysis:r,onReset:()=>e(null)})}):s.jsx(F2,{onAnalysisComplete:n}),s.jsx(Ls,{})]})}const R2=({currentSection:r,setCurrentSection:e})=>{const t=[{id:"overview",label:"Overview",icon:bg},{id:"products",label:"Products",icon:ea},{id:"orders",label:"Orders",icon:vg},{id:"customers",label:"Customers",icon:yu},{id:"messages",label:"Messages",icon:Lc}];return s.jsxs("aside",{className:"w-64 bg-slate-900 border-r border-slate-800 flex flex-col h-full shadow-2xl sticky top-0 left-0 z-30",children:[s.jsx("div",{className:"h-20 flex items-center justify-center border-b border-slate-800/50",children:s.jsx(At,{to:"/",className:"flex items-center gap-3 group",children:s.jsx("div",{className:"group-hover:scale-105 transition-transform duration-300",children:s.jsx("img",{src:"/darkKumarKosmetics.png",alt:"Kumar Kosmetics",className:"h-10 w-auto object-contain"})})})}),s.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1",children:[s.jsx("p",{className:"px-3 text-[11px] font-bold text-slate-500 uppercase tracking-widest mb-3",children:"Main Menu"}),t.map(n=>{const i=n.icon,a=r===n.id;return s.jsxs("button",{onClick:()=>e(n.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group ${a?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[s.jsx(i,{className:`w-[18px] h-[18px] transition-colors ${a?"text-white":"text-slate-500 group-hover:text-white"}`}),s.jsx("span",{children:n.label}),a&&s.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-indigo-300"})]},n.id)})]}),s.jsx("div",{className:"p-4 border-t border-slate-800 bg-slate-900",children:s.jsxs(At,{to:"/",className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg font-medium transition-all text-sm border border-slate-700/50 hover:border-slate-600",children:[s.jsx(yg,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Shop"})]})})]})};function D2({products:r=[],orders:e=[],customers:t=[]}){const[n,i]=ue.useState("7d"),a=ue.useMemo(()=>{const g=e.reduce((w,U)=>w+(U.totalAmount||0),0),b=g>0?g:r.reduce((w,U)=>w+U.price*(50-(U.stock||0)),0),f=e.length,y=t.length,j=r.length,_=f>0?b/f:0;return[{label:"Total Revenue",value:`â‚¹${b.toLocaleString()}`,change:"+12.5%",isPositive:!0,icon:wg,color:"text-emerald-500"},{label:"Total Orders",value:f.toString(),change:"+8.2%",isPositive:!0,icon:vu,color:"text-blue-500"},{label:"Total Customers",value:y.toString(),change:"+5.4%",isPositive:!0,icon:yu,color:"text-purple-500"},{label:"Total Products",value:j.toString(),change:"0%",isPositive:!0,icon:ea,color:"text-amber-500"},{label:"Avg. Order Value",value:`â‚¹${Math.round(_).toLocaleString()}`,change:"-2.1%",isPositive:!1,icon:Ac,color:"text-rose-500"}]},[r,e,t]),l=ue.useMemo(()=>{const g=n==="7d"?7:30,b=jh(new Date,g),f=[];for(let y=g-1;y>=0;y--){const j=jh(new Date,y);f.push({date:Na(j,"yyyy-MM-dd"),name:n==="7d"?Na(j,"EEE"):Na(j,"dd/MM"),revenue:0})}return e.length>0?(e.forEach(y=>{if(!y.createdAt)return;const j=Dg(y.createdAt);if(Mg(j,b)){const _=Na(j,"yyyy-MM-dd"),w=f.find(U=>U.date===_);w&&(w.revenue+=y.totalAmount||0)}}),f):[{name:"Mon",revenue:4e3},{name:"Tue",revenue:3e3},{name:"Wed",revenue:2e3},{name:"Thu",revenue:2780},{name:"Fri",revenue:1890},{name:"Sat",revenue:2390},{name:"Sun",revenue:3490}]},[e,n]),o=ue.useMemo(()=>{if(!t||t.length===0)return[];const g={Oily:0,Dry:0,Combination:0,Sensitive:0,Normal:0};let b=!1;return t.forEach(f=>{if(f.skinProfile&&f.skinProfile.skinType){const y=f.skinProfile.skinType;g[y]!==void 0&&(g[y]++,b=!0)}}),b?[{name:"Oily",value:g.Oily,color:"#10b981"},{name:"Dry",value:g.Dry,color:"#3b82f6"},{name:"Combination",value:g.Combination,color:"#8b5cf6"},{name:"Sensitive",value:g.Sensitive,color:"#f43f5e"}].filter(f=>f.value>0):[{name:"No Data",value:100,color:"#f1f5f9"}]},[t]),d=ue.useMemo(()=>{const g=r.filter(f=>(f.stock||0)<10&&(f.stock||0)>0).length,b=r.filter(f=>(f.stock||0)===0).length;return{lowStock:g,outOfStock:b}},[r]),u=ue.useMemo(()=>{if(e.length>0){const g={};return e.forEach(b=>{b.items&&Array.isArray(b.items)&&b.items.forEach(f=>{const y=f.product||f._id||f.name,j=r.find(_=>_._id===y)||{};g[y]||(g[y]={name:f.name,sales:0,revenue:0,image:f.image,price:f.price,category:f.category,views:j.views||0}),g[y].sales+=f.quantity||1,g[y].revenue+=f.price*(f.quantity||1),j.views&&(g[y].views=j.views)})}),Object.values(g).sort((b,f)=>f.sales-b.sales).slice(0,5)}return[...r].sort((g,b)=>b.price-g.price).slice(0,3).map(g=>({...g,sales:0,views:g.views||0}))},[r,e]),p=ue.useMemo(()=>{const g=[];return e.forEach(b=>{g.push({type:"order",title:`Order #${b._id?b._id.slice(-4):"---"}`,desc:`â‚¹${b.totalAmount}`,time:b.createdAt,color:"bg-emerald-500",rawTime:new Date(b.createdAt)})}),t.forEach(b=>{g.push({type:"user",title:"New Customer",desc:`${b.name}`,time:b.createdAt,color:"bg-blue-500",rawTime:new Date(b.createdAt)})}),g.sort((b,f)=>f.rawTime-b.rawTime).slice(0,5).map(b=>({...b,time:Bg(b.rawTime)?`Today, ${Na(b.rawTime,"HH:mm")}`:Na(b.rawTime,"MMM d, HH:mm")}))},[e,t]);return s.jsxs("div",{className:"p-6 space-y-6 bg-muted/40 min-h-full",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:a.map((g,b)=>s.jsxs(cr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},className:"bg-card px-4 py-3 rounded-xl shadow-sm border border-border flex items-center justify-between hover:shadow-md transition-shadow",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-[10px] font-bold uppercase tracking-wider",children:g.label}),s.jsxs("div",{className:"flex items-baseline gap-2 mt-0.5",children:[s.jsx("h3",{className:"text-lg font-bold text-card-foreground",children:g.value}),s.jsx("span",{className:`text-[10px] font-medium ${g.isPositive?"text-green-500":"text-red-500"}`,children:g.change})]})]}),s.jsx("div",{className:`p-1.5 rounded-full bg-muted/50 ${g.color}`,children:s.jsx(g.icon,{size:16})})]},b))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(cr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Sales Overview"}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Revenue performance over time"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:n,onChange:g=>i(g.target.value),className:"appearance-none bg-slate-50 border border-slate-200 text-slate-700 text-sm rounded-lg py-2 pl-4 pr-10 focus:ring-2 focus:ring-indigo-100 focus:border-indigo-400 outline-none cursor-pointer font-medium",children:[s.jsx("option",{value:"7d",children:"Last 7 Days"}),s.jsx("option",{value:"30d",children:"Last 30 Days"})]}),s.jsx(Ng,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),s.jsx("div",{className:"h-72 w-full",children:s.jsx(_h,{width:"100%",height:"100%",children:s.jsxs(Ug,{data:l,margin:{top:10,right:30,left:0,bottom:0},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.5}),s.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),s.jsx(zg,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Hg,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:500},dy:10}),s.jsx(Wg,{axisLine:!1,tickLine:!1,width:80,tick:{fill:"#94a3b8",fontSize:11,fontWeight:500},tickFormatter:g=>`â‚¹${g}`}),s.jsx(Sh,{contentStyle:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #e2e8f0",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},itemStyle:{color:"#1e293b",fontWeight:600},labelStyle:{color:"#64748b",marginBottom:"0.5rem",fontSize:"12px"},cursor:{stroke:"#6366f1",strokeWidth:1,strokeDasharray:"4 4"},formatter:g=>[`â‚¹${g}`,"Revenue"]}),s.jsx($g,{type:"monotone",dataKey:"revenue",stroke:"#6366f1",strokeWidth:3,fill:"url(#colorRevenue)",fillOpacity:1,dot:{r:4,fill:"#fff",strokeWidth:2,stroke:"#6366f1"},activeDot:{r:6,fill:"#6366f1",stroke:"#fff",strokeWidth:2}})]})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(cr.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-card p-5 rounded-xl shadow-sm border border-border",children:[s.jsx("h3",{className:"text-base font-bold text-card-foreground mb-4",children:"Inventory Health"}),s.jsxs("div",{className:"space-y-3",children:[d.outOfStock>0&&s.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-red-500/10 rounded-lg border border-red-500/20",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-red-500",children:s.jsx(Lp,{size:16})}),s.jsx("span",{className:"text-sm font-medium text-red-700 dark:text-red-400",children:"Out of Stock"})]}),s.jsx("span",{className:"text-base font-bold text-red-700 dark:text-red-400",children:d.outOfStock})]}),d.lowStock>0&&s.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-amber-500/10 rounded-lg border border-amber-500/20",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-amber-500",children:s.jsx(jg,{size:16})}),s.jsx("span",{className:"text-sm font-medium text-amber-700 dark:text-amber-400",children:"Low Stock"})]}),s.jsx("span",{className:"text-base font-bold text-amber-700 dark:text-amber-400",children:d.lowStock})]}),d.outOfStock===0&&d.lowStock===0&&s.jsx("div",{className:"p-4 text-center text-muted-foreground bg-muted/30 rounded-lg border border-dashed border-border",children:s.jsx("p",{className:"text-sm",children:"Inventory is healthy"})})]})]}),s.jsxs(cr.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-card p-5 rounded-xl shadow-sm border border-border",children:[s.jsx("h3",{className:"text-base font-bold text-card-foreground mb-4",children:"Skin Intelligence"}),s.jsxs("div",{className:"h-40 relative",children:[s.jsx(_h,{width:"100%",height:"100%",children:s.jsxs(Vg,{children:[s.jsx(Gg,{data:o,cx:"50%",cy:"50%",innerRadius:50,outerRadius:70,paddingAngle:5,dataKey:"value",children:o.map((g,b)=>s.jsx(Yg,{fill:g.color},`cell-${b}`))}),s.jsx(Sh,{})]})}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Top Type"}),s.jsx("span",{className:"text-lg font-bold text-card-foreground",children:o.length===0||o.length===1&&o[0].name==="No Data"?"---":o.reduce((g,b)=>g.value>b.value?g:b).name})]})]}),s.jsx("div",{className:"flex justify-center gap-3 mt-2",children:o.length===0||o.length===1&&o[0].name==="No Data"?s.jsx("span",{className:"text-xs text-muted-foreground mt-2",children:"No analysis data yet"}):o.map((g,b)=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:g.color}}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:g.name})]},b))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(cr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Top Performing Products"}),s.jsx("button",{className:"text-indigo-600 text-sm font-medium hover:text-indigo-700 transition-colors",children:"View All"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"text-xs text-slate-400 uppercase tracking-wider text-left border-b border-slate-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"pb-3 pl-2 font-medium",children:"Product"}),s.jsx("th",{className:"pb-3 text-right font-medium",children:"Price"}),s.jsx("th",{className:"pb-3 text-right font-medium",children:"Sales"}),s.jsx("th",{className:"pb-3 text-right font-medium",children:"Views"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-50",children:u.map((g,b)=>s.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[s.jsx("td",{className:"py-4 pl-2",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-100 flex items-center justify-center overflow-hidden shadow-sm border border-slate-100",children:g.images&&g.images[0]?s.jsx("img",{src:g.images[0],alt:g.name,className:"w-full h-full object-cover"}):g.image?s.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover"}):s.jsx(ea,{size:20,className:"text-slate-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-slate-800 text-sm truncate max-w-[180px]",children:g.name}),s.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:g.category||"Beauty"})]})]})}),s.jsxs("td",{className:"py-4 text-right text-sm font-semibold text-slate-700",children:["â‚¹",g.price]}),s.jsx("td",{className:"py-4 text-right text-sm text-slate-600 font-medium",children:g.sales!==void 0?g.sales:"0"}),s.jsx("td",{className:"py-4 text-right",children:s.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs px-2.5 py-1 bg-indigo-50 text-indigo-600 rounded-full font-medium",children:[s.jsx(_s,{size:12})," ",g.views||0]})})]},b))})]})})]}),s.jsxs(cr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-card p-6 rounded-xl shadow-sm border border-border",children:[s.jsx("h3",{className:"text-lg font-bold text-card-foreground mb-6",children:"Recent Alerts"}),s.jsxs("div",{className:"space-y-0 relative",children:[s.jsx("div",{className:"absolute left-2.5 top-0 bottom-0 w-0.5 bg-muted"}),p.length>0?p.map((g,b)=>s.jsxs("div",{className:"relative pl-8 pb-6 last:pb-0 group",children:[s.jsx("div",{className:`absolute left-0 w-5 h-5 rounded-full border-4 border-card ${g.color} shadow-sm z-10`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-card-foreground group-hover:text-primary transition-colors",children:g.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:g.desc}),s.jsxs("div",{className:"flex items-center gap-1 mt-1 text-[10px] text-muted-foreground",children:[s.jsx(kp,{size:10}),g.time]})]})]},b)):s.jsx("p",{className:"text-sm text-muted-foreground pl-4",children:"No recent activity"})]})]})]})]})}function M2({products:r,setProducts:e}){const t=ks(),[n,i]=ue.useState(!1),a=async o=>{if(confirm("Are you sure you want to delete this product?"))try{await bt.delete(`/products/${o}`),e(r.filter(d=>d._id!==o)),Dt.success("Product deleted successfully")}catch(d){console.error("Error deleting product:",d),Dt.error("Failed to delete product")}},l=async()=>{i(!0);try{const o=await bt.post("/products/cleanup-duplicates");if(o.data.deletedCount>0){Dt.success(`Cleaned up ${o.data.deletedCount} duplicate products`);const d=await bt.get("/products");e(d.data.products)}else Dt.success("No duplicate products found")}catch(o){console.error("Cleanup error:",o),Dt.error("Failed to cleanup duplicates")}finally{i(!1)}};return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("h2",{className:"text-3xl font-light text-foreground",children:[s.jsx("span",{className:"font-semibold",children:"Products"}),s.jsxs("span",{className:"text-lg text-muted-foreground ml-2",children:["(",r.length,")"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:l,disabled:n,className:"bg-white border border-gray-300 text-gray-700 px-6 py-2 rounded-lg font-medium hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",children:[s.jsx(_g,{size:20,className:n?"animate-spin":""}),n?"Cleaning...":"Cleanup Duplicates"]}),s.jsxs("button",{onClick:()=>t("/admin/bulk-products"),className:"bg-white border border-gray-300 text-gray-700 px-6 py-2 rounded-lg font-medium hover:bg-gray-50 flex items-center gap-2",children:[s.jsx(mc,{size:20}),"Bulk Upload"]}),s.jsxs("button",{onClick:()=>t("/admin/add-product"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Go,{size:20}),"Add Product"]})]})]}),r.length===0?s.jsxs("div",{className:"bg-white rounded-2xl border border-border p-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No products added yet"}),s.jsx("button",{onClick:()=>t("/admin/add-product"),className:"bg-primary text-primary-foreground px-6 py-2 rounded-lg font-medium hover:opacity-90",children:"Add Your First Product"})]}):s.jsx("div",{className:"bg-white rounded-2xl border border-border overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Image"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Product Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{children:s.jsx(Va,{children:r.map((o,d)=>{var u;return s.jsxs(cr.tr,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:d*.05},className:"border-b border-gray-100 hover:bg-gray-50/80 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:s.jsx("div",{className:"w-12 h-12 bg-white rounded-lg overflow-hidden flex items-center justify-center border border-gray-200 shadow-sm",children:s.jsx("img",{src:((u=o.images)==null?void 0:u[0])||"/placeholder.svg",alt:o.name,className:"w-full h-full object-cover"})})}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:o.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:o.category}),s.jsxs("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:["â‚¹",o.price]}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsxs("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium border ${o.stock>30?"bg-green-50 text-green-700 border-green-100":o.stock>10?"bg-yellow-50 text-yellow-700 border-yellow-100":"bg-red-50 text-red-700 border-red-100"}`,children:[o.stock," units"]})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>t(`/admin/edit-product/${o._id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Product",children:s.jsx(Cp,{size:18})}),s.jsx("button",{onClick:()=>a(o._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Product",children:s.jsx(Wa,{size:18})})]})})]},o._id)})})})]})})]})}const B2="modulepreload",q2=function(r){return"/"+r},Jh={},wd=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let l=function(u){return Promise.all(u.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),d=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=l(t.map(u=>{if(u=q2(u),u in Jh)return;Jh[u]=!0;const p=u.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${g}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":B2,p||(b.as="script"),b.crossOrigin="",b.href=u,d&&b.setAttribute("nonce",d),document.head.appendChild(b),p)return new Promise((f,y)=>{b.addEventListener("load",f),b.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function Zt(r){"@babel/helpers - typeof";return Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(r)}var as=Uint8Array,Hn=Uint16Array,Tu=Int32Array,Ou=new as([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ru=new as([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Zh=new as([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mm=function(r,e){for(var t=new Hn(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new Tu(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)i[a]=a-t[n]<<5|n;return{b:t,r:i}},gm=mm(Ou,2),U2=gm.b,iu=gm.r;U2[28]=258,iu[258]=28;var z2=mm(Ru,0),Qh=z2.r,au=new Hn(32768);for(var dr=0;dr<32768;++dr){var Ni=(dr&43690)>>1|(dr&21845)<<1;Ni=(Ni&52428)>>2|(Ni&13107)<<2,Ni=(Ni&61680)>>4|(Ni&3855)<<4,au[dr]=((Ni&65280)>>8|(Ni&255)<<8)>>1}var Ho=(function(r,e,t){for(var n=r.length,i=0,a=new Hn(e);i<n;++i)r[i]&&++a[r[i]-1];var l=new Hn(e);for(i=1;i<e;++i)l[i]=l[i-1]+a[i-1]<<1;var o;if(t){o=new Hn(1<<e);var d=15-e;for(i=0;i<n;++i)if(r[i])for(var u=i<<4|r[i],p=e-r[i],g=l[r[i]-1]++<<p,b=g|(1<<p)-1;g<=b;++g)o[au[g]>>d]=u}else for(o=new Hn(n),i=0;i<n;++i)r[i]&&(o[i]=au[l[r[i]-1]++]>>15-r[i]);return o}),la=new as(288);for(var dr=0;dr<144;++dr)la[dr]=8;for(var dr=144;dr<256;++dr)la[dr]=9;for(var dr=256;dr<280;++dr)la[dr]=7;for(var dr=280;dr<288;++dr)la[dr]=8;var wc=new as(32);for(var dr=0;dr<32;++dr)wc[dr]=5;var H2=Ho(la,9,0),W2=Ho(wc,5,0),xm=function(r){return(r+7)/8|0},$2=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new as(r.subarray(e,t))},Ys=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},_o=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},Nd=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,a=t.slice();if(!i)return{t:vm,l:0};if(i==1){var l=new as(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(te,X){return te.f-X.f}),t.push({s:-1,f:25001});var o=t[0],d=t[1],u=0,p=1,g=2;for(t[0]={s:-1,f:o.f+d.f,l:o,r:d};p!=i-1;)o=t[t[u].f<t[g].f?u++:g++],d=t[u!=p&&t[u].f<t[g].f?u++:g++],t[p++]={s:-1,f:o.f+d.f,l:o,r:d};for(var b=a[0].s,n=1;n<i;++n)a[n].s>b&&(b=a[n].s);var f=new Hn(b+1),y=ou(t[p-1],f,0);if(y>e){var n=0,j=0,_=y-e,w=1<<_;for(a.sort(function(X,K){return f[K.s]-f[X.s]||X.f-K.f});n<i;++n){var U=a[n].s;if(f[U]>e)j+=w-(1<<y-f[U]),f[U]=e;else break}for(j>>=_;j>0;){var D=a[n].s;f[D]<e?j-=1<<e-f[D]++-1:++n}for(;n>=0&&j;--n){var F=a[n].s;f[F]==e&&(--f[F],++j)}y=e}return{t:new as(f),l:y}},ou=function(r,e,t){return r.s==-1?Math.max(ou(r.l,e,t+1),ou(r.r,e,t+1)):e[r.s]=t},ef=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Hn(++e),n=0,i=r[0],a=1,l=function(d){t[n++]=d},o=1;o<=e;++o)if(r[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(i),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(i);a=1,i=r[o]}return{c:t.subarray(0,n),n:e}},So=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},bm=function(r,e,t){var n=t.length,i=xm(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var a=0;a<n;++a)r[i+a+4]=t[a];return(i+4+n)*8},tf=function(r,e,t,n,i,a,l,o,d,u,p){Ys(e,p++,t),++i[256];for(var g=Nd(i,15),b=g.t,f=g.l,y=Nd(a,15),j=y.t,_=y.l,w=ef(b),U=w.c,D=w.n,F=ef(j),te=F.c,X=F.n,K=new Hn(19),k=0;k<U.length;++k)++K[U[k]&31];for(var k=0;k<te.length;++k)++K[te[k]&31];for(var N=Nd(K,7),T=N.t,S=N.l,C=19;C>4&&!T[Zh[C-1]];--C);var W=u+5<<3,G=So(i,la)+So(a,wc)+l,le=So(i,b)+So(a,j)+l+14+3*C+So(K,T)+2*K[16]+3*K[17]+7*K[18];if(d>=0&&W<=G&&W<=le)return bm(e,p,r.subarray(d,d+u));var fe,ne,q,ee;if(Ys(e,p,1+(le<G)),p+=2,le<G){fe=Ho(b,f,0),ne=b,q=Ho(j,_,0),ee=j;var V=Ho(T,S,0);Ys(e,p,D-257),Ys(e,p+5,X-1),Ys(e,p+10,C-4),p+=14;for(var k=0;k<C;++k)Ys(e,p+3*k,T[Zh[k]]);p+=3*C;for(var pe=[U,te],P=0;P<2;++P)for(var M=pe[P],k=0;k<M.length;++k){var Y=M[k]&31;Ys(e,p,V[Y]),p+=T[Y],Y>15&&(Ys(e,p,M[k]>>5&127),p+=M[k]>>12)}}else fe=H2,ne=la,q=W2,ee=wc;for(var k=0;k<o;++k){var J=n[k];if(J>255){var Y=J>>18&31;_o(e,p,fe[Y+257]),p+=ne[Y+257],Y>7&&(Ys(e,p,J>>23&31),p+=Ou[Y]);var Z=J&31;_o(e,p,q[Z]),p+=ee[Z],Z>3&&(_o(e,p,J>>5&8191),p+=Ru[Z])}else _o(e,p,fe[J]),p+=ne[J]}return _o(e,p,fe[256]),p+ne[256]},V2=new Tu([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vm=new as(0),G2=function(r,e,t,n,i,a){var l=a.z||r.length,o=new as(n+l+5*(1+Math.ceil(l/7e3))+i),d=o.subarray(n,o.length-i),u=a.l,p=(a.r||0)&7;if(e){p&&(d[0]=a.r>>3);for(var g=V2[e-1],b=g>>13,f=g&8191,y=(1<<t)-1,j=a.p||new Hn(32768),_=a.h||new Hn(y+1),w=Math.ceil(t/3),U=2*w,D=function(Pe){return(r[Pe]^r[Pe+1]<<w^r[Pe+2]<<U)&y},F=new Tu(25e3),te=new Hn(288),X=new Hn(32),K=0,k=0,N=a.i||0,T=0,S=a.w||0,C=0;N+2<l;++N){var W=D(N),G=N&32767,le=_[W];if(j[G]=le,_[W]=G,S<=N){var fe=l-N;if((K>7e3||T>24576)&&(fe>423||!u)){p=tf(r,d,0,F,te,X,k,T,C,N-C,p),T=K=k=0,C=N;for(var ne=0;ne<286;++ne)te[ne]=0;for(var ne=0;ne<30;++ne)X[ne]=0}var q=2,ee=0,V=f,pe=G-le&32767;if(fe>2&&W==D(N-pe))for(var P=Math.min(b,fe)-1,M=Math.min(32767,N),Y=Math.min(258,fe);pe<=M&&--V&&G!=le;){if(r[N+q]==r[N+q-pe]){for(var J=0;J<Y&&r[N+J]==r[N+J-pe];++J);if(J>q){if(q=J,ee=pe,J>P)break;for(var Z=Math.min(pe,J-2),se=0,ne=0;ne<Z;++ne){var ae=N-pe+ne&32767,ce=j[ae],be=ae-ce&32767;be>se&&(se=be,le=ae)}}}G=le,le=j[G],pe+=G-le&32767}if(ee){F[T++]=268435456|iu[q]<<18|Qh[ee];var xe=iu[q]&31,ke=Qh[ee]&31;k+=Ou[xe]+Ru[ke],++te[257+xe],++X[ke],S=N+q,++K}else F[T++]=r[N],++te[r[N]]}}for(N=Math.max(N,S);N<l;++N)F[T++]=r[N],++te[r[N]];p=tf(r,d,u,F,te,X,k,T,C,N-C,p),u||(a.r=p&7|d[p/8|0]<<3,p-=7,a.h=_,a.p=j,a.i=N,a.w=S)}else{for(var N=a.w||0;N<l+u;N+=65535){var we=N+65535;we>=l&&(d[p/8|0]=u,we=l),p=bm(d,p+1,r.subarray(N,we))}a.i=l}return $2(o,0,n+xm(p)+i)},ym=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,a=t.length|0,l=0;l!=a;){for(var o=Math.min(l+2655,a);l<o;++l)i+=n+=t[l];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Y2=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),l=new as(a.length+r.length);l.set(a),l.set(r,a.length),r=l,i.w=a.length}return G2(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},wm=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},K2=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=ym();i.p(e.dictionary),wm(r,2,i.d())}};function lu(r,e){e||(e={});var t=ym();t.p(r);var n=Y2(r,e,e.dictionary?6:2,4);return K2(n,e),wm(n,n.length-4,t.d()),n}var X2=typeof TextDecoder<"u"&&new TextDecoder,J2=0;try{X2.decode(vm,{stream:!0}),J2=1}catch{}function Z2(r){if(Array.isArray(r))return r}function Q2(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,l,o=[],d=!0,u=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(d=(n=a.call(t)).done)&&(o.push(n.value),o.length!==e);d=!0);}catch(p){u=!0,i=p}finally{try{if(!d&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw i}}return o}}function rf(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function ex(r,e){if(r){if(typeof r=="string")return rf(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?rf(r,e):void 0}}function tx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nf(r,e){return Z2(r)||Q2(r,e)||ex(r,e)||tx()}function sf(r,e="utf8"){return new TextDecoder(e).decode(r)}const rx=new TextEncoder;function nx(r){return rx.encode(r)}const sx=1024*8,ix=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),jd={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Du{constructor(e=sx,t={}){Jt(this,"buffer");Jt(this,"byteLength");Jt(this,"byteOffset");Jt(this,"length");Jt(this,"offset");Jt(this,"lastWrittenByte");Jt(this,"littleEndian");Jt(this,"_data");Jt(this,"_mark");Jt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,a=e.byteLength-i;let l=i;(ArrayBuffer.isView(e)||e instanceof Du)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=jd[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===ix&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const d=new jd[t](o.buffer);return this.offset+=n,d.reverse(),d}const l=new jd[t](a);return this.offset+=n,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return sf(this.readBytes(e))}decodeText(e=1,t="utf8"){return sf(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(nx(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ya(r){let e=r.length;for(;--e>=0;)r[e]=0}const ax=3,ox=258,Nm=29,lx=256,cx=lx+1+Nm,jm=30,dx=512,ux=new Array((cx+2)*2);Ya(ux);const hx=new Array(jm*2);Ya(hx);const fx=new Array(dx);Ya(fx);const px=new Array(ox-ax+1);Ya(px);const mx=new Array(Nm);Ya(mx);const gx=new Array(jm);Ya(gx);const xx=(r,e,t,n)=>{let i=r&65535|0,a=r>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do i=i+e[n++]|0,a=a+i|0;while(--l);i%=65521,a%=65521}return i|a<<16|0};var cu=xx;const bx=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},vx=new Uint32Array(bx()),yx=(r,e,t,n)=>{const i=vx,a=n+t;r^=-1;for(let l=n;l<a;l++)r=r>>>8^i[(r^e[l])&255];return r^-1};var bs=yx,du={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_m={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const wx=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var Nx=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)wx(t,n)&&(r[n]=t[n])}}return r},jx=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,a=r.length;n<a;n++){let l=r[n];t.set(l,i),i+=l.length}return t},Sm={assign:Nx,flattenChunks:jx};let km=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{km=!1}const Xo=new Uint8Array(256);for(let r=0;r<256;r++)Xo[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Xo[254]=Xo[254]=1;var _x=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,a,l=r.length,o=0;for(i=0;i<l;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<l&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<l&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const Sx=(r,e)=>{if(e<65534&&r.subarray&&km)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var kx=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const a=new Array(t*2);for(i=0,n=0;n<t;){let l=r[n++];if(l<128){a[i++]=l;continue}let o=Xo[l];if(o>4){a[i++]=65533,n+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&n<t;)l=l<<6|r[n++]&63,o--;if(o>1){a[i++]=65533;continue}l<65536?a[i++]=l:(l-=65536,a[i++]=55296|l>>10&1023,a[i++]=56320|l&1023)}return Sx(a,i)},Ax=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Xo[r[t]]>e?t:e},uu={string2buf:_x,buf2string:kx,utf8border:Ax};function Lx(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Cx=Lx;const $l=16209,Px=16191;var Ex=function(e,t){let n,i,a,l,o,d,u,p,g,b,f,y,j,_,w,U,D,F,te,X,K,k,N,T;const S=e.state;n=e.next_in,N=e.input,i=n+(e.avail_in-5),a=e.next_out,T=e.output,l=a-(t-e.avail_out),o=a+(e.avail_out-257),d=S.dmax,u=S.wsize,p=S.whave,g=S.wnext,b=S.window,f=S.hold,y=S.bits,j=S.lencode,_=S.distcode,w=(1<<S.lenbits)-1,U=(1<<S.distbits)-1;e:do{y<15&&(f+=N[n++]<<y,y+=8,f+=N[n++]<<y,y+=8),D=j[f&w];t:for(;;){if(F=D>>>24,f>>>=F,y-=F,F=D>>>16&255,F===0)T[a++]=D&65535;else if(F&16){te=D&65535,F&=15,F&&(y<F&&(f+=N[n++]<<y,y+=8),te+=f&(1<<F)-1,f>>>=F,y-=F),y<15&&(f+=N[n++]<<y,y+=8,f+=N[n++]<<y,y+=8),D=_[f&U];r:for(;;){if(F=D>>>24,f>>>=F,y-=F,F=D>>>16&255,F&16){if(X=D&65535,F&=15,y<F&&(f+=N[n++]<<y,y+=8,y<F&&(f+=N[n++]<<y,y+=8)),X+=f&(1<<F)-1,X>d){e.msg="invalid distance too far back",S.mode=$l;break e}if(f>>>=F,y-=F,F=a-l,X>F){if(F=X-F,F>p&&S.sane){e.msg="invalid distance too far back",S.mode=$l;break e}if(K=0,k=b,g===0){if(K+=u-F,F<te){te-=F;do T[a++]=b[K++];while(--F);K=a-X,k=T}}else if(g<F){if(K+=u+g-F,F-=g,F<te){te-=F;do T[a++]=b[K++];while(--F);if(K=0,g<te){F=g,te-=F;do T[a++]=b[K++];while(--F);K=a-X,k=T}}}else if(K+=g-F,F<te){te-=F;do T[a++]=b[K++];while(--F);K=a-X,k=T}for(;te>2;)T[a++]=k[K++],T[a++]=k[K++],T[a++]=k[K++],te-=3;te&&(T[a++]=k[K++],te>1&&(T[a++]=k[K++]))}else{K=a-X;do T[a++]=T[K++],T[a++]=T[K++],T[a++]=T[K++],te-=3;while(te>2);te&&(T[a++]=T[K++],te>1&&(T[a++]=T[K++]))}}else if((F&64)===0){D=_[(D&65535)+(f&(1<<F)-1)];continue r}else{e.msg="invalid distance code",S.mode=$l;break e}break}}else if((F&64)===0){D=j[(D&65535)+(f&(1<<F)-1)];continue t}else if(F&32){S.mode=Px;break e}else{e.msg="invalid literal/length code",S.mode=$l;break e}break}}while(n<i&&a<o);te=y>>3,n-=te,y-=te<<3,f&=(1<<y)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<o?257+(o-a):257-(a-o),S.hold=f,S.bits=y};const Sa=15,af=852,of=592,lf=0,_d=1,cf=2,Fx=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ix=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Tx=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ox=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Rx=(r,e,t,n,i,a,l,o)=>{const d=o.bits;let u=0,p=0,g=0,b=0,f=0,y=0,j=0,_=0,w=0,U=0,D,F,te,X,K,k=null,N;const T=new Uint16Array(Sa+1),S=new Uint16Array(Sa+1);let C=null,W,G,le;for(u=0;u<=Sa;u++)T[u]=0;for(p=0;p<n;p++)T[e[t+p]]++;for(f=d,b=Sa;b>=1&&T[b]===0;b--);if(f>b&&(f=b),b===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(g=1;g<b&&T[g]===0;g++);for(f<g&&(f=g),_=1,u=1;u<=Sa;u++)if(_<<=1,_-=T[u],_<0)return-1;if(_>0&&(r===lf||b!==1))return-1;for(S[1]=0,u=1;u<Sa;u++)S[u+1]=S[u]+T[u];for(p=0;p<n;p++)e[t+p]!==0&&(l[S[e[t+p]]++]=p);if(r===lf?(k=C=l,N=20):r===_d?(k=Fx,C=Ix,N=257):(k=Tx,C=Ox,N=0),U=0,p=0,u=g,K=a,y=f,j=0,te=-1,w=1<<f,X=w-1,r===_d&&w>af||r===cf&&w>of)return 1;for(;;){W=u-j,l[p]+1<N?(G=0,le=l[p]):l[p]>=N?(G=C[l[p]-N],le=k[l[p]-N]):(G=96,le=0),D=1<<u-j,F=1<<y,g=F;do F-=D,i[K+(U>>j)+F]=W<<24|G<<16|le|0;while(F!==0);for(D=1<<u-1;U&D;)D>>=1;if(D!==0?(U&=D-1,U+=D):U=0,p++,--T[u]===0){if(u===b)break;u=e[t+l[p]]}if(u>f&&(U&X)!==te){for(j===0&&(j=f),K+=g,y=u-j,_=1<<y;y+j<b&&(_-=T[y+j],!(_<=0));)y++,_<<=1;if(w+=1<<y,r===_d&&w>af||r===cf&&w>of)return 1;te=U&X,i[te]=f<<24|y<<16|K-a|0}}return U!==0&&(i[K+U]=u-j<<24|64<<16|0),o.bits=f,0};var Wo=Rx;const Dx=0,Am=1,Lm=2,{Z_FINISH:df,Z_BLOCK:Mx,Z_TREES:Vl,Z_OK:ca,Z_STREAM_END:Bx,Z_NEED_DICT:qx,Z_STREAM_ERROR:Zn,Z_DATA_ERROR:Cm,Z_MEM_ERROR:Pm,Z_BUF_ERROR:Ux,Z_DEFLATED:uf}=_m,Ic=16180,hf=16181,ff=16182,pf=16183,mf=16184,gf=16185,xf=16186,bf=16187,vf=16188,yf=16189,Nc=16190,Ks=16191,Sd=16192,wf=16193,kd=16194,Nf=16195,jf=16196,_f=16197,Sf=16198,Gl=16199,Yl=16200,kf=16201,Af=16202,Lf=16203,Cf=16204,Pf=16205,Ad=16206,Ef=16207,Ff=16208,fr=16209,Em=16210,Fm=16211,zx=852,Hx=592,Wx=15,$x=Wx,If=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function Vx(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const da=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Ic||e.mode>Fm?1:0},Im=r=>{if(da(r))return Zn;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Ic,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(zx),e.distcode=e.distdyn=new Int32Array(Hx),e.sane=1,e.back=-1,ca},Tm=r=>{if(da(r))return Zn;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,Im(r)},Om=(r,e)=>{let t;if(da(r))return Zn;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Zn:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,Tm(r))},Rm=(r,e)=>{if(!r)return Zn;const t=new Vx;r.state=t,t.strm=r,t.window=null,t.mode=Ic;const n=Om(r,e);return n!==ca&&(r.state=null),n},Gx=r=>Rm(r,$x);let Tf=!0,Ld,Cd;const Yx=r=>{if(Tf){Ld=new Int32Array(512),Cd=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Wo(Am,r.lens,0,288,Ld,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Wo(Lm,r.lens,0,32,Cd,0,r.work,{bits:5}),Tf=!1}r.lencode=Ld,r.lenbits=9,r.distcode=Cd,r.distbits=5},Dm=(r,e,t,n)=>{let i;const a=r.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(t-n,t-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(t-n,t),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},Kx=(r,e)=>{let t,n,i,a,l,o,d,u,p,g,b,f,y,j,_=0,w,U,D,F,te,X,K,k;const N=new Uint8Array(4);let T,S;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(da(r)||!r.output||!r.input&&r.avail_in!==0)return Zn;t=r.state,t.mode===Ks&&(t.mode=Sd),l=r.next_out,i=r.output,d=r.avail_out,a=r.next_in,n=r.input,o=r.avail_in,u=t.hold,p=t.bits,g=o,b=d,k=ca;e:for(;;)switch(t.mode){case Ic:if(t.wrap===0){t.mode=Sd;break}for(;p<16;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,N[0]=u&255,N[1]=u>>>8&255,t.check=bs(t.check,N,2,0),u=0,p=0,t.mode=hf;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){r.msg="incorrect header check",t.mode=fr;break}if((u&15)!==uf){r.msg="unknown compression method",t.mode=fr;break}if(u>>>=4,p-=4,K=(u&15)+8,t.wbits===0&&(t.wbits=K),K>15||K>t.wbits){r.msg="invalid window size",t.mode=fr;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=u&512?yf:Ks,u=0,p=0;break;case hf:for(;p<16;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}if(t.flags=u,(t.flags&255)!==uf){r.msg="unknown compression method",t.mode=fr;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=fr;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,t.check=bs(t.check,N,2,0)),u=0,p=0,t.mode=ff;case ff:for(;p<32;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,N[2]=u>>>16&255,N[3]=u>>>24&255,t.check=bs(t.check,N,4,0)),u=0,p=0,t.mode=pf;case pf:for(;p<16;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,t.check=bs(t.check,N,2,0)),u=0,p=0,t.mode=mf;case mf:if(t.flags&1024){for(;p<16;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,t.check=bs(t.check,N,2,0)),u=0,p=0}else t.head&&(t.head.extra=null);t.mode=gf;case gf:if(t.flags&1024&&(f=t.length,f>o&&(f=o),f&&(t.head&&(K=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(a,a+f),K)),t.flags&512&&t.wrap&4&&(t.check=bs(t.check,n,f,a)),o-=f,a+=f,t.length-=f),t.length))break e;t.length=0,t.mode=xf;case xf:if(t.flags&2048){if(o===0)break e;f=0;do K=n[a+f++],t.head&&K&&t.length<65536&&(t.head.name+=String.fromCharCode(K));while(K&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=bs(t.check,n,f,a)),o-=f,a+=f,K)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=bf;case bf:if(t.flags&4096){if(o===0)break e;f=0;do K=n[a+f++],t.head&&K&&t.length<65536&&(t.head.comment+=String.fromCharCode(K));while(K&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=bs(t.check,n,f,a)),o-=f,a+=f,K)break e}else t.head&&(t.head.comment=null);t.mode=vf;case vf:if(t.flags&512){for(;p<16;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}if(t.wrap&4&&u!==(t.check&65535)){r.msg="header crc mismatch",t.mode=fr;break}u=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Ks;break;case yf:for(;p<32;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}r.adler=t.check=If(u),u=0,p=0,t.mode=Nc;case Nc:if(t.havedict===0)return r.next_out=l,r.avail_out=d,r.next_in=a,r.avail_in=o,t.hold=u,t.bits=p,qx;r.adler=t.check=1,t.mode=Ks;case Ks:if(e===Mx||e===Vl)break e;case Sd:if(t.last){u>>>=p&7,p-=p&7,t.mode=Ad;break}for(;p<3;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}switch(t.last=u&1,u>>>=1,p-=1,u&3){case 0:t.mode=wf;break;case 1:if(Yx(t),t.mode=Gl,e===Vl){u>>>=2,p-=2;break e}break;case 2:t.mode=jf;break;case 3:r.msg="invalid block type",t.mode=fr}u>>>=2,p-=2;break;case wf:for(u>>>=p&7,p-=p&7;p<32;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}if((u&65535)!==(u>>>16^65535)){r.msg="invalid stored block lengths",t.mode=fr;break}if(t.length=u&65535,u=0,p=0,t.mode=kd,e===Vl)break e;case kd:t.mode=Nf;case Nf:if(f=t.length,f){if(f>o&&(f=o),f>d&&(f=d),f===0)break e;i.set(n.subarray(a,a+f),l),o-=f,a+=f,d-=f,l+=f,t.length-=f;break}t.mode=Ks;break;case jf:for(;p<14;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}if(t.nlen=(u&31)+257,u>>>=5,p-=5,t.ndist=(u&31)+1,u>>>=5,p-=5,t.ncode=(u&15)+4,u>>>=4,p-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=fr;break}t.have=0,t.mode=_f;case _f:for(;t.have<t.ncode;){for(;p<3;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}t.lens[C[t.have++]]=u&7,u>>>=3,p-=3}for(;t.have<19;)t.lens[C[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,T={bits:t.lenbits},k=Wo(Dx,t.lens,0,19,t.lencode,0,t.work,T),t.lenbits=T.bits,k){r.msg="invalid code lengths set",t.mode=fr;break}t.have=0,t.mode=Sf;case Sf:for(;t.have<t.nlen+t.ndist;){for(;_=t.lencode[u&(1<<t.lenbits)-1],w=_>>>24,U=_>>>16&255,D=_&65535,!(w<=p);){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}if(D<16)u>>>=w,p-=w,t.lens[t.have++]=D;else{if(D===16){for(S=w+2;p<S;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}if(u>>>=w,p-=w,t.have===0){r.msg="invalid bit length repeat",t.mode=fr;break}K=t.lens[t.have-1],f=3+(u&3),u>>>=2,p-=2}else if(D===17){for(S=w+3;p<S;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}u>>>=w,p-=w,K=0,f=3+(u&7),u>>>=3,p-=3}else{for(S=w+7;p<S;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}u>>>=w,p-=w,K=0,f=11+(u&127),u>>>=7,p-=7}if(t.have+f>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=fr;break}for(;f--;)t.lens[t.have++]=K}}if(t.mode===fr)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=fr;break}if(t.lenbits=9,T={bits:t.lenbits},k=Wo(Am,t.lens,0,t.nlen,t.lencode,0,t.work,T),t.lenbits=T.bits,k){r.msg="invalid literal/lengths set",t.mode=fr;break}if(t.distbits=6,t.distcode=t.distdyn,T={bits:t.distbits},k=Wo(Lm,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,T),t.distbits=T.bits,k){r.msg="invalid distances set",t.mode=fr;break}if(t.mode=Gl,e===Vl)break e;case Gl:t.mode=Yl;case Yl:if(o>=6&&d>=258){r.next_out=l,r.avail_out=d,r.next_in=a,r.avail_in=o,t.hold=u,t.bits=p,Ex(r,b),l=r.next_out,i=r.output,d=r.avail_out,a=r.next_in,n=r.input,o=r.avail_in,u=t.hold,p=t.bits,t.mode===Ks&&(t.back=-1);break}for(t.back=0;_=t.lencode[u&(1<<t.lenbits)-1],w=_>>>24,U=_>>>16&255,D=_&65535,!(w<=p);){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}if(U&&(U&240)===0){for(F=w,te=U,X=D;_=t.lencode[X+((u&(1<<F+te)-1)>>F)],w=_>>>24,U=_>>>16&255,D=_&65535,!(F+w<=p);){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}u>>>=F,p-=F,t.back+=F}if(u>>>=w,p-=w,t.back+=w,t.length=D,U===0){t.mode=Pf;break}if(U&32){t.back=-1,t.mode=Ks;break}if(U&64){r.msg="invalid literal/length code",t.mode=fr;break}t.extra=U&15,t.mode=kf;case kf:if(t.extra){for(S=t.extra;p<S;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Af;case Af:for(;_=t.distcode[u&(1<<t.distbits)-1],w=_>>>24,U=_>>>16&255,D=_&65535,!(w<=p);){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}if((U&240)===0){for(F=w,te=U,X=D;_=t.distcode[X+((u&(1<<F+te)-1)>>F)],w=_>>>24,U=_>>>16&255,D=_&65535,!(F+w<=p);){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}u>>>=F,p-=F,t.back+=F}if(u>>>=w,p-=w,t.back+=w,U&64){r.msg="invalid distance code",t.mode=fr;break}t.offset=D,t.extra=U&15,t.mode=Lf;case Lf:if(t.extra){for(S=t.extra;p<S;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=fr;break}t.mode=Cf;case Cf:if(d===0)break e;if(f=b-d,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=fr;break}f>t.wnext?(f-=t.wnext,y=t.wsize-f):y=t.wnext-f,f>t.length&&(f=t.length),j=t.window}else j=i,y=l-t.offset,f=t.length;f>d&&(f=d),d-=f,t.length-=f;do i[l++]=j[y++];while(--f);t.length===0&&(t.mode=Yl);break;case Pf:if(d===0)break e;i[l++]=t.length,d--,t.mode=Yl;break;case Ad:if(t.wrap){for(;p<32;){if(o===0)break e;o--,u|=n[a++]<<p,p+=8}if(b-=d,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?bs(t.check,i,b,l-b):cu(t.check,i,b,l-b)),b=d,t.wrap&4&&(t.flags?u:If(u))!==t.check){r.msg="incorrect data check",t.mode=fr;break}u=0,p=0}t.mode=Ef;case Ef:if(t.wrap&&t.flags){for(;p<32;){if(o===0)break e;o--,u+=n[a++]<<p,p+=8}if(t.wrap&4&&u!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=fr;break}u=0,p=0}t.mode=Ff;case Ff:k=Bx;break e;case fr:k=Cm;break e;case Em:return Pm;case Fm:default:return Zn}return r.next_out=l,r.avail_out=d,r.next_in=a,r.avail_in=o,t.hold=u,t.bits=p,(t.wsize||b!==r.avail_out&&t.mode<fr&&(t.mode<Ad||e!==df))&&Dm(r,r.output,r.next_out,b-r.avail_out),g-=r.avail_in,b-=r.avail_out,r.total_in+=g,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?bs(t.check,i,b,r.next_out-b):cu(t.check,i,b,r.next_out-b)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Ks?128:0)+(t.mode===Gl||t.mode===kd?256:0),(g===0&&b===0||e===df)&&k===ca&&(k=Ux),k},Xx=r=>{if(da(r))return Zn;let e=r.state;return e.window&&(e.window=null),r.state=null,ca},Jx=(r,e)=>{if(da(r))return Zn;const t=r.state;return(t.wrap&2)===0?Zn:(t.head=e,e.done=!1,ca)},Zx=(r,e)=>{const t=e.length;let n,i,a;return da(r)||(n=r.state,n.wrap!==0&&n.mode!==Nc)?Zn:n.mode===Nc&&(i=1,i=cu(i,e,t,0),i!==n.check)?Cm:(a=Dm(r,e,t,t),a?(n.mode=Em,Pm):(n.havedict=1,ca))};var Qx=Tm,e5=Om,t5=Im,r5=Gx,n5=Rm,s5=Kx,i5=Xx,a5=Jx,o5=Zx,l5="pako inflate (from Nodeca project)",Xs={inflateReset:Qx,inflateReset2:e5,inflateResetKeep:t5,inflateInit:r5,inflateInit2:n5,inflate:s5,inflateEnd:i5,inflateGetHeader:a5,inflateSetDictionary:o5,inflateInfo:l5};function c5(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var d5=c5;const Mm=Object.prototype.toString,{Z_NO_FLUSH:u5,Z_FINISH:h5,Z_OK:Jo,Z_STREAM_END:Pd,Z_NEED_DICT:Ed,Z_STREAM_ERROR:f5,Z_DATA_ERROR:Of,Z_MEM_ERROR:p5}=_m;function Qo(r){this.options=Sm.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cx,this.strm.avail_out=0;let t=Xs.inflateInit2(this.strm,e.windowBits);if(t!==Jo)throw new Error(du[t]);if(this.header=new d5,Xs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=uu.string2buf(e.dictionary):Mm.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Xs.inflateSetDictionary(this.strm,e.dictionary),t!==Jo)))throw new Error(du[t])}Qo.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,l,o;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?h5:u5,Mm.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),a=Xs.inflate(t,l),a===Ed&&i&&(a=Xs.inflateSetDictionary(t,i),a===Jo?a=Xs.inflate(t,l):a===Of&&(a=Ed));t.avail_in>0&&a===Pd&&t.state.wrap>0&&r[t.next_in]!==0;)Xs.inflateReset(t),a=Xs.inflate(t,l);switch(a){case f5:case Of:case Ed:case p5:return this.onEnd(a),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||a===Pd))if(this.options.to==="string"){let d=uu.utf8border(t.output,t.next_out),u=t.next_out-d,p=uu.buf2string(t.output,d);t.next_out=u,t.avail_out=n-u,u&&t.output.set(t.output.subarray(d,d+u),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Jo&&o===0)){if(a===Pd)return a=Xs.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Qo.prototype.onData=function(r){this.chunks.push(r)};Qo.prototype.onEnd=function(r){r===Jo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Sm.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function m5(r,e){const t=new Qo(e);if(t.push(r),t.err)throw t.msg||du[t.err];return t.result}var g5=Qo,x5=m5,b5={Inflate:g5,inflate:x5};const{Inflate:v5,inflate:y5}=b5;var Rf=v5,w5=y5;const Bm=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Bm[r]=e}const Df=4294967295;function N5(r,e,t){let n=r;for(let i=0;i<t;i++)n=Bm[(n^e[i])&255]^n>>>8;return n}function j5(r,e){return(N5(Df,r,e)^Df)>>>0}function Mf(r,e,t){const n=r.readUint32(),i=j5(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${i}`)}function qm(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function Um(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function zm(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function Hm(r,e,t,n,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=r[a];for(;a<n;a++)e[a]=r[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=r[a]+(t[a]>>1)&255;for(;a<n;a++)e[a]=r[a]+(e[a-i]+t[a]>>1)&255}}function Wm(r,e,t,n,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=r[a];for(;a<n;a++)e[a]=r[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=r[a]+t[a]&255;for(;a<n;a++)e[a]=r[a]+_5(e[a-i],t[a],t[a-i])&255}}function _5(r,e,t){const n=r+e-t,i=Math.abs(n-r),a=Math.abs(n-e),l=Math.abs(n-t);return i<=a&&i<=l?r:a<=l?e:t}function S5(r,e,t,n,i,a){switch(r){case 0:qm(e,t,i);break;case 1:Um(e,t,i,a);break;case 2:zm(e,t,n,i);break;case 3:Hm(e,t,n,i,a);break;case 4:Wm(e,t,n,i,a);break;default:throw new Error(`Unsupported filter: ${r}`)}}const k5=new Uint16Array([255]),A5=new Uint8Array(k5.buffer),L5=A5[0]===255;function C5(r){const{data:e,width:t,height:n,channels:i,depth:a}=r,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,d=new Uint8Array(n*t*o);let u=0;for(let p=0;p<7;p++){const g=l[p],b=Math.ceil((t-g.x)/g.xStep),f=Math.ceil((n-g.y)/g.yStep);if(b<=0||f<=0)continue;const y=b*o,j=new Uint8Array(y);for(let _=0;_<f;_++){const w=e[u++],U=e.subarray(u,u+y);u+=y;const D=new Uint8Array(y);S5(w,U,D,j,y,o),j.set(D);for(let F=0;F<b;F++){const te=g.x+F*g.xStep,X=g.y+_*g.yStep;if(!(te>=t||X>=n))for(let K=0;K<o;K++)d[(X*t+te)*o+K]=D[F*o+K]}}}if(a===16){const p=new Uint16Array(d.buffer);if(L5)for(let g=0;g<p.length;g++)p[g]=P5(p[g]);return p}else return d}function P5(r){return(r&255)<<8|r>>8&255}const E5=new Uint16Array([255]),F5=new Uint8Array(E5.buffer),I5=F5[0]===255,T5=new Uint8Array(0);function Bf(r){const{data:e,width:t,height:n,channels:i,depth:a}=r,l=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*t),d=new Uint8Array(n*o);let u=T5,p=0,g,b;for(let f=0;f<n;f++){switch(g=e.subarray(p+1,p+1+o),b=d.subarray(f*o,(f+1)*o),e[p]){case 0:qm(g,b,o);break;case 1:Um(g,b,o,l);break;case 2:zm(g,b,u,o);break;case 3:Hm(g,b,u,o,l);break;case 4:Wm(g,b,u,o,l);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}u=b,p+=o+1}if(a===16){const f=new Uint16Array(d.buffer);if(I5)for(let y=0;y<f.length;y++)f[y]=O5(f[y]);return f}else return d}function O5(r){return(r&255)<<8|r>>8&255}const oc=Uint8Array.of(137,80,78,71,13,10,26,10);function qf(r){if(!R5(r.readBytes(oc.length)))throw new Error("wrong PNG signature")}function R5(r){if(r.length<oc.length)return!1;for(let e=0;e<oc.length;e++)if(r[e]!==oc[e])return!1;return!0}const D5="tEXt",M5=0,$m=new TextDecoder("latin1");function B5(r){if(U5(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const q5=/^[\u0000-\u00FF]*$/;function U5(r){if(!q5.test(r))throw new Error("invalid latin1 text")}function z5(r,e,t){const n=Vm(e);r[n]=H5(e,t-n.length-1)}function Vm(r){for(r.mark();r.readByte()!==M5;);const e=r.offset;r.reset();const t=$m.decode(r.readBytes(e-r.offset-1));return r.skip(1),B5(t),t}function H5(r,e){return $m.decode(r.readBytes(e))}const Mn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Fd={UNKNOWN:-1,DEFLATE:0},Uf={UNKNOWN:-1,ADAPTIVE:0},Id={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Kl={NONE:0,BACKGROUND:1,PREVIOUS:2},Td={SOURCE:0,OVER:1};class W5 extends Du{constructor(t,n={}){super(t);Jt(this,"_checkCrc");Jt(this,"_inflator");Jt(this,"_png");Jt(this,"_apng");Jt(this,"_end");Jt(this,"_hasPalette");Jt(this,"_palette");Jt(this,"_hasTransparency");Jt(this,"_transparency");Jt(this,"_compressionMethod");Jt(this,"_filterMethod");Jt(this,"_interlaceMethod");Jt(this,"_colorType");Jt(this,"_isAnimated");Jt(this,"_numberOfFrames");Jt(this,"_numberOfPlays");Jt(this,"_frames");Jt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new Rf,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Fd.UNKNOWN,this._filterMethod=Uf.UNKNOWN,this._interlaceMethod=Id.UNKNOWN,this._colorType=Mn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(qf(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(qf(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case D5:z5(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Mf(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Mf(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=$5(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Mn.GREYSCALE:i=1;break;case Mn.TRUECOLOUR:i=3;break;case Mn.INDEXED_COLOUR:i=1;break;case Mn.GREYSCALE_ALPHA:i=2;break;case Mn.TRUECOLOUR_ALPHA:i=4;break;case Mn.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Fd.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Mn.GREYSCALE:case Mn.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case Mn.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Mn.UNKNOWN:case Mn.GREYSCALE_ALPHA:case Mn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=Vm(this),i=this.readUint8();if(i!==Fd.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:w5(a)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=Bf({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,i){switch(t.disposeOp){case Kl.NONE:break;case Kl.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let l=0;l<this._png.width;l++){const o=(a*t.width+l)*this._png.channels;for(let d=0;d<this._png.channels;d++)i.data[o+d]=0}break;case Kl.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const i=1<<this._png.depth,a=(l,o)=>{const d=((l+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(l*n.width+o)*this._png.channels;return{index:d,frameIndex:u}};switch(n.blendOp){case Td.SOURCE:for(let l=0;l<n.height;l++)for(let o=0;o<n.width;o++){const{index:d,frameIndex:u}=a(l,o);for(let p=0;p<this._png.channels;p++)t.data[d+p]=n.data[u+p]}break;case Td.OVER:for(let l=0;l<n.height;l++)for(let o=0;o<n.width;o++){const{index:d,frameIndex:u}=a(l,o);for(let p=0;p<this._png.channels;p++){const g=n.data[u+this._png.channels-1]/i,b=p%(this._png.channels-1)===0?1:n.data[u+p],f=Math.floor(g*b+(1-g)*t.data[d+p]);t.data[d+p]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Uf.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Id.NO_INTERLACE)this._png.data=Bf({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Id.ADAM7)this._png.data=C5({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Kl.NONE,blendOp:Td.SOURCE,data:t}),this._inflator=new Rf,this._writingDataChunks=!1}}function $5(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var zf;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(zf||(zf={}));function V5(r,e){return new W5(r,e).decode()}var mt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Od(){mt.console&&typeof mt.console.log=="function"&&mt.console.log.apply(mt.console,arguments)}var tr={log:Od,warn:function(r){mt.console&&(typeof mt.console.warn=="function"?mt.console.warn.apply(mt.console,arguments):Od.call(null,arguments))},error:function(r){mt.console&&(typeof mt.console.error=="function"?mt.console.error.apply(mt.console,arguments):Od(r))}};function Rd(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Xi(n.response,e,t)},n.onerror=function(){tr.error("could not download file")},n.send()}function Hf(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Xl(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Xi=mt.saveAs||((typeof window>"u"?"undefined":Zt(window))!=="object"||window!==mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=mt.URL||mt.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?Hf(i.href)?Rd(r,e,t):Xl(i,i.target="_blank"):Xl(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Xl(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(Hf(r))Rd(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Xl(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Zt(a)!=="object"&&(tr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Rd(r,e,t);var i=r.type==="application/octet-stream",a=/constructor/i.test(mt.HTMLElement)||mt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&a)&&(typeof FileReader>"u"?"undefined":Zt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var p=o.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},o.readAsDataURL(r)}else{var d=mt.URL||mt.webkitURL,u=d.createObjectURL(r);n?n.location=u:location.href=u,n=null,setTimeout(function(){d.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Gm(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,a=t[n].process,l=i.exec(r);l&&(e=a(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),d=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),d.length==1&&(d="0"+d),u.length==1&&(u="0"+u),"#"+o+d+u}}var lc=mt.atob.bind(mt),Wf=mt.btoa.bind(mt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Dd(r,e){var t=r[0],n=r[1],i=r[2],a=r[3];t=rn(t,n,i,a,e[0],7,-680876936),a=rn(a,t,n,i,e[1],12,-389564586),i=rn(i,a,t,n,e[2],17,606105819),n=rn(n,i,a,t,e[3],22,-1044525330),t=rn(t,n,i,a,e[4],7,-176418897),a=rn(a,t,n,i,e[5],12,1200080426),i=rn(i,a,t,n,e[6],17,-1473231341),n=rn(n,i,a,t,e[7],22,-45705983),t=rn(t,n,i,a,e[8],7,1770035416),a=rn(a,t,n,i,e[9],12,-1958414417),i=rn(i,a,t,n,e[10],17,-42063),n=rn(n,i,a,t,e[11],22,-1990404162),t=rn(t,n,i,a,e[12],7,1804603682),a=rn(a,t,n,i,e[13],12,-40341101),i=rn(i,a,t,n,e[14],17,-1502002290),t=nn(t,n=rn(n,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=nn(a,t,n,i,e[6],9,-1069501632),i=nn(i,a,t,n,e[11],14,643717713),n=nn(n,i,a,t,e[0],20,-373897302),t=nn(t,n,i,a,e[5],5,-701558691),a=nn(a,t,n,i,e[10],9,38016083),i=nn(i,a,t,n,e[15],14,-660478335),n=nn(n,i,a,t,e[4],20,-405537848),t=nn(t,n,i,a,e[9],5,568446438),a=nn(a,t,n,i,e[14],9,-1019803690),i=nn(i,a,t,n,e[3],14,-187363961),n=nn(n,i,a,t,e[8],20,1163531501),t=nn(t,n,i,a,e[13],5,-1444681467),a=nn(a,t,n,i,e[2],9,-51403784),i=nn(i,a,t,n,e[7],14,1735328473),t=sn(t,n=nn(n,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=sn(a,t,n,i,e[8],11,-2022574463),i=sn(i,a,t,n,e[11],16,1839030562),n=sn(n,i,a,t,e[14],23,-35309556),t=sn(t,n,i,a,e[1],4,-1530992060),a=sn(a,t,n,i,e[4],11,1272893353),i=sn(i,a,t,n,e[7],16,-155497632),n=sn(n,i,a,t,e[10],23,-1094730640),t=sn(t,n,i,a,e[13],4,681279174),a=sn(a,t,n,i,e[0],11,-358537222),i=sn(i,a,t,n,e[3],16,-722521979),n=sn(n,i,a,t,e[6],23,76029189),t=sn(t,n,i,a,e[9],4,-640364487),a=sn(a,t,n,i,e[12],11,-421815835),i=sn(i,a,t,n,e[15],16,530742520),t=an(t,n=sn(n,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=an(a,t,n,i,e[7],10,1126891415),i=an(i,a,t,n,e[14],15,-1416354905),n=an(n,i,a,t,e[5],21,-57434055),t=an(t,n,i,a,e[12],6,1700485571),a=an(a,t,n,i,e[3],10,-1894986606),i=an(i,a,t,n,e[10],15,-1051523),n=an(n,i,a,t,e[1],21,-2054922799),t=an(t,n,i,a,e[8],6,1873313359),a=an(a,t,n,i,e[15],10,-30611744),i=an(i,a,t,n,e[6],15,-1560198380),n=an(n,i,a,t,e[13],21,1309151649),t=an(t,n,i,a,e[4],6,-145523070),a=an(a,t,n,i,e[11],10,-1120210379),i=an(i,a,t,n,e[2],15,718787259),n=an(n,i,a,t,e[9],21,-343485551),r[0]=Li(t,r[0]),r[1]=Li(n,r[1]),r[2]=Li(i,r[2]),r[3]=Li(a,r[3])}function Tc(r,e,t,n,i,a){return e=Li(Li(e,r),Li(n,a)),Li(e<<i|e>>>32-i,t)}function rn(r,e,t,n,i,a,l){return Tc(e&t|~e&n,r,e,i,a,l)}function nn(r,e,t,n,i,a,l){return Tc(e&n|t&~n,r,e,i,a,l)}function sn(r,e,t,n,i,a,l){return Tc(e^t^n,r,e,i,a,l)}function an(r,e,t,n,i,a,l){return Tc(t^(e|~n),r,e,i,a,l)}function Ym(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Dd(n,G5(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Dd(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Dd(n,i),n}function G5(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var $f="0123456789abcdef".split("");function Y5(r){for(var e="",t=0;t<4;t++)e+=$f[r>>8*t+4&15]+$f[r>>8*t&15];return e}function K5(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function hu(r){return Ym(r).map(K5).join("")}var X5=(function(r){for(var e=0;e<r.length;e++)r[e]=Y5(r[e]);return r.join("")})(Ym("hello"))!="5d41402abc4b2a76b9719d911017c592";function Li(r,e){if(X5){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function fu(r,e){var t,n,i,a;if(r!==t){for(var l=(i=r,a=1+(256/r.length|0),new Array(a+1).join(i)),o=[],d=0;d<256;d++)o[d]=d;var u=0;for(d=0;d<256;d++){var p=o[d];u=(u+p+l.charCodeAt(d))%256,o[d]=o[u],o[u]=p}t=r,n=o}else o=n;var g=e.length,b=0,f=0,y="";for(d=0;d<g;d++)f=(f+(p=o[b=(b+1)%256]))%256,o[b]=o[f],o[f]=p,l=o[(o[b]+o[f])%256],y+=String.fromCharCode(e.charCodeAt(d)^l);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Vf={print:4,modify:8,copy:16,"annot-forms":32};function Pa(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(o){if(Vf.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Vf[o]}),this.padding="(Â¿N^NuÂŠAd\0NVÃ¿Ãº\b..\0Â¶Ãh>Â€/\fÂ©Ã¾dSiz";var a=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^i)),this.encryptionKey=hu(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=fu(this.encryptionKey,this.padding)}function Ea(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function Gf(r){if(Zt(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[n,!!i],a},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var l=e[t][a];try{l[0].apply(r,n)}catch(o){mt.console&&tr.error("jsPDF PubSub Error",o.message,o)}l[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function jc(r){if(!(this instanceof jc))return new jc(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function Km(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Ji(r,e,t,n,i){if(!(this instanceof Ji))return new Ji(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,Km.call(this,n,i)}function Ta(r,e,t,n,i){if(!(this instanceof Ta))return new Ta(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Km.call(this,n,i)}function st(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],l=[],o=1,d=16,u="S",p=null;Zt(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,a=r.compress||r.compressPdf||a,(p=r.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(d=r.floatPrecision),u=r.defaultPathOperation||"S"),l=r.filters||(a===!0?["FlateEncode"]:l),n=n||"mm",t=(""+(t||"P")).toLowerCase();var g=r.putOnlyUsedFonts||!1,b={},f={internal:{},__private__:{}};f.__private__.PubSub=Gf;var y="1.3",j=f.__private__.getPdfVersion=function(){return y};f.__private__.setPdfVersion=function(m){y=m};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return _};var w=f.__private__.getPageFormat=function(m){return _[m]};i=i||"a4";var U="compat",D="advanced",F=U;function te(){this.saveGraphicsState(),R(new Ee(lt,0,0,-lt,0,Mi()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),u="n",F=D}function X(){this.restoreGraphicsState(),u="S",F=U}var K=f.__private__.combineFontStyleAndFontWeight=function(m,A){if(m=="bold"&&A=="normal"||m=="bold"&&A==400||m=="normal"&&A=="italic"||m=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(m=A==400||A==="normal"?m==="italic"?"italic":"normal":A!=700&&A!=="bold"||m!=="normal"?(A==700?"bold":A)+""+m:"bold"),m};f.advancedAPI=function(m){var A=F===U;return A&&te.call(this),typeof m!="function"||(m(this),A&&X.call(this)),this},f.compatAPI=function(m){var A=F===D;return A&&X.call(this),typeof m!="function"||(m(this),A&&te.call(this)),this},f.isAdvancedAPI=function(){return F===D};var k,N=function(m){if(F!==D)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=f.roundToPrecision=f.__private__.roundToPrecision=function(m,A){var $=e||A;if(isNaN(m)||isNaN($))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed($).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf=typeof d=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return T(m,d)}:d==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return T(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return T(m,16)};var S=f.f2=f.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return T(m,2)},C=f.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return T(m,3)},W=f.scale=f.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return F===U?m*lt:F===D?m:void 0},G=function(m){return W((function(A){return F===U?Mi()-A:F===D?A:void 0})(m))};f.__private__.setPrecision=f.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var le,fe="00000000000000000000000000000000",ne=f.__private__.getFileId=function(){return fe},q=f.__private__.setFileId=function(m){return fe=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Rr=new Pa(p.userPermissions,p.userPassword,p.ownerPassword,fe)),fe};f.setFileId=function(m){return q(m),this},f.getFileId=function(){return ne()};var ee=f.__private__.convertDateToPDFDate=function(m){var A=m.getTimezoneOffset(),$=A<0?"+":"-",Q=Math.floor(Math.abs(A/60)),de=Math.abs(A%60),_e=[$,Y(Q),"'",Y(de),"'"].join("");return["D:",m.getFullYear(),Y(m.getMonth()+1),Y(m.getDate()),Y(m.getHours()),Y(m.getMinutes()),Y(m.getSeconds()),_e].join("")},V=f.__private__.convertPDFDateToDate=function(m){var A=parseInt(m.substr(2,4),10),$=parseInt(m.substr(6,2),10)-1,Q=parseInt(m.substr(8,2),10),de=parseInt(m.substr(10,2),10),_e=parseInt(m.substr(12,2),10),Le=parseInt(m.substr(14,2),10);return new Date(A,$,Q,de,_e,Le,0)},pe=f.__private__.setCreationDate=function(m){var A;if(m===void 0&&(m=new Date),m instanceof Date)A=ee(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=m}return le=A},P=f.__private__.getCreationDate=function(m){var A=le;return m==="jsDate"&&(A=V(le)),A};f.setCreationDate=function(m){return pe(m),this},f.getCreationDate=function(m){return P(m)};var M,Y=f.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},J=f.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},Z=0,se=[],ae=[],ce=0,be=[],xe=[],ke=!1,we=ae;f.__private__.setCustomOutputDestination=function(m){ke=!0,we=m};var Pe=function(m){ke||(we=m)};f.__private__.resetCustomOutputDestination=function(){ke=!1,we=ae};var R=f.__private__.out=function(m){return m=m.toString(),ce+=m.length+1,we.push(m),we},Ne=f.__private__.write=function(m){return R(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},oe=f.__private__.getArrayBuffer=function(m){for(var A=m.length,$=new ArrayBuffer(A),Q=new Uint8Array($);A--;)Q[A]=m.charCodeAt(A);return $},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ae};var ve=r.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(m){return ve=F===D?m/lt:m,this};var ze,Ie=f.__private__.getFontSize=f.getFontSize=function(){return F===U?ve:ve*lt},Me=r.R2L||!1;f.__private__.setR2L=f.setR2L=function(m){return Me=m,this},f.__private__.getR2L=f.getR2L=function(){return Me};var He,ot=f.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))ze=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');ze=m}else ze=parseInt(m,10)};f.__private__.getZoomMode=function(){return ze};var We,qe=f.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');He=m};f.__private__.getPageMode=function(){return He};var Be=f.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');We=m};f.__private__.getLayoutMode=function(){return We},f.__private__.setDisplayMode=f.setDisplayMode=function(m,A,$){return ot(m),Be(A),qe($),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(m){if(Object.keys(rt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[m]},f.__private__.getDocumentProperties=function(){return rt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(m){for(var A in rt)rt.hasOwnProperty(A)&&m[A]&&(rt[A]=m[A]);return this},f.__private__.setDocumentProperty=function(m,A){if(Object.keys(rt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[m]=A};var De,lt,Ue,ct,yt,ht={},gt={},$t=[],Je={},qt={},Te={},ft={},Ot=null,pt=0,Ze=[],Pt=new Gf(f),Nn=r.hotfixes||[],rr={},dn={},dt=[],Ee=function m(A,$,Q,de,_e,Le){if(!(this instanceof m))return new m(A,$,Q,de,_e,Le);isNaN(A)&&(A=1),isNaN($)&&($=0),isNaN(Q)&&(Q=0),isNaN(de)&&(de=1),isNaN(_e)&&(_e=0),isNaN(Le)&&(Le=0),this._matrix=[A,$,Q,de,_e,Le]};Object.defineProperty(Ee.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Ee.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Ee.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Ee.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Ee.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Ee.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Ee.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Ee.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Ee.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Ee.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Ee.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Ee.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Ee.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ee.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ee.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ee.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ee.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(m)},Ee.prototype.multiply=function(m){var A=m.sx*this.sx+m.shy*this.shx,$=m.sx*this.shy+m.shy*this.sy,Q=m.shx*this.sx+m.sy*this.shx,de=m.shx*this.shy+m.sy*this.sy,_e=m.tx*this.sx+m.ty*this.shx+this.tx,Le=m.tx*this.shy+m.ty*this.sy+this.ty;return new Ee(A,$,Q,de,_e,Le)},Ee.prototype.decompose=function(){var m=this.sx,A=this.shy,$=this.shx,Q=this.sy,de=this.tx,_e=this.ty,Le=Math.sqrt(m*m+A*A),Xe=(m/=Le)*$+(A/=Le)*Q;$-=m*Xe,Q-=A*Xe;var tt=Math.sqrt($*$+Q*Q);return Xe/=tt,m*(Q/=tt)<A*($/=tt)&&(m=-m,A=-A,Xe=-Xe,Le=-Le),{scale:new Ee(Le,0,0,tt,0,0),translate:new Ee(1,0,0,1,de,_e),rotate:new Ee(m,A,-A,m,0,0),skew:new Ee(1,0,Xe,1,0,0)}},Ee.prototype.toString=function(m){return this.join(" ")},Ee.prototype.inversed=function(){var m=this.sx,A=this.shy,$=this.shx,Q=this.sy,de=this.tx,_e=this.ty,Le=1/(m*Q-A*$),Xe=Q*Le,tt=-A*Le,xt=-$*Le,jt=m*Le;return new Ee(Xe,tt,xt,jt,-Xe*de-xt*_e,-tt*de-jt*_e)},Ee.prototype.applyToPoint=function(m){var A=m.x*this.sx+m.y*this.shx+this.tx,$=m.x*this.shy+m.y*this.sy+this.ty;return new Os(A,$)},Ee.prototype.applyToRectangle=function(m){var A=this.applyToPoint(m),$=this.applyToPoint(new Os(m.x+m.w,m.y+m.h));return new eo(A.x,A.y,$.x-A.x,$.y-A.y)},Ee.prototype.clone=function(){var m=this.sx,A=this.shy,$=this.shx,Q=this.sy,de=this.tx,_e=this.ty;return new Ee(m,A,$,Q,de,_e)},f.Matrix=Ee;var _t=f.matrixMult=function(m,A){return A.multiply(m)},Oe=new Ee(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Oe;var at=function(m,A){if(!qt[m]){var $=(A instanceof Ji?"Sh":"P")+(Object.keys(Je).length+1).toString(10);A.id=$,qt[m]=$,Je[$]=A,Pt.publish("addPattern",A)}};f.ShadingPattern=Ji,f.TilingPattern=Ta,f.addShadingPattern=function(m,A){return N("addShadingPattern()"),at(m,A),this},f.beginTilingPattern=function(m){N("beginTilingPattern()"),to(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},f.endTilingPattern=function(m,A){N("endTilingPattern()"),A.stream=xe[M].join(`
`),at(m,A),Pt.publish("endTilingPattern",A),dt.pop().restore()};var Ve,$e=f.__private__.newObject=function(){var m=It();return ut(m,!0),m},It=f.__private__.newObjectDeferred=function(){return Z++,se[Z]=function(){return ce},Z},ut=function(m,A){return A=typeof A=="boolean"&&A,se[m]=ce,A&&R(m+" 0 obj"),m},Yt=f.__private__.newAdditionalObject=function(){var m={objId:It(),content:""};return be.push(m),m},ar=It(),Ut=It(),Mt=f.__private__.decodeColorString=function(m){var A=m.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length!==5||A[4]!=="k"&&A[4]!=="K"||(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var $=parseFloat(A[0]);A=[$,$,$,"r"]}for(var Q="#",de=0;de<3;de++)Q+=("0"+Math.floor(255*parseFloat(A[de])).toString(16)).slice(-2);return Q},Lt=f.__private__.encodeColorString=function(m){var A;typeof m=="string"&&(m={ch1:m});var $=m.ch1,Q=m.ch2,de=m.ch3,_e=m.ch4,Le=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $=="string"&&$.charAt(0)!=="#"){var Xe=new Gm($);if(Xe.ok)$=Xe.toHex();else if(!/^\d*\.?\d*$/.test($))throw new Error('Invalid color "'+$+'" passed to jsPDF.encodeColorString.')}if(typeof $=="string"&&/^#[0-9A-Fa-f]{3}$/.test($)&&($="#"+$[1]+$[1]+$[2]+$[2]+$[3]+$[3]),typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($)){var tt=parseInt($.substr(1),16);$=tt>>16&255,Q=tt>>8&255,de=255&tt}if(Q===void 0||_e===void 0&&$===Q&&Q===de)A=typeof $=="string"?$+" "+Le[0]:m.precision===2?S($/255)+" "+Le[0]:C($/255)+" "+Le[0];else if(_e===void 0||Zt(_e)==="object"){if(_e&&!isNaN(_e.a)&&_e.a===0)return["1.","1.","1.",Le[1]].join(" ");A=typeof $=="string"?[$,Q,de,Le[1]].join(" "):m.precision===2?[S($/255),S(Q/255),S(de/255),Le[1]].join(" "):[C($/255),C(Q/255),C(de/255),Le[1]].join(" ")}else A=typeof $=="string"?[$,Q,de,_e,Le[2]].join(" "):m.precision===2?[S($),S(Q),S(de),S(_e),Le[2]].join(" "):[C($),C(Q),C(de),C(_e),Le[2]].join(" ");return A},pr=f.__private__.getFilters=function(){return l},Rt=f.__private__.putStream=function(m){var A=(m=m||{}).data||"",$=m.filters||pr(),Q=m.alreadyAppliedFilters||[],de=m.addLength1||!1,_e=A.length,Le=m.objectId,Xe=function(Dr){return Dr};if(p!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Xe=Rr.encryptor(Le,0));var tt={};$===!0&&($=["FlateEncode"]);var xt=m.additionalKeyValues||[],jt=(tt=st.API.processDataByFilters!==void 0?st.API.processDataByFilters(A,$):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(Q)?Q.join(" "):Q.toString());if(tt.data.length!==0&&(xt.push({key:"Length",value:tt.data.length}),de===!0&&xt.push({key:"Length1",value:_e})),jt.length!=0)if(jt.split("/").length-1==1)xt.push({key:"Filter",value:jt});else{xt.push({key:"Filter",value:"["+jt+"]"});for(var Ht=0;Ht<xt.length;Ht+=1)if(xt[Ht].key==="DecodeParms"){for(var gr=[],Ir=0;Ir<tt.reverseChain.split("/").length-1;Ir+=1)gr.push("null");gr.push(xt[Ht].value),xt[Ht].value="["+gr.join(" ")+"]"}}R("<<");for(var nr=0;nr<xt.length;nr++)R("/"+xt[nr].key+" "+xt[nr].value);R(">>"),tt.data.length!==0&&(R("stream"),R(Xe(tt.data)),R("endstream"))},wr=f.__private__.putPage=function(m){var A=m.number,$=m.data,Q=m.objId,de=m.contentsObjId;ut(Q,!0),R("<</Type /Page"),R("/Parent "+m.rootDictionaryObjId+" 0 R"),R("/Resources "+m.resourceDictionaryObjId+" 0 R"),R("/MediaBox ["+parseFloat(k(m.mediaBox.bottomLeftX))+" "+parseFloat(k(m.mediaBox.bottomLeftY))+" "+k(m.mediaBox.topRightX)+" "+k(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&R("/CropBox ["+k(m.cropBox.bottomLeftX)+" "+k(m.cropBox.bottomLeftY)+" "+k(m.cropBox.topRightX)+" "+k(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&R("/BleedBox ["+k(m.bleedBox.bottomLeftX)+" "+k(m.bleedBox.bottomLeftY)+" "+k(m.bleedBox.topRightX)+" "+k(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&R("/TrimBox ["+k(m.trimBox.bottomLeftX)+" "+k(m.trimBox.bottomLeftY)+" "+k(m.trimBox.topRightX)+" "+k(m.trimBox.topRightY)+"]"),m.artBox!==null&&R("/ArtBox ["+k(m.artBox.bottomLeftX)+" "+k(m.artBox.bottomLeftY)+" "+k(m.artBox.topRightX)+" "+k(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&R("/UserUnit "+m.userUnit),Pt.publish("putPage",{objId:Q,pageContext:Ze[A],pageNumber:A,page:$}),R("/Contents "+de+" 0 R"),R(">>"),R("endobj");var _e=$.join(`
`);return F===D&&(_e+=`
Q`),ut(de,!0),Rt({data:_e,filters:pr(),objectId:de}),R("endobj"),Q},Nr=f.__private__.putPages=function(){var m,A,$=[];for(m=1;m<=pt;m++)Ze[m].objId=It(),Ze[m].contentsObjId=It();for(m=1;m<=pt;m++)$.push(wr({number:m,data:xe[m],objId:Ze[m].objId,contentsObjId:Ze[m].contentsObjId,mediaBox:Ze[m].mediaBox,cropBox:Ze[m].cropBox,bleedBox:Ze[m].bleedBox,trimBox:Ze[m].trimBox,artBox:Ze[m].artBox,userUnit:Ze[m].userUnit,rootDictionaryObjId:ar,resourceDictionaryObjId:Ut}));ut(ar,!0),R("<</Type /Pages");var Q="/Kids [";for(A=0;A<pt;A++)Q+=$[A]+" 0 R ";R(Q+"]"),R("/Count "+pt),R(">>"),R("endobj"),Pt.publish("postPutPages")},or=function(m){Pt.publish("putFont",{font:m,out:R,newObject:$e,putStream:Rt}),m.isAlreadyPutted!==!0&&(m.objectNumber=$e(),R("<<"),R("/Type /Font"),R("/BaseFont /"+Ea(m.postScriptName)),R("/Subtype /Type1"),typeof m.encoding=="string"&&R("/Encoding /"+m.encoding),R("/FirstChar 32"),R("/LastChar 255"),R(">>"),R("endobj"))},ur=function(m){m.objectNumber=$e();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[k(m.x),k(m.y),k(m.x+m.width),k(m.y+m.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var $=m.pages[1].join(`
`);Rt({data:$,additionalKeyValues:A,objectId:m.objectNumber}),R("endobj")},mr=function(m,A){A||(A=21);var $=$e(),Q=(function(Le,Xe){var tt,xt=[],jt=1/(Xe-1);for(tt=0;tt<1;tt+=jt)xt.push(tt);if(xt.push(1),Le[0].offset!=0){var Ht={offset:0,color:Le[0].color};Le.unshift(Ht)}if(Le[Le.length-1].offset!=1){var gr={offset:1,color:Le[Le.length-1].color};Le.push(gr)}for(var Ir="",nr=0,Dr=0;Dr<xt.length;Dr++){for(tt=xt[Dr];tt>Le[nr+1].offset;)nr++;var Tr=Le[nr].offset,Gr=(tt-Tr)/(Le[nr+1].offset-Tr),Ms=Le[nr].color,es=Le[nr+1].color;Ir+=J(Math.round((1-Gr)*Ms[0]+Gr*es[0]).toString(16))+J(Math.round((1-Gr)*Ms[1]+Gr*es[1]).toString(16))+J(Math.round((1-Gr)*Ms[2]+Gr*es[2]).toString(16))}return Ir.trim()})(m.colors,A),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+A+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Rt({data:Q,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$}),R("endobj"),m.objectNumber=$e(),R("<< /ShadingType "+m.type),R("/ColorSpace /DeviceRGB");var _e="/Coords ["+k(parseFloat(m.coords[0]))+" "+k(parseFloat(m.coords[1]))+" ";m.type===2?_e+=k(parseFloat(m.coords[2]))+" "+k(parseFloat(m.coords[3])):_e+=k(parseFloat(m.coords[2]))+" "+k(parseFloat(m.coords[3]))+" "+k(parseFloat(m.coords[4]))+" "+k(parseFloat(m.coords[5])),R(_e+="]"),m.matrix&&R("/Matrix ["+m.matrix.toString()+"]"),R("/Function "+$+" 0 R"),R("/Extend [true true]"),R(">>"),R("endobj")},jn=function(m,A){var $=It(),Q=$e();A.push({resourcesOid:$,objectOid:Q}),m.objectNumber=Q;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+m.boundingBox.map(k).join(" ")+"]"}),de.push({key:"XStep",value:k(m.xStep)}),de.push({key:"YStep",value:k(m.yStep)}),de.push({key:"Resources",value:$+" 0 R"}),m.matrix&&de.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Rt({data:m.stream,additionalKeyValues:de,objectId:m.objectNumber}),R("endobj")},si=function(m){for(var A in m.objectNumber=$e(),R("<<"),m)switch(A){case"opacity":R("/ca "+S(m[A]));break;case"stroke-opacity":R("/CA "+S(m[A]))}R(">>"),R("endobj")},xr=function(m){ut(m.resourcesOid,!0),R("<<"),R("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var A in R("/Font <<"),ht)ht.hasOwnProperty(A)&&(g===!1||g===!0&&b.hasOwnProperty(A))&&R("/"+A+" "+ht[A].objectNumber+" 0 R");R(">>")})(),(function(){if(Object.keys(Je).length>0){for(var A in R("/Shading <<"),Je)Je.hasOwnProperty(A)&&Je[A]instanceof Ji&&Je[A].objectNumber>=0&&R("/"+A+" "+Je[A].objectNumber+" 0 R");Pt.publish("putShadingPatternDict"),R(">>")}})(),(function(A){if(Object.keys(Je).length>0){for(var $ in R("/Pattern <<"),Je)Je.hasOwnProperty($)&&Je[$]instanceof f.TilingPattern&&Je[$].objectNumber>=0&&Je[$].objectNumber<A&&R("/"+$+" "+Je[$].objectNumber+" 0 R");Pt.publish("putTilingPatternDict"),R(">>")}})(m.objectOid),(function(){if(Object.keys(Te).length>0){var A;for(A in R("/ExtGState <<"),Te)Te.hasOwnProperty(A)&&Te[A].objectNumber>=0&&R("/"+A+" "+Te[A].objectNumber+" 0 R");Pt.publish("putGStateDict"),R(">>")}})(),(function(){for(var A in R("/XObject <<"),rr)rr.hasOwnProperty(A)&&rr[A].objectNumber>=0&&R("/"+A+" "+rr[A].objectNumber+" 0 R");Pt.publish("putXobjectDict"),R(">>")})(),R(">>"),R("endobj")},hr=function(m){gt[m.fontName]=gt[m.fontName]||{},gt[m.fontName][m.fontStyle]=m.id},un=function(m,A,$,Q,de){var _e={id:"F"+(Object.keys(ht).length+1).toString(10),postScriptName:m,fontName:A,fontStyle:$,encoding:Q,isStandardFont:de||!1,metadata:{}};return Pt.publish("addFont",{font:_e,instance:this}),ht[_e.id]=_e,hr(_e),_e.id},Qr=f.__private__.pdfEscape=f.pdfEscape=function(m,A){return(function($,Q){var de,_e,Le,Xe,tt,xt,jt,Ht,gr;if(Le=(Q=Q||{}).sourceEncoding||"Unicode",tt=Q.outputEncoding,(Q.autoencode||tt)&&ht[De].metadata&&ht[De].metadata[Le]&&ht[De].metadata[Le].encoding&&(Xe=ht[De].metadata[Le].encoding,!tt&&ht[De].encoding&&(tt=ht[De].encoding),!tt&&Xe.codePages&&(tt=Xe.codePages[0]),typeof tt=="string"&&(tt=Xe[tt]),tt)){for(jt=!1,xt=[],de=0,_e=$.length;de<_e;de++)(Ht=tt[$.charCodeAt(de)])?xt.push(String.fromCharCode(Ht)):xt.push($[de]),xt[de].charCodeAt(0)>>8&&(jt=!0);$=xt.join("")}for(de=$.length;jt===void 0&&de!==0;)$.charCodeAt(de-1)>>8&&(jt=!0),de--;if(!jt)return $;for(xt=Q.noBOM?[]:[254,255],de=0,_e=$.length;de<_e;de++){if((gr=(Ht=$.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push(gr),xt.push(Ht-(gr<<8))}return String.fromCharCode.apply(void 0,xt)})(m,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ii=f.__private__.beginPage=function(m){xe[++pt]=[],Ze[pt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},us(pt),Pe(xe[M])},ds=function(m,A){var $,Q,de;switch(t=A||t,typeof m=="string"&&($=w(m.toLowerCase()),Array.isArray($)&&(Q=$[0],de=$[1])),Array.isArray(m)&&(Q=m[0]*lt,de=m[1]*lt),isNaN(Q)&&(Q=i[0],de=i[1]),(Q>14400||de>14400)&&(tr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Q=Math.min(14400,Q),de=Math.min(14400,de)),i=[Q,de],t.substr(0,1)){case"l":de>Q&&(i=[de,Q]);break;case"p":Q>de&&(i=[de,Q])}ii(i),vt(Xa),R(ma),Za!==0&&R(Za+" J"),Qa!==0&&R(Qa+" j"),Pt.publish("addPage",{pageNumber:pt})},en=function(m){m>0&&m<=pt&&(xe.splice(m,1),Ze.splice(m,1),pt--,M>pt&&(M=pt),this.setPage(M))},us=function(m){m>0&&m<=pt&&(M=m)},Ps=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return xe.length-1},Cn=function(m,A,$){var Q,de=void 0;return $=$||{},m=m!==void 0?m:ht[De].fontName,A=A!==void 0?A:ht[De].fontStyle,Q=m.toLowerCase(),gt[Q]!==void 0&&gt[Q][A]!==void 0?de=gt[Q][A]:gt[m]!==void 0&&gt[m][A]!==void 0?de=gt[m][A]:$.disableWarning===!1&&tr.warn("Unable to look up font label for font '"+m+"', '"+A+"'. Refer to getFontList() for available fonts."),de||$.noFallback||(de=gt.times[A])==null&&(de=gt.times.normal),de},hs=f.__private__.putInfo=function(){var m=$e(),A=function(Q){return Q};for(var $ in p!==null&&(A=Rr.encryptor(m,0)),R("<<"),R("/Producer ("+Qr(A("jsPDF "+st.version))+")"),rt)rt.hasOwnProperty($)&&rt[$]&&R("/"+$.substr(0,1).toUpperCase()+$.substr(1)+" ("+Qr(A(rt[$]))+")");R("/CreationDate ("+Qr(A(le))+")"),R(">>"),R("endobj")},ha=f.__private__.putCatalog=function(m){var A=(m=m||{}).rootDictionaryObjId||ar;switch($e(),R("<<"),R("/Type /Catalog"),R("/Pages "+A+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":R("/OpenAction [3 0 R /FitH null]");break;case"fullheight":R("/OpenAction [3 0 R /FitV null]");break;case"fullpage":R("/OpenAction [3 0 R /Fit]");break;case"original":R("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $=""+ze;$.substr($.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&R("/OpenAction [3 0 R /XYZ null null "+S(ze)+"]")}switch(We||(We="continuous"),We){case"continuous":R("/PageLayout /OneColumn");break;case"single":R("/PageLayout /SinglePage");break;case"two":case"twoleft":R("/PageLayout /TwoColumnLeft");break;case"tworight":R("/PageLayout /TwoColumnRight")}He&&R("/PageMode /"+He),Pt.publish("putCatalog"),R(">>"),R("endobj")},Rc=f.__private__.putTrailer=function(){R("trailer"),R("<<"),R("/Size "+(Z+1)),R("/Root "+Z+" 0 R"),R("/Info "+(Z-1)+" 0 R"),p!==null&&R("/Encrypt "+Rr.oid+" 0 R"),R("/ID [ <"+fe+"> <"+fe+"> ]"),R(">>")},Fr=f.__private__.putHeader=function(){R("%PDF-"+y),R("%ÂºÃŸÂ¬Ã ")},el=f.__private__.putXRef=function(){var m="0000000000";R("xref"),R("0 "+(Z+1)),R("0000000000 65535 f ");for(var A=1;A<=Z;A++)typeof se[A]=="function"?R((m+se[A]()).slice(-10)+" 00000 n "):se[A]!==void 0?R((m+se[A]).slice(-10)+" 00000 n "):R("0000000000 00000 n ")},fs=f.__private__.buildDocument=function(){var m;Z=0,ce=0,ae=[],se=[],be=[],ar=It(),Ut=It(),Pe(ae),Pt.publish("buildDocument"),Fr(),Nr(),(function(){Pt.publish("putAdditionalObjects");for(var $=0;$<be.length;$++){var Q=be[$];ut(Q.objId,!0),R(Q.content),R("endobj")}Pt.publish("postPutAdditionalObjects")})(),m=[],(function(){for(var $ in ht)ht.hasOwnProperty($)&&(g===!1||g===!0&&b.hasOwnProperty($))&&or(ht[$])})(),(function(){var $;for($ in Te)Te.hasOwnProperty($)&&si(Te[$])})(),(function(){for(var $ in rr)rr.hasOwnProperty($)&&ur(rr[$])})(),(function($){var Q;for(Q in Je)Je.hasOwnProperty(Q)&&(Je[Q]instanceof Ji?mr(Je[Q]):Je[Q]instanceof Ta&&jn(Je[Q],$))})(m),Pt.publish("putResources"),m.forEach(xr),xr({resourcesOid:Ut,objectOid:Number.MAX_SAFE_INTEGER}),Pt.publish("postPutResources"),p!==null&&(Rr.oid=$e(),R("<<"),R("/Filter /Standard"),R("/V "+Rr.v),R("/R "+Rr.r),R("/U <"+Rr.toHexString(Rr.U)+">"),R("/O <"+Rr.toHexString(Rr.O)+">"),R("/P "+Rr.P),R(">>"),R("endobj")),hs(),ha();var A=ce;return el(),Rc(),R("startxref"),R(""+A),R("%%EOF"),Pe(xe[M]),ae.join(`
`)},fa=f.__private__.getBlob=function(m){return new Blob([oe(m)],{type:"application/pdf"})},tl=f.output=f.__private__.output=(Ve=function(m,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",m){case void 0:return fs();case"save":f.save(A.filename);break;case"arraybuffer":return oe(fs());case"blob":return fa(fs());case"bloburi":case"bloburl":if(mt.URL!==void 0&&typeof mt.URL.createObjectURL=="function")return mt.URL&&mt.URL.createObjectURL(fa(fs()))||void 0;tr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $="",Q=fs();try{$=Wf(Q)}catch{$=Wf(unescape(encodeURIComponent(Q)))}return"data:application/pdf;filename="+A.filename+";base64,"+$;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(de=A.pdfObjectUrl,_e="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+_e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",Xe=mt.open();return Xe!==null&&Xe.document.write(Le),Xe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',xt=mt.open();if(xt!==null){xt.document.write(tt);var jt=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=A.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jt.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',gr=mt.open();if(gr!==null&&(gr.document.write(Ht),gr.document.title=A.filename),gr||typeof safari>"u")return gr;break;case"datauri":case"dataurl":return mt.document.location.href=this.output("datauristring",A);default:return null}},Ve.foo=function(){try{return Ve.apply(this,arguments)}catch($){var m=$.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var A="Error in function "+m.split(`
`)[0].split("<")[0]+": "+$.message;if(!mt.console)throw new Error(A);mt.console.error(A,$),mt.alert&&alert(A)}},Ve.foo.bar=Ve,Ve.foo),Wn=function(m){return Array.isArray(Nn)===!0&&Nn.indexOf(m)>-1};switch(n){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=Wn("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);lt=n}var Rr=null;pe(),q();var Es=f.__private__.getPageInfo=f.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ze[m].objId,pageNumber:m,pageContext:Ze[m]}},rl=f.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in Ze)if(Ze[A].objId===m)break;return Es(A)},Dc=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ze[M].objId,pageNumber:M,pageContext:Ze[M]}};f.addPage=function(){return ds.apply(this,arguments),this},f.setPage=function(){return us.apply(this,arguments),Pe.call(this,xe[M]),this},f.insertPage=function(m){return this.addPage(),this.movePage(M,m),this},f.movePage=function(m,A){var $,Q;if(m>A){$=xe[m],Q=Ze[m];for(var de=m;de>A;de--)xe[de]=xe[de-1],Ze[de]=Ze[de-1];xe[A]=$,Ze[A]=Q,this.setPage(A)}else if(m<A){$=xe[m],Q=Ze[m];for(var _e=m;_e<A;_e++)xe[_e]=xe[_e+1],Ze[_e]=Ze[_e+1];xe[A]=$,Ze[A]=Q,this.setPage(A)}return this},f.deletePage=function(){return en.apply(this,arguments),this},f.__private__.text=f.text=function(m,A,$,Q,de){var _e,Le,Xe,tt,xt,jt,Ht,gr,Ir,nr=(Q=Q||{}).scope||this;if(typeof m=="number"&&typeof A=="number"&&(typeof $=="string"||Array.isArray($))){var Dr=$;$=A,A=m,m=Dr}if(arguments[3]instanceof Ee==0?(Xe=arguments[4],tt=arguments[5],Zt(Ht=arguments[3])==="object"&&Ht!==null||(typeof Xe=="string"&&(tt=Xe,Xe=null),typeof Ht=="string"&&(tt=Ht,Ht=null),typeof Ht=="number"&&(Xe=Ht,Ht=null),Q={flags:Ht,angle:Xe,align:tt})):(N("The transform parameter of text() with a Matrix value"),Ir=de),isNaN(A)||isNaN($)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return nr;var Tr,Gr="",Ms=typeof Q.lineHeightFactor=="number"?Q.lineHeightFactor:Oi,es=nr.internal.scaleFactor;function Bs(Vt){return Vt=Vt.split("	").join(Array(Q.TabLen||9).join(" ")),Qr(Vt,Ht)}function no(Vt){for(var Qt,_r=Vt.concat(),Mr=[],zs=_r.length;zs--;)typeof(Qt=_r.shift())=="string"?Mr.push(Qt):Array.isArray(Vt)&&(Qt.length===1||Qt[1]===void 0&&Qt[2]===void 0)?Mr.push(Qt[0]):Mr.push([Qt[0],Qt[1],Qt[2]]);return Mr}function xa(Vt,Qt){var _r;if(typeof Vt=="string")_r=Qt(Vt)[0];else if(Array.isArray(Vt)){for(var Mr,zs,po=Vt.concat(),ya=[],fl=po.length;fl--;)typeof(Mr=po.shift())=="string"?ya.push(Qt(Mr)[0]):Array.isArray(Mr)&&typeof Mr[0]=="string"&&(zs=Qt(Mr[0],Mr[1],Mr[2]),ya.push([zs[0],zs[1],zs[2]]));_r=ya}return _r}var ai=!1,Bi=!0;if(typeof m=="string")ai=!0;else if(Array.isArray(m)){var qi=m.concat();Le=[];for(var oi,Yr=qi.length;Yr--;)(typeof(oi=qi.shift())!="string"||Array.isArray(oi)&&typeof oi[0]!="string")&&(Bi=!1);ai=Bi}if(ai===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var Ui=ve/nr.internal.scaleFactor,zi=Ui*(Ms-1);switch(Q.baseline){case"bottom":$-=zi;break;case"top":$+=Ui-zi;break;case"hanging":$+=Ui-2*zi;break;case"middle":$+=Ui/2-zi}if((jt=Q.maxWidth||0)>0&&(typeof m=="string"?m=nr.splitTextToSize(m,jt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Vt,Qt){return Vt.concat(nr.splitTextToSize(Qt,jt))},[]))),_e={text:m,x:A,y:$,options:Q,mutex:{pdfEscape:Qr,activeFontKey:De,fonts:ht,activeFontSize:ve}},Pt.publish("preProcessText",_e),m=_e.text,Xe=(Q=_e.options).angle,Ir instanceof Ee==0&&Xe&&typeof Xe=="number"){Xe*=Math.PI/180,Q.rotationDirection===0&&(Xe=-Xe),F===D&&(Xe=-Xe);var so=Math.cos(Xe),io=Math.sin(Xe);Ir=new Ee(so,io,-io,so,0,0)}else Xe&&Xe instanceof Ee&&(Ir=Xe);F!==D||Ir||(Ir=Oe),(xt=Q.charSpace||Ts)!==void 0&&(Gr+=k(W(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(gr=Q.horizontalScale)!==void 0&&(Gr+=k(100*gr)+` Tz
`),Q.lang;var hn=-1,qs=Q.renderingMode!==void 0?Q.renderingMode:Q.stroke,ba=nr.internal.getCurrentPageInfo().pageContext;switch(qs){case 0:case!1:case"fill":hn=0;break;case 1:case!0:case"stroke":hn=1;break;case 2:case"fillThenStroke":hn=2;break;case 3:case"invisible":hn=3;break;case 4:case"fillAndAddForClipping":hn=4;break;case 5:case"strokeAndAddPathForClipping":hn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hn=6;break;case 7:case"addToPathForClipping":hn=7}var ul=ba.usedRenderingMode!==void 0?ba.usedRenderingMode:-1;hn!==-1?Gr+=hn+` Tr
`:ul!==-1&&(Gr+=`0 Tr
`),hn!==-1&&(ba.usedRenderingMode=hn),tt=Q.align||"left";var $n,Hi=ve*Ms,ao=nr.internal.pageSize.getWidth(),oo=ht[De];xt=Q.charSpace||Ts,jt=Q.maxWidth||0,Ht=Object.assign({autoencode:!0,noBOM:!0},Q.flags);var li=[],Wi=function(Vt){return nr.getStringUnitWidth(Vt,{font:oo,charSpace:xt,fontSize:ve,doKerning:!1})*ve/es};if(Object.prototype.toString.call(m)==="[object Array]"){var Pn;Le=no(m),tt!=="left"&&($n=Le.map(Wi));var En,ci=0;if(tt==="right"){A-=$n[0],m=[],Yr=Le.length;for(var Us=0;Us<Yr;Us++)Us===0?(En=Fs(A),Pn=Is($)):(En=W(ci-$n[Us]),Pn=-Hi),m.push([Le[Us],En,Pn]),ci=$n[Us]}else if(tt==="center"){A-=$n[0]/2,m=[],Yr=Le.length;for(var di=0;di<Yr;di++)di===0?(En=Fs(A),Pn=Is($)):(En=W((ci-$n[di])/2),Pn=-Hi),m.push([Le[di],En,Pn]),ci=$n[di]}else if(tt==="left"){m=[],Yr=Le.length;for(var lo=0;lo<Yr;lo++)m.push(Le[lo])}else if(tt==="justify"&&oo.encoding==="Identity-H"){m=[],Yr=Le.length,jt=jt!==0?jt:ao;for(var va=0,jr=0;jr<Yr;jr++)if(Pn=jr===0?Is($):-Hi,En=jr===0?Fs(A):va,jr<Yr-1){var hl=W((jt-$n[jr])/(Le[jr].split(" ").length-1)),ms=Le[jr].split(" ");m.push([ms[0]+" ",En,Pn]),va=0;for(var gs=1;gs<ms.length;gs++){var co=(Wi(ms[gs-1]+" "+ms[gs])-Wi(ms[gs]))*es+hl;gs==ms.length-1?m.push([ms[gs],co,0]):m.push([ms[gs]+" ",co,0]),va-=co}}else m.push([Le[jr],En,Pn]);m.push(["",va,0])}else{if(tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Yr=Le.length,jt=jt!==0?jt:ao,jr=0;jr<Yr;jr++){Pn=jr===0?Is($):-Hi,En=jr===0?Fs(A):0;var uo=Le[jr].split(" ").length-1,ho=uo>0?(jt-$n[jr])/uo:0;jr<Yr-1?li.push(k(W(ho))):li.push(0),m.push([Le[jr],En,Pn])}}}(typeof Q.R2L=="boolean"?Q.R2L:Me)===!0&&(m=xa(m,function(Vt,Qt,_r){return[Vt.split("").reverse().join(""),Qt,_r]})),_e={text:m,x:A,y:$,options:Q,mutex:{pdfEscape:Qr,activeFontKey:De,fonts:ht,activeFontSize:ve}},Pt.publish("postProcessText",_e),m=_e.text,Tr=_e.mutex.isHex||!1;var fo=ht[De].encoding;fo!=="WinAnsiEncoding"&&fo!=="StandardEncoding"||(m=xa(m,function(Vt,Qt,_r){return[Bs(Vt),Qt,_r]})),Le=no(m),m=[];for(var ui,hi,fi,$i=Array.isArray(Le[0])?1:0,pi="",Vi=function(Vt,Qt,_r){var Mr="";return _r instanceof Ee?(_r=typeof Q.angle=="number"?_t(_r,new Ee(1,0,0,1,Vt,Qt)):_t(new Ee(1,0,0,1,Vt,Qt),_r),F===D&&(_r=_t(new Ee(1,0,0,-1,0,0),_r)),Mr=_r.join(" ")+` Tm
`):Mr=k(Vt)+" "+k(Qt)+` Td
`,Mr},Vn=0;Vn<Le.length;Vn++){switch(pi="",$i){case 1:fi=(Tr?"<":"(")+Le[Vn][0]+(Tr?">":")"),ui=parseFloat(Le[Vn][1]),hi=parseFloat(Le[Vn][2]);break;case 0:fi=(Tr?"<":"(")+Le[Vn]+(Tr?">":")"),ui=Fs(A),hi=Is($)}li!==void 0&&li[Vn]!==void 0&&(pi=li[Vn]+` Tw
`),Vn===0?m.push(pi+Vi(ui,hi,Ir)+fi):$i===0?m.push(pi+fi):$i===1&&m.push(pi+Vi(ui,hi,Ir)+fi)}m=$i===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var xs=`BT
/`;return xs+=De+" "+ve+` Tf
`,xs+=k(ve*Ms)+` TL
`,xs+=Ri+`
`,xs+=Gr,xs+=m,R(xs+="ET"),b[De]=!0,nr};var Mc=f.__private__.clip=f.clip=function(m){return R(m==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Mc("evenodd")},f.__private__.discardPath=f.discardPath=function(){return R("n"),this};var ps=f.__private__.isValidStyle=function(m){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(A=!0),A};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(m){return ps(m)&&(u=m),this};var nl=f.__private__.getStyle=f.getStyle=function(m){var A=u;switch(m){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=m}return A},sl=f.close=function(){return R("h"),this};f.stroke=function(){return R("S"),this},f.fill=function(m){return pa("f",m),this},f.fillEvenOdd=function(m){return pa("f*",m),this},f.fillStroke=function(m){return pa("B",m),this},f.fillStrokeEvenOdd=function(m){return pa("B*",m),this};var pa=function(m,A){Zt(A)==="object"?qc(A,m):R(m)},Ti=function(m){m===null||F===D&&m===void 0||(m=nl(m),R(m))};function Bc(m,A,$,Q,de){var _e=new Ta(A||this.boundingBox,$||this.xStep,Q||this.yStep,this.gState,de||this.matrix);_e.stream=this.stream;var Le=m+"$$"+this.cloneIndex+++"$$";return at(Le,_e),_e}var qc=function(m,A){var $=qt[m.key],Q=Je[$];if(Q instanceof Ji)R("q"),R(Uc(A)),Q.gState&&f.setGState(Q.gState),R(m.matrix.toString()+" cm"),R("/"+$+" sh"),R("Q");else if(Q instanceof Ta){var de=new Ee(1,0,0,-1,0,Mi());m.matrix&&(de=de.multiply(m.matrix||Oe),$=Bc.call(Q,m.key,m.boundingBox,m.xStep,m.yStep,de).id),R("q"),R("/Pattern cs"),R("/"+$+" scn"),Q.gState&&f.setGState(Q.gState),R(A),R("Q")}},Uc=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ka=f.moveTo=function(m,A){return R(k(W(m))+" "+k(G(A))+" m"),this},il=f.lineTo=function(m,A){return R(k(W(m))+" "+k(G(A))+" l"),this},Qn=f.curveTo=function(m,A,$,Q,de,_e){return R([k(W(m)),k(G(A)),k(W($)),k(G(Q)),k(W(de)),k(G(_e)),"c"].join(" ")),this};f.__private__.line=f.line=function(m,A,$,Q,de){if(isNaN(m)||isNaN(A)||isNaN($)||isNaN(Q)||!ps(de))throw new Error("Invalid arguments passed to jsPDF.line");return F===U?this.lines([[$-m,Q-A]],m,A,[1,1],de||"S"):this.lines([[$-m,Q-A]],m,A,[1,1]).stroke()},f.__private__.lines=f.lines=function(m,A,$,Q,de,_e){var Le,Xe,tt,xt,jt,Ht,gr,Ir,nr,Dr,Tr,Gr;if(typeof m=="number"&&(Gr=$,$=A,A=m,m=Gr),Q=Q||[1,1],_e=_e||!1,isNaN(A)||isNaN($)||!Array.isArray(m)||!Array.isArray(Q)||!ps(de)||typeof _e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ka(A,$),Le=Q[0],Xe=Q[1],xt=m.length,Dr=A,Tr=$,tt=0;tt<xt;tt++)(jt=m[tt]).length===2?(Dr=jt[0]*Le+Dr,Tr=jt[1]*Xe+Tr,il(Dr,Tr)):(Ht=jt[0]*Le+Dr,gr=jt[1]*Xe+Tr,Ir=jt[2]*Le+Dr,nr=jt[3]*Xe+Tr,Dr=jt[4]*Le+Dr,Tr=jt[5]*Xe+Tr,Qn(Ht,gr,Ir,nr,Dr,Tr));return _e&&sl(),Ti(de),this},f.path=function(m){for(var A=0;A<m.length;A++){var $=m[A],Q=$.c;switch($.op){case"m":Ka(Q[0],Q[1]);break;case"l":il(Q[0],Q[1]);break;case"c":Qn.apply(this,Q);break;case"h":sl()}}return this},f.__private__.rect=f.rect=function(m,A,$,Q,de){if(isNaN(m)||isNaN(A)||isNaN($)||isNaN(Q)||!ps(de))throw new Error("Invalid arguments passed to jsPDF.rect");return F===U&&(Q=-Q),R([k(W(m)),k(G(A)),k(W($)),k(W(Q)),"re"].join(" ")),Ti(de),this},f.__private__.triangle=f.triangle=function(m,A,$,Q,de,_e,Le){if(isNaN(m)||isNaN(A)||isNaN($)||isNaN(Q)||isNaN(de)||isNaN(_e)||!ps(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$-m,Q-A],[de-$,_e-Q],[m-de,A-_e]],m,A,[1,1],Le,!0),this},f.__private__.roundedRect=f.roundedRect=function(m,A,$,Q,de,_e,Le){if(isNaN(m)||isNaN(A)||isNaN($)||isNaN(Q)||isNaN(de)||isNaN(_e)||!ps(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xe=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*$),_e=Math.min(_e,.5*Q),this.lines([[$-2*de,0],[de*Xe,0,de,_e-_e*Xe,de,_e],[0,Q-2*_e],[0,_e*Xe,-de*Xe,_e,-de,_e],[2*de-$,0],[-de*Xe,0,-de,-_e*Xe,-de,-_e],[0,2*_e-Q],[0,-_e*Xe,de*Xe,-_e,de,-_e]],m+de,A,[1,1],Le,!0),this},f.__private__.ellipse=f.ellipse=function(m,A,$,Q,de){if(isNaN(m)||isNaN(A)||isNaN($)||isNaN(Q)||!ps(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _e=4/3*(Math.SQRT2-1)*$,Le=4/3*(Math.SQRT2-1)*Q;return Ka(m+$,A),Qn(m+$,A-Le,m+_e,A-Q,m,A-Q),Qn(m-_e,A-Q,m-$,A-Le,m-$,A),Qn(m-$,A+Le,m-_e,A+Q,m,A+Q),Qn(m+_e,A+Q,m+$,A+Le,m+$,A),Ti(de),this},f.__private__.circle=f.circle=function(m,A,$,Q){if(isNaN(m)||isNaN(A)||isNaN($)||!ps(Q))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,A,$,$,Q)},f.setFont=function(m,A,$){return $&&(A=K(A,$)),De=Cn(m,A,{disableWarning:!1}),this};var zc=f.__private__.getFont=f.getFont=function(){return ht[Cn.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var m,A,$={};for(m in gt)if(gt.hasOwnProperty(m))for(A in $[m]=[],gt[m])gt[m].hasOwnProperty(A)&&$[m].push(A);return $},f.addFont=function(m,A,$,Q,de){var _e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_e.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&_e.indexOf(arguments[3])==-1&&($=K($,Q)),un.call(this,m,A,$,de=de||"Identity-H")};var Oi,Xa=r.lineWidth||.200025,Hc=f.__private__.getLineWidth=f.getLineWidth=function(){return Xa},vt=f.__private__.setLineWidth=f.setLineWidth=function(m){return Xa=m,R(k(W(m))+" w"),this};f.__private__.setLineDash=st.API.setLineDash=st.API.setLineDashPattern=function(m,A){if(m=m||[],A=A||0,isNaN(A)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function($){return k(W($))}).join(" "),A=k(W(A)),R("["+m+"] "+A+" d"),this};var Wc=f.__private__.getLineHeight=f.getLineHeight=function(){return ve*Oi};f.__private__.getLineHeight=f.getLineHeight=function(){return ve*Oi};var $c=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(Oi=m),this},Vc=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Oi};$c(r.lineHeight);var Fs=f.__private__.getHorizontalCoordinate=function(m){return W(m)},Is=f.__private__.getVerticalCoordinate=function(m){return F===D?m:Ze[M].mediaBox.topRightY-Ze[M].mediaBox.bottomLeftY-W(m)},Gc=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(m){return k(Fs(m))},Yc=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(m){return k(Is(m))},ma=r.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Mt(ma)},f.__private__.setStrokeColor=f.setDrawColor=function(m,A,$,Q){return ma=Lt({ch1:m,ch2:A,ch3:$,ch4:Q,pdfColorType:"draw",precision:2}),R(ma),this};var Ja=r.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Mt(Ja)},f.__private__.setFillColor=f.setFillColor=function(m,A,$,Q){return Ja=Lt({ch1:m,ch2:A,ch3:$,ch4:Q,pdfColorType:"fill",precision:2}),R(Ja),this};var Ri=r.textColor||"0 g",Kc=f.__private__.getTextColor=f.getTextColor=function(){return Mt(Ri)};f.__private__.setTextColor=f.setTextColor=function(m,A,$,Q){return Ri=Lt({ch1:m,ch2:A,ch3:$,ch4:Q,pdfColorType:"text",precision:3}),this};var Ts=r.charSpace,Xc=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ts||0)};f.__private__.setCharSpace=f.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ts=m,this};var Za=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(m){var A=f.CapJoinStyles[m];if(A===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Za=A,R(A+" J"),this};var Qa=0;f.__private__.setLineJoin=f.setLineJoin=function(m){var A=f.CapJoinStyles[m];if(A===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qa=A,R(A+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return R(k(W(m))+" M"),this},f.GState=jc,f.setGState=function(m){(m=typeof m=="string"?Te[ft[m]]:al(null,m)).equals(Ot)||(R("/"+m.id+" gs"),Ot=m)};var al=function(m,A){if(!m||!ft[m]){var $=!1;for(var Q in Te)if(Te.hasOwnProperty(Q)&&Te[Q].equals(A)){$=!0;break}if($)A=Te[Q];else{var de="GS"+(Object.keys(Te).length+1).toString(10);Te[de]=A,A.id=de}return m&&(ft[m]=A.id),Pt.publish("addGState",A),A}};f.addGState=function(m,A){return al(m,A),this},f.saveGraphicsState=function(){return R("q"),$t.push({key:De,size:ve,color:Ri}),this},f.restoreGraphicsState=function(){R("Q");var m=$t.pop();return De=m.key,ve=m.size,Ri=m.color,Ot=null,this},f.setCurrentTransformationMatrix=function(m){return R(m.toString()+" cm"),this},f.comment=function(m){return R("#"+m),this};var Os=function(m,A){var $=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(_e){isNaN(_e)||($=parseFloat(_e))}});var Q=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Q},set:function(_e){isNaN(_e)||(Q=parseFloat(_e))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(_e){de=_e.toString()}}),this},eo=function(m,A,$,Q){Os.call(this,m,A),this.type="rect";var de=$||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(Le){isNaN(Le)||(de=parseFloat(Le))}});var _e=Q||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _e},set:function(Le){isNaN(Le)||(_e=parseFloat(Le))}}),this},ga=function(){this.page=pt,this.currentPage=M,this.pages=xe.slice(0),this.pagesContext=Ze.slice(0),this.x=Ue,this.y=ct,this.matrix=yt,this.width=ro(M),this.height=ll(M),this.outputDestination=we,this.id="",this.objectNumber=-1};ga.prototype.restore=function(){pt=this.page,M=this.currentPage,Ze=this.pagesContext,xe=this.pages,Ue=this.x,ct=this.y,yt=this.matrix,ol(M,this.width),Rs(M,this.height),we=this.outputDestination};var to=function(m,A,$,Q,de){dt.push(new ga),pt=M=0,xe=[],Ue=m,ct=A,yt=de,ii([$,Q])};for(var Di in f.beginFormObject=function(m,A,$,Q,de){return to(m,A,$,Q,de),this},f.endFormObject=function(m){return(function(A){if(dn[A])dt.pop().restore();else{var $=new ga,Q="Xo"+(Object.keys(rr).length+1).toString(10);$.id=Q,dn[A]=Q,rr[Q]=$,Pt.publish("addFormObject",$),dt.pop().restore()}})(m),this},f.doFormObject=function(m,A){var $=rr[dn[m]];return R("q"),R(A.toString()+" cm"),R("/"+$.id+" Do"),R("Q"),this},f.getFormObject=function(m){var A=rr[dn[m]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},f.save=function(m,A){return m=m||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(Xi(fa(fs()),m),typeof Xi.unload=="function"&&mt.setTimeout&&setTimeout(Xi.unload,911),this):new Promise(function($,Q){try{var de=Xi(fa(fs()),m);typeof Xi.unload=="function"&&mt.setTimeout&&setTimeout(Xi.unload,911),$(de)}catch(_e){Q(_e.message)}})},st.API)st.API.hasOwnProperty(Di)&&(Di==="events"&&st.API.events.length?(function(m,A){var $,Q,de;for(de=A.length-1;de!==-1;de--)$=A[de][0],Q=A[de][1],m.subscribe.apply(m,[$].concat(typeof Q=="function"?[Q]:Q))})(Pt,st.API.events):f[Di]=st.API[Di]);function ro(m){return Ze[m].mediaBox.topRightX-Ze[m].mediaBox.bottomLeftX}function ol(m,A){Ze[m].mediaBox.topRightX=A+Ze[m].mediaBox.bottomLeftX}function ll(m){return Ze[m].mediaBox.topRightY-Ze[m].mediaBox.bottomLeftY}function Rs(m,A){Ze[m].mediaBox.topRightY=A+Ze[m].mediaBox.bottomLeftY}var Ds=f.getPageWidth=function(m){return ro(m=m||M)/lt},cl=f.setPageWidth=function(m,A){ol(m,A*lt)},Mi=f.getPageHeight=function(m){return ll(m=m||M)/lt},dl=f.setPageHeight=function(m,A){Rs(m,A*lt)};return f.internal={pdfEscape:Qr,getStyle:nl,getFont:zc,getFontSize:Ie,getCharSpace:Xc,getTextColor:Kc,getLineHeight:Wc,getLineHeightFactor:Vc,getLineWidth:Hc,write:Ne,getHorizontalCoordinate:Fs,getVerticalCoordinate:Is,getCoordinateString:Gc,getVerticalCoordinateString:Yc,collections:{},newObject:$e,newAdditionalObject:Yt,newObjectDeferred:It,newObjectDeferredBegin:ut,getFilters:pr,putStream:Rt,events:Pt,scaleFactor:lt,pageSize:{getWidth:function(){return Ds(M)},setWidth:function(m){cl(M,m)},getHeight:function(){return Mi(M)},setHeight:function(m){dl(M,m)}},encryptionOptions:p,encryption:Rr,getEncryptor:function(m){return p!==null?Rr.encryptor(m,0):function(A){return A}},output:tl,getNumberOfPages:Ps,get pages(){return xe},out:R,f2:S,f3:C,getPageInfo:Es,getPageInfoByObjId:rl,getCurrentPageInfo:Dc,getPDFVersion:j,Point:Os,Rectangle:eo,Matrix:Ee,hasHotfix:Wn},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Ds(M)},set:function(m){cl(M,m)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Mi(M)},set:function(m){dl(M,m)},enumerable:!0,configurable:!0}),(function(m){for(var A=0,$=Ae.length;A<$;A++){var Q=un.call(this,m[A][0],m[A][1],m[A][2],Ae[A][3],!0);g===!1&&(b[Q]=!0);var de=m[A][0].split("-");hr({id:Q,fontName:de[0],fontStyle:de[1]||""})}Pt.publish("addFonts",{fonts:ht,dictionary:gt})}).call(f,Ae),De="F1",ds(i,t),Pt.publish("initialized"),f}Pa.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Pa.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Pa.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Pa.prototype.processOwnerPassword=function(r,e){return fu(hu(e).substr(0,5),r)},Pa.prototype.encryptor=function(r,e){var t=hu(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return fu(t,n)}},jc.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Zt(r)!==Zt(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},st.API={events:[]},st.version="3.0.4";var yr=st.API,Mu=1,ua=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ka=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},wt=function(r){return r.toFixed(2)},ji=function(r){return r.toFixed(5)};yr.__acroform__={};var Ln=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},Yf=function(r){return r*Mu},vs=function(r){var e=new Jm,t=Ke.internal.getHeight(r)||0,n=Ke.internal.getWidth(r)||0;return e.BBox=[0,0,Number(wt(n)),Number(wt(t))],e},J5=yr.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},Z5=yr.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},Q5=yr.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Lr=yr.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Q5(r,e-1)},Cr=yr.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return J5(r,e-1)},Pr=yr.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Z5(r,e-1)},eb=yr.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],a=r[1],l=r[2],o=r[3],d={};return d.lowerLeft_X=t(i)||0,d.lowerLeft_Y=n(a+o)||0,d.upperRight_X=t(i+l)||0,d.upperRight_Y=n(a)||0,[Number(wt(d.lowerLeft_X)),Number(wt(d.lowerLeft_Y)),Number(wt(d.upperRight_X)),Number(wt(d.upperRight_Y))]},tb=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=pu(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+wt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=vs(r);return a.scope=r.scope,a.stream=e.join(`
`),a}},pu=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var a=t,l=Ke.internal.getHeight(r)||0;l=l<0?-l:l;var o=Ke.internal.getWidth(r)||0;o=o<0?-o:o;var d=function(S,C,W){if(S+1<i.length){var G=C+" "+i[S+1][0];return Jl(G,r,W).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var u,p,g=Jl("3",r,a).height,b=r.multiline?l-a:(l-g)/2,f=b+=2,y=0,j=0,_=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Jl(e,r,a=12).width+", FieldWidth:"+o+`
`;break}for(var w="",U=0,D=0;D<i.length;D++)if(i.hasOwnProperty(D)){var F=!1;if(i[D].length!==1&&_!==i[D].length-1){if((g+2)*(U+2)+2>l)continue e;w+=i[D][_],F=!0,j=D,D--}else{w=(w+=i[D][_]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var te=parseInt(D),X=d(te,w,a),K=D>=i.length-1;if(X&&!K){w+=" ",_=0;continue}if(X||K){if(K)j=te;else if(r.multiline&&(g+2)*(U+2)+2>l)continue e}else{if(!r.multiline||(g+2)*(U+2)+2>l)continue e;j=te}}for(var k="",N=y;N<=j;N++){var T=i[N];if(r.multiline){if(N===j){k+=T[_]+" ",_=(_+1)%T.length;continue}if(N===y){k+=T[T.length-1]+" ";continue}}k+=T[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,p=Jl(k,r,a).width,r.textAlign){case"right":u=o-p-2;break;case"center":u=(o-p)/2;break;default:u=2}e+=wt(u)+" "+wt(f)+` Td
`,e+="("+ua(k)+`) Tj
`,e+=-wt(u)+` 0 Td
`,f=-(a+2),p=0,y=F?j:j+1,U++,w=""}break}return n.text=e,n.fontSize=a,n},Jl=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},rb={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nb=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},sb=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ls.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(rb)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Mu=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new Zm,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&nb(a,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var a=!n;for(var l in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var o=n[l],d=[],u=o.Rect;if(o.Rect&&(o.Rect=eb(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ke.createDefaultAppearanceStream(o),Zt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(d=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var p=tb(o);d.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(o.appearanceStreamContent){var g="";for(var b in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(b)){var f=o.appearanceStreamContent[b];if(g+="/"+b+" ",g+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var l in f)if(f.hasOwnProperty(l)){var y=f[l];typeof y=="function"&&(y=y.call(i,o)),g+="/"+l+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=f)=="function"&&(y=y.call(i,o)),g+="/"+l+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);g+=">>"}d.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:d,objectId:o.objId}),i.internal.out("endobj")}a&&(function(j,_){for(var w in j)if(j.hasOwnProperty(w)){var U=w,D=j[w];_.internal.newObjectDeferredBegin(D.objId,!0),Zt(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete j[U]}})(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},Xm=yr.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(l){return l};if(Array.isArray(r)){for(var i="[",a=0;a<r.length;a++)switch(a!==0&&(i+=" "),Zt(r[a])){case"boolean":case"number":case"object":i+=r[a].toString();break;case"string":r[a].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+ua(n(r[a].toString()))+")"):i+=r[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Md=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+ua(n(r))+")"},js=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};js.prototype.toString=function(){return this.objId+" 0 R"},js.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},js.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:Xm(i,this.objId,this.scope)}):i instanceof js?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var Jm=function(){js.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Ln(Jm,js);var Zm=function(){js.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ua(t(r))+")"}},set:function(t){r=t}})};Ln(Zm,js);var ls=function r(){js.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Lr(e,3)},set:function(w){w?this.F=Cr(e,3):this.F=Pr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof _c)return;a="FieldObject"+r.FieldNum++}var w=function(U){return U};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+ua(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Mu:u},set:function(w){u=w}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(w){p=w}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof _c||this instanceof sa))return Md(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=w}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Vr==0?Md(b,this.objId,this.scope):b},set:function(w){w=w.toString(),b=this instanceof Vr==0?w.substr(0,1)==="("?ka(w.substr(1,w.length-2)):ka(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vr==1?ka(b.substr(1,b.length-1)):b},set:function(w){w=w.toString(),b=this instanceof Vr==1?"/"+w:w}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Vr==0?Md(f,this.objId,this.scope):f},set:function(w){w=w.toString(),f=this instanceof Vr==0?w.substr(0,1)==="("?ka(w.substr(1,w.length-2)):ka(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vr==1?ka(f.substr(1,f.length-1)):f},set:function(w){w=w.toString(),f=this instanceof Vr==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(w){w=!!w,j=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,1)},set:function(w){w?this.Ff=Cr(this.Ff,1):this.Ff=Pr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,2)},set:function(w){w?this.Ff=Cr(this.Ff,2):this.Ff=Pr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,3)},set:function(w){w?this.Ff=Cr(this.Ff,3):this.Ff=Pr(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');_=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(_){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};Ln(ls,js);var Ma=function(){ls.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Xm(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=(function(a,l,o){o||(o=1);for(var d,u=[];d=l.exec(a);)u.push(d[o]);return u})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,18)},set:function(t){t?this.Ff=Cr(this.Ff,18):this.Ff=Pr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Cr(this.Ff,19):this.Ff=Pr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,20)},set:function(t){t?(this.Ff=Cr(this.Ff,20),e.sort()):this.Ff=Pr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,22)},set:function(t){t?this.Ff=Cr(this.Ff,22):this.Ff=Pr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,23)},set:function(t){t?this.Ff=Cr(this.Ff,23):this.Ff=Pr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,27)},set:function(t){t?this.Ff=Cr(this.Ff,27):this.Ff=Pr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ln(Ma,ls);var Ba=function(){Ma.call(this),this.fontName="helvetica",this.combo=!1};Ln(Ba,Ma);var qa=function(){Ba.call(this),this.combo=!0};Ln(qa,Ba);var cc=function(){qa.call(this),this.edit=!0};Ln(cc,qa);var Vr=function(){ls.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,15)},set:function(t){t?this.Ff=Cr(this.Ff,15):this.Ff=Pr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,16)},set:function(t){t?this.Ff=Cr(this.Ff,16):this.Ff=Pr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,17)},set:function(t){t?this.Ff=Cr(this.Ff,17):this.Ff=Pr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,26)},set:function(t){t?this.Ff=Cr(this.Ff,26):this.Ff=Pr(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+ua(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Zt(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Ln(Vr,ls);var dc=function(){Vr.call(this),this.pushButton=!0};Ln(dc,Vr);var Ua=function(){Vr.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Ln(Ua,Vr);var _c=function(){var r,e;ls.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),n)l.push("/"+a+" ("+ua(i(n[a]))+")");return l.push(">>"),l.join(`
`)},set:function(i){Zt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ke.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ln(_c,ls),Ua.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Ua.prototype.createOption=function(r){var e=new _c;return e.Parent=this,e.optionName=r,this.Kids.push(e),ib.call(this.scope,e),e};var uc=function(){Vr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ke.CheckBox.createAppearanceStream()};Ln(uc,Vr);var sa=function(){ls.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,13)},set:function(e){e?this.Ff=Cr(this.Ff,13):this.Ff=Pr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,21)},set:function(e){e?this.Ff=Cr(this.Ff,21):this.Ff=Pr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,23)},set:function(e){e?this.Ff=Cr(this.Ff,23):this.Ff=Pr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,24)},set:function(e){e?this.Ff=Cr(this.Ff,24):this.Ff=Pr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,25)},set:function(e){e?this.Ff=Cr(this.Ff,25):this.Ff=Pr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,26)},set:function(e){e?this.Ff=Cr(this.Ff,26):this.Ff=Pr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ln(sa,ls);var hc=function(){sa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,14)},set:function(r){r?this.Ff=Cr(this.Ff,14):this.Ff=Pr(this.Ff,14)}}),this.password=!0};Ln(hc,sa);var Ke={CheckBox:{createAppearanceStream:function(){return{N:{On:Ke.CheckBox.YesNormal},D:{On:Ke.CheckBox.YesPushDown,Off:Ke.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=vs(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),a=pu(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+wt(Ke.internal.getWidth(r))+" "+wt(Ke.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+wt(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=vs(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],a=Ke.internal.getHeight(r),l=Ke.internal.getWidth(r),o=pu(r,r.caption);return i.push("1 g"),i.push("0 0 "+wt(l)+" "+wt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+wt(l-1)+" "+wt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+wt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=vs(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+wt(Ke.internal.getWidth(r))+" "+wt(Ke.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Ke.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Ke.RadioButton.Circle.YesNormal,e.D[r]=Ke.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=vs(r);e.scope=r.scope;var t=[],n=Ke.internal.getWidth(r)<=Ke.internal.getHeight(r)?Ke.internal.getWidth(r)/4:Ke.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Ke.internal.Bezier_C,a=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ji(Ke.internal.getWidth(r)/2)+" "+ji(Ke.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=vs(r);e.scope=r.scope;var t=[],n=Ke.internal.getWidth(r)<=Ke.internal.getHeight(r)?Ke.internal.getWidth(r)/4:Ke.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ke.internal.Bezier_C).toFixed(5)),l=Number((n*Ke.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ji(Ke.internal.getWidth(r)/2)+" "+ji(Ke.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ji(Ke.internal.getWidth(r)/2)+" "+ji(Ke.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),t.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),t.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),t.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=vs(r);e.scope=r.scope;var t=[],n=Ke.internal.getWidth(r)<=Ke.internal.getHeight(r)?Ke.internal.getWidth(r)/4:Ke.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ke.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ji(Ke.internal.getWidth(r)/2)+" "+ji(Ke.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Ke.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Ke.RadioButton.Cross.YesNormal,e.D[r]=Ke.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=vs(r);e.scope=r.scope;var t=[],n=Ke.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+wt(Ke.internal.getWidth(r)-2)+" "+wt(Ke.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(wt(n.x1.x)+" "+wt(n.x1.y)+" m"),t.push(wt(n.x2.x)+" "+wt(n.x2.y)+" l"),t.push(wt(n.x4.x)+" "+wt(n.x4.y)+" m"),t.push(wt(n.x3.x)+" "+wt(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=vs(r);e.scope=r.scope;var t=Ke.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+wt(Ke.internal.getWidth(r))+" "+wt(Ke.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+wt(Ke.internal.getWidth(r)-2)+" "+wt(Ke.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(wt(t.x1.x)+" "+wt(t.x1.y)+" m"),n.push(wt(t.x2.x)+" "+wt(t.x2.y)+" l"),n.push(wt(t.x4.x)+" "+wt(t.x4.y)+" m"),n.push(wt(t.x3.x)+" "+wt(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=vs(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+wt(Ke.internal.getWidth(r))+" "+wt(Ke.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Ke.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Ke.internal.getWidth(r),t=Ke.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Ke.internal.getWidth=function(r){var e=0;return Zt(r)==="object"&&(e=Yf(r.Rect[2])),e},Ke.internal.getHeight=function(r){var e=0;return Zt(r)==="object"&&(e=Yf(r.Rect[3])),e};var ib=yr.addField=function(r){if(sb(this,r),!(r instanceof ls))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};yr.AcroFormChoiceField=Ma,yr.AcroFormListBox=Ba,yr.AcroFormComboBox=qa,yr.AcroFormEditBox=cc,yr.AcroFormButton=Vr,yr.AcroFormPushButton=dc,yr.AcroFormRadioButton=Ua,yr.AcroFormCheckBox=uc,yr.AcroFormTextField=sa,yr.AcroFormPasswordField=hc,yr.AcroFormAppearance=Ke,yr.AcroForm={ChoiceField:Ma,ListBox:Ba,ComboBox:qa,EditBox:cc,Button:Vr,PushButton:dc,RadioButton:Ua,CheckBox:uc,TextField:sa,PasswordField:hc,Appearance:Ke},st.AcroForm={ChoiceField:Ma,ListBox:Ba,ComboBox:qa,EditBox:cc,Button:Vr,PushButton:dc,RadioButton:Ua,CheckBox:uc,TextField:sa,PasswordField:hc,Appearance:Ke};st.AcroForm;function Qm(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(S,C){var W,G,le,fe,ne,q=t;if((C=C||t)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(X(S))for(ne in n)for(le=n[ne],W=0;W<le.length;W+=1){for(fe=!0,G=0;G<le[W].length;G+=1)if(le[W][G]!==void 0&&le[W][G]!==S[G]){fe=!1;break}if(fe===!0){q=ne;break}}else for(ne in n)for(le=n[ne],W=0;W<le.length;W+=1){for(fe=!0,G=0;G<le[W].length;G+=1)if(le[W][G]!==void 0&&le[W][G]!==S.charCodeAt(G)){fe=!1;break}if(fe===!0){q=ne;break}}return q===t&&C!==t&&(q=C),q},a=function S(C){for(var W=this.internal.write,G=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:C.width}),fe.push({key:"Height",value:C.height}),C.colorSpace===w.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===w.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var ne="",q=0,ee=C.transparency.length;q<ee;q++)ne+=C.transparency[q]+" "+C.transparency[q]+" ";fe.push({key:"Mask",value:"["+ne+"]"})}C.sMask!==void 0&&fe.push({key:"SMask",value:C.objectId+1+" 0 R"});var V=C.filter!==void 0?["/"+C.filter]:void 0;if(G({data:C.data,additionalKeyValues:fe,alreadyAppliedFilters:V,objectId:C.objectId}),W("endobj"),"sMask"in C&&C.sMask!==void 0){var pe,P=(pe=C.sMaskBitsPerComponent)!==null&&pe!==void 0?pe:C.bitsPerComponent,M={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:C.sMask};"filter"in C&&(M.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(C.width),M.filter=C.filter),S.call(this,M)}if(C.colorSpace===w.INDEXED){var Y=this.internal.newObject();G({data:k(new Uint8Array(C.palette)),objectId:Y}),W("endobj")}},l=function(){var S=this.internal.collections[e+"images"];for(var C in S)a.call(this,S[C])},o=function(){var S,C=this.internal.collections[e+"images"],W=this.internal.write;for(var G in C)W("/I"+(S=C[G]).index,S.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var S=this.internal.collections[e+"images"];return d.call(this),S},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(S){return typeof r["process"+S.toUpperCase()]=="function"},b=function(S){return Zt(S)==="object"&&S.nodeType===1},f=function(S,C){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var W=""+S.getAttribute("src");if(W.indexOf("data:image/")===0)return lc(unescape(W).split("base64,").pop());var G=r.loadFile(W,!0);if(G!==void 0)return G}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var le;switch(C){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;default:le="image/jpeg"}return lc(S.toDataURL(le,1).split("base64,").pop())}},y=function(S){var C=this.internal.collections[e+"images"];if(C){for(var W in C)if(S===C[W].alias)return C[W]}},j=function(S,C,W){return S||C||(S=-96,C=-96),S<0&&(S=-1*W.width*72/S/this.internal.scaleFactor),C<0&&(C=-1*W.height*72/C/this.internal.scaleFactor),S===0&&(S=C*W.width/W.height),C===0&&(C=S*W.height/W.width),[S,C]},_=function(S,C,W,G,le,fe){var ne=j.call(this,W,G,le),q=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,V=u.call(this);if(W=ne[0],G=ne[1],V[le.index]=le,fe){fe*=Math.PI/180;var pe=Math.cos(fe),P=Math.sin(fe),M=function(J){return J.toFixed(4)},Y=[M(pe),M(P),M(-1*P),M(pe),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,q(S),ee(C+G),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([q(W),"0","0",q(G),"0","0","cm"].join(" "))):this.internal.write([q(W),"0","0",q(G),q(S),ee(C+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},w=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var U=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=r.__addimage__.sHashCode=function(S){var C,W,G=0;if(typeof S=="string")for(W=S.length,C=0;C<W;C++)G=(G<<5)-G+S.charCodeAt(C),G|=0;else if(X(S))for(W=S.byteLength/2,C=0;C<W;C++)G=(G<<5)-G+S[C],G|=0;return G},F=r.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var C=!0;return S.length===0&&(C=!1),S.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(C=!1),C},te=r.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var C=S.indexOf(",");return C<0?null:S.substring(0,C).trim().endsWith("base64")?S.substring(C+1):null};r.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var X=r.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},K=r.__addimage__.binaryStringToUint8Array=function(S){for(var C=S.length,W=new Uint8Array(C),G=0;G<C;G++)W[G]=S.charCodeAt(G);return W},k=r.__addimage__.arrayBufferToBinaryString=function(S){for(var C="",W=X(S)?S:new Uint8Array(S),G=0;G<W.length;G+=8192)C+=String.fromCharCode.apply(null,W.subarray(G,G+8192));return C};r.addImage=function(){var S,C,W,G,le,fe,ne,q,ee;if(typeof arguments[1]=="number"?(C=t,W=arguments[1],G=arguments[2],le=arguments[3],fe=arguments[4],ne=arguments[5],q=arguments[6],ee=arguments[7]):(C=arguments[1],W=arguments[2],G=arguments[3],le=arguments[4],fe=arguments[5],ne=arguments[6],q=arguments[7],ee=arguments[8]),Zt(S=arguments[0])==="object"&&!b(S)&&"imageData"in S){var V=S;S=V.imageData,C=V.format||C||t,W=V.x||W||0,G=V.y||G||0,le=V.w||V.width||le,fe=V.h||V.height||fe,ne=V.alias||ne,q=V.compression||q,ee=V.rotation||V.angle||ee}var pe=this.internal.getFilters();if(q===void 0&&pe.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(W)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var P=N.call(this,S,C,ne,q);return _.call(this,W,G,le,fe,P,ee),this};var N=function(S,C,W,G){var le,fe,ne;if(typeof S=="string"&&i(S)===t){S=unescape(S);var q=T(S,!1);(q!==""||(q=r.loadFile(S,!0))!==void 0)&&(S=q)}if(b(S)&&(S=f(S,C)),C=i(S,C),!g(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((ne=W)==null||ne.length===0)&&(W=(function(ee){return typeof ee=="string"||X(ee)?D(ee):X(ee.data)?D(ee.data):null})(S)),(le=y.call(this,W))||(S instanceof Uint8Array||C==="RGBA"||(fe=S,S=K(S)),le=this["process"+C.toUpperCase()](S,p.call(this),W,(function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in r.image_compression?ee:U.NONE})(G),fe)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},T=r.__addimage__.convertBase64ToBinaryString=function(S,C){C=typeof C!="boolean"||C;var W,G="";if(typeof S=="string"){var le;W=(le=te(S))!==null&&le!==void 0?le:S;try{G=lc(W)}catch(fe){if(C)throw F(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};r.getImageProperties=function(S){var C,W,G="";if(b(S)&&(S=f(S)),typeof S=="string"&&i(S)===t&&((G=T(S,!1))===""&&(G=r.loadFile(S)||""),S=G),W=i(S),!g(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(S instanceof Uint8Array||(S=K(S)),!(C=this["process"+W.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=W,C}})(st.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};st.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,a,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,p=!1,g=0;g<u.length&&!p;g++)switch((n=u[g]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var b=0;b<u.length;b++){n=u[b];var f=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(j.objId),U=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(w(n.contents))+")",a+=" /Popup "+_.objId+" 0 R",a+=" /P "+d.objId+" 0 R",a+=" /T ("+f(w(U))+") >>",j.content=a;var D=j.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+D,n.open&&(a+=" /Open true"),a+=" >>",_.content=a,this.internal.write(j.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var F=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(y(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var te=this.annotations._nameMap[n.options.name];n.options.pageNumber=te.page,n.options.top=te.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var X=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+X+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,a,l){var o=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:d(t),y:u(n),w:d(t+i),h:u(n+a)},options:l,type:"link"})},r.textWithLink=function(t,n,i,a){var l,o,d=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var p=this.splitTextToSize(t,o).length;l=Math.ceil(u*p)}else o=d,l=u;return this.text(t,n,i,a),i+=.2*u,a.align==="center"&&(n-=d/2),a.align==="right"&&(n-=d),this.link(n,i-u,o,l,a),d},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(st.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var a=r.__arabicParser__.isInArabicSubstitutionA=function(j){return e[j.charCodeAt(0)]!==void 0},l=r.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},o=r.__arabicParser__.isArabicEndLetter=function(j){return l(j)&&a(j)&&e[j.charCodeAt(0)].length<=2},d=r.__arabicParser__.isArabicAlfLetter=function(j){return l(j)&&i.indexOf(j.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return l(j)&&a(j)&&e[j.charCodeAt(0)].length>=1};var u=r.__arabicParser__.arabicLetterHasFinalForm=function(j){return l(j)&&a(j)&&e[j.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(j){return l(j)&&a(j)&&e[j.charCodeAt(0)].length>=3};var p=r.__arabicParser__.arabicLetterHasMedialForm=function(j){return l(j)&&a(j)&&e[j.charCodeAt(0)].length==4},g=r.__arabicParser__.resolveLigatures=function(j){var _=0,w=t,U="",D=0;for(_=0;_<j.length;_+=1)w[j.charCodeAt(_)]!==void 0?(D++,typeof(w=w[j.charCodeAt(_)])=="number"&&(U+=String.fromCharCode(w),w=t,D=0),_===j.length-1&&(w=t,U+=j.charAt(_-(D-1)),_-=D-1,D=0)):(w=t,U+=j.charAt(_-D),_-=D,D=0);return U};r.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&n[j.charCodeAt(0)]!==void 0};var b=r.__arabicParser__.getCorrectForm=function(j,_,w){return l(j)?a(j)===!1?-1:!u(j)||!l(_)&&!l(w)||!l(w)&&o(_)||o(j)&&!l(_)||o(j)&&d(_)||o(j)&&o(_)?0:p(j)&&l(_)&&!o(_)&&l(w)&&u(w)?3:o(j)||!l(w)?1:2:-1},f=function(j){var _=0,w=0,U=0,D="",F="",te="",X=(j=j||"").split("\\s+"),K=[];for(_=0;_<X.length;_+=1){for(K.push(""),w=0;w<X[_].length;w+=1)D=X[_][w],F=X[_][w-1],te=X[_][w+1],l(D)?(U=b(D,F,te),K[_]+=U!==-1?String.fromCharCode(e[D.charCodeAt(0)][U]):D):K[_]+=D;K[_]=g(K[_])}return K.join(" ")},y=r.__arabicParser__.processArabic=r.processArabic=function(){var j,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(_)){var U=0;for(w=[],U=0;U<_.length;U+=1)Array.isArray(_[U])?w.push([f(_[U][0]),_[U][1],_[U][2]]):w.push([f(_[U])]);j=w}else j=f(_);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};r.events.push(["preProcessText",y])})(st.API),st.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(st.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(j){d=j}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(j){u=j}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(j){p=j}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(j){g=j}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(j){b=j}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(j){f=j}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(j){y=j}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},r.getTextDimensions=function(d,u){n.call(this);var p=(u=u||{}).fontSize||this.getFontSize(),g=u.font||this.getFont(),b=u.scaleFactor||this.internal.scaleFactor,f=0,y=0,j=0,_=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var w=u.maxWidth;w>0?typeof d=="string"?d=this.splitTextToSize(d,w):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(D,F){return D.concat(_.splitTextToSize(F,w))},[])):d=Array.isArray(d)?d:[d];for(var U=0;U<d.length;U++)f<(j=this.getStringUnitWidth(d[U],{font:g})*p)&&(f=j);return f!==0&&(y=d.length),{w:f/=b,h:Math.max((y*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/b,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=r.cell=function(){var d;d=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===d.lineNumber?(d.x=(u.x||0)+(u.width||0),d.y=u.y||0):u.y+u.height+d.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=g.top,f&&b&&(this.printHeaderRow(d.lineNumber,!0),d.y+=b[0].height)):d.y=u.y+u.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-p,d.y+p,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+p,{align:"center",baseline:"top",maxWidth:d.width-p-p}):this.text(d.text,d.x+p,d.y+p,{align:"left",baseline:"top",maxWidth:d.width-p-p})),this.internal.__cell__.lastCell=d,this};r.table=function(d,u,p,g,b){if(n.call(this),!p)throw new Error("No data for PDF table.");var f,y,j,_,w=[],U=[],D=[],F={},te={},X=[],K=[],k=(b=b||{}).autoSize||!1,N=b.printHeaders!==!1,T=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,S=b.margins||Object.assign({width:this.getPageWidth()},e),C=typeof b.padding=="number"?b.padding:3,W=b.headerBackgroundColor||"#c8c8c8",G=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=G,this.setFontSize(T),g==null)U=w=Object.keys(p[0]),D=w.map(function(){return"left"});else if(Array.isArray(g)&&Zt(g[0])==="object")for(w=g.map(function(V){return V.name}),U=g.map(function(V){return V.prompt||V.name||""}),D=g.map(function(V){return V.align||"left"}),f=0;f<g.length;f+=1)te[g[f].name]=.7499990551181103*g[f].width;else Array.isArray(g)&&typeof g[0]=="string"&&(U=w=g,D=w.map(function(){return"left"}));if(k||Array.isArray(g)&&typeof g[0]=="string")for(f=0;f<w.length;f+=1){for(F[_=w[f]]=p.map(function(V){return V[_]}),this.setFont(void 0,"bold"),X.push(this.getTextDimensions(U[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=F[_],this.setFont(void 0,"normal"),j=0;j<y.length;j+=1)X.push(this.getTextDimensions(y[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);te[_]=Math.max.apply(null,X)+C+C,X=[]}if(N){var le={};for(f=0;f<w.length;f+=1)le[w[f]]={},le[w[f]].text=U[f],le[w[f]].align=D[f];var fe=o.call(this,le,te);K=w.map(function(V){return new a(d,u,te[V],fe,le[V].text,void 0,le[V].align)}),this.setTableHeaderRow(K),this.printHeaderRow(1,!1)}var ne=g.reduce(function(V,pe){return V[pe.name]=pe.align,V},{});for(f=0;f<p.length;f+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:f,data:p[f]},this);var q=o.call(this,p[f],te);for(j=0;j<w.length;j+=1){var ee=p[f][w[j]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:f,col:j,data:ee},this),l.call(this,new a(d,u,te[w[j]],q,ee,f+2,ne[w[j]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=u,this};var o=function(d,u){var p=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(d).map(function(f){var y=d[f];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[f]-p-p)},this).map(function(f){return this.getLineHeightFactor()*f.length*g/b+p+p},this).reduce(function(f,y){return Math.max(f,y)},0)};r.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},r.printHeaderRow=function(d,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){p=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(p.y=this.internal.__cell__.margins.top||0,b.push(p)),p.lineNumber=d;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(y)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}})(st.API);var e0={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},t0=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],mu=Qm(t0),r0=[100,200,300,400,500,600,700,800,900],ab=Qm(r0);function Bd(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return e0[a=a||"normal"]?a:"normal"})(r.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(r.weight),i=(function(a){return typeof mu[a=a||"normal"]=="number"?a:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function Kf(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var ob={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Xf={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Jf(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Zf(r){return r.trimLeft()}function lb(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function cb(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Zl,Qf,ep,Aa,Ql,tp,rp,np,qd=["times"];function sp(r,e,t,n,i){var a=4,l=ap;switch(i){case st.API.image_compression.FAST:a=1,l=ip;break;case st.API.image_compression.MEDIUM:a=6,l=op;break;case st.API.image_compression.SLOW:a=9,l=lp}r=(function(d,u,p,g){for(var b,f=d.length/u,y=new Uint8Array(d.length+f),j=[db,ip,ap,op,lp],_=0;_<f;_+=1){var w=_*u,U=d.subarray(w,w+u);if(g)y.set(g(U,p,b),w+_);else{for(var D=j.length,F=[],te=0;te<D;te+=1)F[te]=j[te](U,p,b);var X=hb(F.concat());y.set(F[X],w+_)}b=U}return y})(r,e,Math.ceil(t*n/8),l);var o=lu(r,{level:a});return st.API.__addimage__.arrayBufferToBinaryString(o)}function db(r){var e=Array.apply([],r);return e.unshift(0),e}function ip(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var a=r[i-e]||0;n[i+1]=r[i]-a+256&255}return n}function ap(r,e,t){var n=r.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var l=t&&t[a]||0;i[a+1]=r[a]-l+256&255}return i}function op(r,e,t){var n=r.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var l=r[a-e]||0,o=t&&t[a]||0;i[a+1]=r[a]+256-(l+o>>>1)&255}return i}function lp(r,e,t){var n=r.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var l=ub(r[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);i[a+1]=r[a]-l+256&255}return i}function ub(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),a=Math.abs(r+e-t-t);return n<=i&&n<=a?r:i<=a?e:t}function hb(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Ud(r,e,t){var n=e*t,i=Math.floor(n/8),a=16-(n-8*i+t),l=(1<<t)-1;return n0(r,i)>>a&l}function cp(r,e,t,n){var i=t*n,a=Math.floor(i/8),l=16-(i-8*a+n),o=(1<<n)-1,d=(e&o)<<l;(function(u,p,g){if(p+1<u.byteLength)u.setUint16(p,g,!1);else{var b=g>>8&255;u.setUint8(p,b)}})(r,a,n0(r,a)&~(o<<l)&65535|d)}function n0(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function fb(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],a=i>>7,l=1<<1+(7&i);r[e++],r[e++];var o=null,d=null;a&&(o=e,d=l,e+=3*l);var u=!0,p=[],g=0,b=null,f=0,y=null;for(this.width=t,this.height=n;u&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,y=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((S=r[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var j=r[e++];g=r[e++]|r[e++]<<8,b=r[e++],1&j||(b=null),f=j>>2&7,e++;break;case 254:for(;;){if(!((S=r[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var _=r[e++]|r[e++]<<8,w=r[e++]|r[e++]<<8,U=r[e++]|r[e++]<<8,D=r[e++]|r[e++]<<8,F=r[e++],te=F>>6&1,X=1<<1+(7&F),K=o,k=d,N=!1;F>>7&&(N=!0,K=e,k=X,e+=3*X);var T=e;for(e++;;){var S;if(!((S=r[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}p.push({x:_,y:w,width:U,height:D,has_local_palette:N,palette_offset:K,palette_size:k,data_offset:T,data_length:e-T,transparent_index:b,interlaced:!!te,delay:g,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return y},this.frameInfo=function(C){if(C<0||C>=p.length)throw new Error("Frame index out of range.");return p[C]},this.decodeAndBlitFrameBGRA=function(C,W){var G=this.frameInfo(C),le=G.width*G.height,fe=new Uint8Array(le);dp(r,G.data_offset,fe,le);var ne=G.palette_offset,q=G.transparent_index;q===null&&(q=256);var ee=G.width,V=t-ee,pe=ee,P=4*(G.y*t+G.x),M=4*((G.y+G.height)*t+G.x),Y=P,J=4*V;G.interlaced===!0&&(J+=4*t*7);for(var Z=8,se=0,ae=fe.length;se<ae;++se){var ce=fe[se];if(pe===0&&(pe=ee,(Y+=J)>=M&&(J=4*V+4*t*(Z-1),Y=P+(ee+V)*(Z<<1),Z>>=1)),ce===q)Y+=4;else{var be=r[ne+3*ce],xe=r[ne+3*ce+1],ke=r[ne+3*ce+2];W[Y++]=ke,W[Y++]=xe,W[Y++]=be,W[Y++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(C,W){var G=this.frameInfo(C),le=G.width*G.height,fe=new Uint8Array(le);dp(r,G.data_offset,fe,le);var ne=G.palette_offset,q=G.transparent_index;q===null&&(q=256);var ee=G.width,V=t-ee,pe=ee,P=4*(G.y*t+G.x),M=4*((G.y+G.height)*t+G.x),Y=P,J=4*V;G.interlaced===!0&&(J+=4*t*7);for(var Z=8,se=0,ae=fe.length;se<ae;++se){var ce=fe[se];if(pe===0&&(pe=ee,(Y+=J)>=M&&(J=4*V+4*t*(Z-1),Y=P+(ee+V)*(Z<<1),Z>>=1)),ce===q)Y+=4;else{var be=r[ne+3*ce],xe=r[ne+3*ce+1],ke=r[ne+3*ce+2];W[Y++]=be,W[Y++]=xe,W[Y++]=ke,W[Y++]=255}--pe}}}function dp(r,e,t,n){for(var i=r[e++],a=1<<i,l=a+1,o=l+1,d=i+1,u=(1<<d)-1,p=0,g=0,b=0,f=r[e++],y=new Int32Array(4096),j=null;;){for(;p<16&&f!==0;)g|=r[e++]<<p,p+=8,f===1?f=r[e++]:--f;if(p<d)break;var _=g&u;if(g>>=d,p-=d,_!==a){if(_===l)break;for(var w=_<o?_:j,U=0,D=w;D>a;)D=y[D]>>8,++U;var F=D;if(b+U+(w!==_?1:0)>n)return void tr.log("Warning, gif stream longer than expected.");t[b++]=F;var te=b+=U;for(w!==_&&(t[b++]=F),D=w;U--;)D=y[D],t[--te]=255&D,D>>=8;j!==null&&o<4096&&(y[o++]=j<<8|F,o>=u+1&&d<12&&(++d,u=u<<1|1)),j=_}else o=l+1,u=(1<<(d=i+1))-1,j=null}return b!==n&&tr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function zd(r){var e,t,n,i,a,l=Math.floor,o=new Array(64),d=new Array(64),u=new Array(64),p=new Array(64),g=new Array(65535),b=new Array(65535),f=new Array(64),y=new Array(64),j=[],_=0,w=7,U=new Array(64),D=new Array(64),F=new Array(64),te=new Array(256),X=new Array(2048),K=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(P,M){for(var Y=0,J=0,Z=new Array,se=1;se<=16;se++){for(var ae=1;ae<=P[se];ae++)Z[M[J]]=[],Z[M[J]][0]=Y,Z[M[J]][1]=se,J++,Y++;Y*=2}return Z}function ne(P){for(var M=P[0],Y=P[1]-1;Y>=0;)M&1<<Y&&(_|=1<<w),Y--,--w<0&&(_==255?(q(255),q(0)):q(_),w=7,_=0)}function q(P){j.push(P)}function ee(P){q(P>>8&255),q(255&P)}function V(P,M,Y,J,Z){for(var se,ae=Z[0],ce=Z[240],be=(function(ve,ze){var Ie,Me,He,ot,We,qe,Be,rt,De,lt,Ue=0;for(De=0;De<8;++De){Ie=ve[Ue],Me=ve[Ue+1],He=ve[Ue+2],ot=ve[Ue+3],We=ve[Ue+4],qe=ve[Ue+5],Be=ve[Ue+6];var ct=Ie+(rt=ve[Ue+7]),yt=Ie-rt,ht=Me+Be,gt=Me-Be,$t=He+qe,Je=He-qe,qt=ot+We,Te=ot-We,ft=ct+qt,Ot=ct-qt,pt=ht+$t,Ze=ht-$t;ve[Ue]=ft+pt,ve[Ue+4]=ft-pt;var Pt=.707106781*(Ze+Ot);ve[Ue+2]=Ot+Pt,ve[Ue+6]=Ot-Pt;var Nn=.382683433*((ft=Te+Je)-(Ze=gt+yt)),rr=.5411961*ft+Nn,dn=1.306562965*Ze+Nn,dt=.707106781*(pt=Je+gt),Ee=yt+dt,_t=yt-dt;ve[Ue+5]=_t+rr,ve[Ue+3]=_t-rr,ve[Ue+1]=Ee+dn,ve[Ue+7]=Ee-dn,Ue+=8}for(Ue=0,De=0;De<8;++De){Ie=ve[Ue],Me=ve[Ue+8],He=ve[Ue+16],ot=ve[Ue+24],We=ve[Ue+32],qe=ve[Ue+40],Be=ve[Ue+48];var Oe=Ie+(rt=ve[Ue+56]),at=Ie-rt,Ve=Me+Be,$e=Me-Be,It=He+qe,ut=He-qe,Yt=ot+We,ar=ot-We,Ut=Oe+Yt,Mt=Oe-Yt,Lt=Ve+It,pr=Ve-It;ve[Ue]=Ut+Lt,ve[Ue+32]=Ut-Lt;var Rt=.707106781*(pr+Mt);ve[Ue+16]=Mt+Rt,ve[Ue+48]=Mt-Rt;var wr=.382683433*((Ut=ar+ut)-(pr=$e+at)),Nr=.5411961*Ut+wr,or=1.306562965*pr+wr,ur=.707106781*(Lt=ut+$e),mr=at+ur,jn=at-ur;ve[Ue+40]=jn+Nr,ve[Ue+24]=jn-Nr,ve[Ue+8]=mr+or,ve[Ue+56]=mr-or,Ue++}for(De=0;De<64;++De)lt=ve[De]*ze[De],f[De]=lt>0?lt+.5|0:lt-.5|0;return f})(P,M),xe=0;xe<64;++xe)y[K[xe]]=be[xe];var ke=y[0]-Y;Y=y[0],ke==0?ne(J[0]):(ne(J[b[se=32767+ke]]),ne(g[se]));for(var we=63;we>0&&y[we]==0;)we--;if(we==0)return ne(ae),Y;for(var Pe,R=1;R<=we;){for(var Ne=R;y[R]==0&&R<=we;)++R;var oe=R-Ne;if(oe>=16){Pe=oe>>4;for(var Ae=1;Ae<=Pe;++Ae)ne(ce);oe&=15}se=32767+y[R],ne(Z[(oe<<4)+b[se]]),ne(g[se]),R++}return we!=63&&ne(ae),Y}function pe(P){P=Math.min(Math.max(P,1),100),a!=P&&((function(M){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var Z=l((Y[J]*M+50)/100);Z=Math.min(Math.max(Z,1),255),o[K[J]]=Z}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ae=0;ae<64;ae++){var ce=l((se[ae]*M+50)/100);ce=Math.min(Math.max(ce,1),255),d[K[ae]]=ce}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,ke=0;ke<8;ke++)for(var we=0;we<8;we++)u[xe]=1/(o[K[xe]]*be[ke]*be[we]*8),p[xe]=1/(d[K[xe]]*be[ke]*be[we]*8),xe++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),a=P)}this.encode=function(P,M){M&&pe(M),j=new Array,_=0,w=7,ee(65496),ee(65504),ee(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),ee(1),ee(1),q(0),q(0),(function(){ee(65499),ee(132),q(0);for(var Me=0;Me<64;Me++)q(o[Me]);q(1);for(var He=0;He<64;He++)q(d[He])})(),(function(Me,He){ee(65472),ee(17),q(8),ee(He),ee(Me),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)})(P.width,P.height),(function(){ee(65476),ee(418),q(0);for(var Me=0;Me<16;Me++)q(k[Me+1]);for(var He=0;He<=11;He++)q(N[He]);q(16);for(var ot=0;ot<16;ot++)q(T[ot+1]);for(var We=0;We<=161;We++)q(S[We]);q(1);for(var qe=0;qe<16;qe++)q(C[qe+1]);for(var Be=0;Be<=11;Be++)q(W[Be]);q(17);for(var rt=0;rt<16;rt++)q(G[rt+1]);for(var De=0;De<=161;De++)q(le[De])})(),ee(65498),ee(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var Y=0,J=0,Z=0;_=0,w=7,this.encode.displayName="_encode_";for(var se,ae,ce,be,xe,ke,we,Pe,R,Ne=P.data,oe=P.width,Ae=P.height,ve=4*oe,ze=0;ze<Ae;){for(se=0;se<ve;){for(xe=ve*ze+se,we=-1,Pe=0,R=0;R<64;R++)ke=xe+(Pe=R>>3)*ve+(we=4*(7&R)),ze+Pe>=Ae&&(ke-=ve*(ze+1+Pe-Ae)),se+we>=ve&&(ke-=se+we-ve+4),ae=Ne[ke++],ce=Ne[ke++],be=Ne[ke++],U[R]=(X[ae]+X[ce+256|0]+X[be+512|0]>>16)-128,D[R]=(X[ae+768|0]+X[ce+1024|0]+X[be+1280|0]>>16)-128,F[R]=(X[ae+1280|0]+X[ce+1536|0]+X[be+1792|0]>>16)-128;Y=V(U,u,Y,e,n),J=V(D,p,J,t,i),Z=V(F,p,Z,t,i),se+=32}ze+=8}if(w>=0){var Ie=[];Ie[1]=w+1,Ie[0]=(1<<w+1)-1,ne(Ie)}return ee(65497),new Uint8Array(j)},r=r||50,(function(){for(var P=String.fromCharCode,M=0;M<256;M++)te[M]=P(M)})(),e=fe(k,N),t=fe(C,W),n=fe(T,S),i=fe(G,le),(function(){for(var P=1,M=2,Y=1;Y<=15;Y++){for(var J=P;J<M;J++)b[32767+J]=Y,g[32767+J]=[],g[32767+J][1]=Y,g[32767+J][0]=J;for(var Z=-(M-1);Z<=-P;Z++)b[32767+Z]=Y,g[32767+Z]=[],g[32767+Z][1]=Y,g[32767+Z][0]=M-1+Z;P<<=1,M<<=1}})(),(function(){for(var P=0;P<256;P++)X[P]=19595*P,X[P+256|0]=38470*P,X[P+512|0]=7471*P+32768,X[P+768|0]=-11059*P,X[P+1024|0]=-21709*P,X[P+1280|0]=32768*P+8421375,X[P+1536|0]=-27439*P,X[P+1792|0]=-5329*P})(),pe(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ss(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function up(r){function e(N){if(!N)throw Error("assert :P")}function t(N,T,S){for(var C=0;4>C;C++)if(N[T+C]!=S.charCodeAt(C))return!0;return!1}function n(N,T,S,C,W){for(var G=0;G<W;G++)N[T+G]=S[C+G]}function i(N,T,S,C){for(var W=0;W<C;W++)N[T+W]=S}function a(N){return new Int32Array(N)}function l(N,T){for(var S=[],C=0;C<N;C++)S.push(new T);return S}function o(N,T){var S=[];return(function C(W,G,le){for(var fe=le[G],ne=0;ne<fe&&(W.push(le.length>G+1?[]:new T),!(le.length<G+1));ne++)C(W[ne],G+1,le)})(S,0,N),S}var d=function(){var N=this;function T(c,h){for(var x=1<<h-1>>>0;c&x;)x>>>=1;return x?(c&x-1)+x:c}function S(c,h,x,v,L){e(!(v%x));do c[h+(v-=x)]=L;while(0<v)}function C(c,h,x,v,L){if(e(2328>=L),512>=L)var E=a(512);else if((E=a(L))==null)return 0;return(function(I,O,B,z,re,ge){var H,ie,he=O,ye=1<<B,me=a(16),je=a(16);for(e(re!=0),e(z!=null),e(I!=null),e(0<B),ie=0;ie<re;++ie){if(15<z[ie])return 0;++me[z[ie]]}if(me[0]==re)return 0;for(je[1]=0,H=1;15>H;++H){if(me[H]>1<<H)return 0;je[H+1]=je[H]+me[H]}for(ie=0;ie<re;++ie)H=z[ie],0<z[ie]&&(ge[je[H]++]=ie);if(je[15]==1)return(z=new W).g=0,z.value=ge[0],S(I,he,1,ye,z),ye;var Se,Fe=-1,Ce=ye-1,nt=0,Ge=1,St=1,Qe=1<<B;for(ie=0,H=1,re=2;H<=B;++H,re<<=1){if(Ge+=St<<=1,0>(St-=me[H]))return 0;for(;0<me[H];--me[H])(z=new W).g=H,z.value=ge[ie++],S(I,he+nt,re,Qe,z),nt=T(nt,H)}for(H=B+1,re=2;15>=H;++H,re<<=1){if(Ge+=St<<=1,0>(St-=me[H]))return 0;for(;0<me[H];--me[H]){if(z=new W,(nt&Ce)!=Fe){for(he+=Qe,Se=1<<(Fe=H)-B;15>Fe&&!(0>=(Se-=me[Fe]));)++Fe,Se<<=1;ye+=Qe=1<<(Se=Fe-B),I[O+(Fe=nt&Ce)].g=Se+B,I[O+Fe].value=he-O-Fe}z.g=H-B,z.value=ge[ie++],S(I,he+(nt>>B),re,Qe,z),nt=T(nt,H)}}return Ge!=2*je[15]-1?0:ye})(c,h,x,v,L,E)}function W(){this.value=this.g=0}function G(){this.value=this.g=0}function le(){this.G=l(5,W),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Wi,G)}function fe(c,h,x,v){e(c!=null),e(h!=null),e(2147483648>v),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=h,c.pa=x,c.Jd=h,c.Yc=x+v,c.Zc=4<=v?x+v-4+1:x,ae(c)}function ne(c,h){for(var x=0;0<h--;)x|=be(c,128)<<h;return x}function q(c,h){var x=ne(c,h);return ce(c)?-x:x}function ee(c,h,x,v){var L,E=0;for(e(c!=null),e(h!=null),e(4294967288>v),c.Sb=v,c.Ra=0,c.u=0,c.h=0,4<v&&(v=4),L=0;L<v;++L)E+=h[x+L]<<8*L;c.Ra=E,c.bb=v,c.oa=h,c.pa=x}function V(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<ci-8>>>0,++c.bb,c.u-=8;J(c)&&(c.h=1,c.u=0)}function pe(c,h){if(e(0<=h),!c.h&&h<=En){var x=Y(c)&Pn[h];return c.u+=h,V(c),x}return c.h=1,c.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(c){return c.Ra>>>(c.u&ci-1)>>>0}function J(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>ci}function Z(c,h){c.u=h,c.h=J(c)}function se(c){c.u>=Us&&(e(c.u>=Us),V(c))}function ae(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ce(c){return ne(c,1)}function be(c,h){var x=c.Ca;0>c.b&&ae(c);var v=c.b,L=x*h>>>8,E=(c.I>>>v>L)+0;for(E?(x-=L,c.I-=L+1<<v>>>0):x=L+1,v=x,L=0;256<=v;)L+=8,v>>=8;return v=7^L+di[v],c.b-=v,c.Ca=(x<<v)-1,E}function xe(c,h,x){c[h+0]=x>>24&255,c[h+1]=x>>16&255,c[h+2]=x>>8&255,c[h+3]=255&x}function ke(c,h){return c[h+0]|c[h+1]<<8}function we(c,h){return ke(c,h)|c[h+2]<<16}function Pe(c,h){return ke(c,h)|ke(c,h+2)<<16}function R(c,h){var x=1<<h;return e(c!=null),e(0<h),c.X=a(x),c.X==null?0:(c.Mb=32-h,c.Xa=h,1)}function Ne(c,h){e(c!=null),e(h!=null),e(c.Xa==h.Xa),n(h.X,0,c.X,0,1<<h.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function Ae(c,h,x,v){e(x!=null),e(v!=null);var L=x[0],E=v[0];return L==0&&(L=(c*E+h/2)/h),E==0&&(E=(h*L+c/2)/c),0>=L||0>=E?0:(x[0]=L,v[0]=E,1)}function ve(c,h){return c+(1<<h)-1>>>h}function ze(c,h){return((4278255360&c)+(4278255360&h)>>>0&4278255360)+((16711935&c)+(16711935&h)>>>0&16711935)>>>0}function Ie(c,h){N[h]=function(x,v,L,E,I,O,B){var z;for(z=0;z<I;++z){var re=N[c](O[B+z-1],L,E+z);O[B+z]=ze(x[v+z],re)}}}function Me(){this.ud=this.hd=this.jd=0}function He(c,h){return((4278124286&(c^h))>>>1)+(c&h)>>>0}function ot(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function We(c,h){return ot(c+(c-h+.5>>1))}function qe(c,h,x){return Math.abs(h-x)-Math.abs(c-x)}function Be(c,h,x,v,L,E,I){for(v=E[I-1],x=0;x<L;++x)E[I+x]=v=ze(c[h+x],v)}function rt(c,h,x,v,L){var E;for(E=0;E<x;++E){var I=c[h+E],O=I>>8&255,B=16711935&(B=(B=16711935&I)+((O<<16)+O));v[L+E]=(4278255360&I)+B>>>0}}function De(c,h){h.jd=255&c,h.hd=c>>8&255,h.ud=c>>16&255}function lt(c,h,x,v,L,E){var I;for(I=0;I<v;++I){var O=h[x+I],B=O>>>8,z=O,re=255&(re=(re=O>>>16)+((c.jd<<24>>24)*(B<<24>>24)>>>5));z=255&(z=(z+=(c.hd<<24>>24)*(B<<24>>24)>>>5)+((c.ud<<24>>24)*(re<<24>>24)>>>5)),L[E+I]=(4278255360&O)+(re<<16)+z}}function Ue(c,h,x,v,L){N[h]=function(E,I,O,B,z,re,ge,H,ie){for(B=ge;B<H;++B)for(ge=0;ge<ie;++ge)z[re++]=L(O[v(E[I++])])},N[c]=function(E,I,O,B,z,re,ge){var H=8>>E.b,ie=E.Ea,he=E.K[0],ye=E.w;if(8>H)for(E=(1<<E.b)-1,ye=(1<<H)-1;I<O;++I){var me,je=0;for(me=0;me<ie;++me)me&E||(je=v(B[z++])),re[ge++]=L(he[je&ye]),je>>=H}else N["VP8LMapColor"+x](B,z,he,ye,re,ge,I,O,ie)}}function ct(c,h,x,v,L){for(x=h+x;h<x;){var E=c[h++];v[L++]=E>>16&255,v[L++]=E>>8&255,v[L++]=255&E}}function yt(c,h,x,v,L){for(x=h+x;h<x;){var E=c[h++];v[L++]=E>>16&255,v[L++]=E>>8&255,v[L++]=255&E,v[L++]=E>>24&255}}function ht(c,h,x,v,L){for(x=h+x;h<x;){var E=(I=c[h++])>>16&240|I>>12&15,I=240&I|I>>28&15;v[L++]=E,v[L++]=I}}function gt(c,h,x,v,L){for(x=h+x;h<x;){var E=(I=c[h++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;v[L++]=E,v[L++]=I}}function $t(c,h,x,v,L){for(x=h+x;h<x;){var E=c[h++];v[L++]=255&E,v[L++]=E>>8&255,v[L++]=E>>16&255}}function Je(c,h,x,v,L,E){if(E==0)for(x=h+x;h<x;)xe(v,((E=c[h++])[0]>>24|E[1]>>8&65280|E[2]<<8&16711680|E[3]<<24)>>>0),L+=32;else n(v,L,c,h,x)}function qt(c,h){N[h][0]=N[c+"0"],N[h][1]=N[c+"1"],N[h][2]=N[c+"2"],N[h][3]=N[c+"3"],N[h][4]=N[c+"4"],N[h][5]=N[c+"5"],N[h][6]=N[c+"6"],N[h][7]=N[c+"7"],N[h][8]=N[c+"8"],N[h][9]=N[c+"9"],N[h][10]=N[c+"10"],N[h][11]=N[c+"11"],N[h][12]=N[c+"12"],N[h][13]=N[c+"13"],N[h][14]=N[c+"0"],N[h][15]=N[c+"0"]}function Te(c){return c==Qc||c==ed||c==vl||c==td}function ft(){this.eb=[],this.size=this.A=this.fb=0}function Ot(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ft,this.f.kb=new Ot,this.sd=null}function Ze(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Nn(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function rr(c,h){var x=c.T,v=h.ba.f.RGBA,L=v.eb,E=v.fb+c.ka*v.A,I=Yn[h.ba.S],O=c.y,B=c.O,z=c.f,re=c.N,ge=c.ea,H=c.W,ie=h.cc,he=h.dc,ye=h.Mc,me=h.Nc,je=c.ka,Se=c.ka+c.T,Fe=c.U,Ce=Fe+1>>1;for(je==0?I(O,B,null,null,z,re,ge,H,z,re,ge,H,L,E,null,null,Fe):(I(h.ec,h.fc,O,B,ie,he,ye,me,z,re,ge,H,L,E-v.A,L,E,Fe),++x);je+2<Se;je+=2)ie=z,he=re,ye=ge,me=H,re+=c.Rc,H+=c.Rc,E+=2*v.A,I(O,(B+=2*c.fa)-c.fa,O,B,ie,he,ye,me,z,re,ge,H,L,E-v.A,L,E,Fe);return B+=c.fa,c.j+Se<c.o?(n(h.ec,h.fc,O,B,Fe),n(h.cc,h.dc,z,re,Ce),n(h.Mc,h.Nc,ge,H,Ce),x--):1&Se||I(O,B,null,null,z,re,ge,H,z,re,ge,H,L,E+v.A,null,null,Fe),x}function dn(c,h,x){var v=c.F,L=[c.J];if(v!=null){var E=c.U,I=h.ba.S,O=I==bl||I==vl;h=h.ba.f.RGBA;var B=[0],z=c.ka;B[0]=c.T,c.Kb&&(z==0?--B[0]:(--z,L[0]-=c.width),c.j+c.ka+c.T==c.o&&(B[0]=c.o-c.j-z));var re=h.eb;z=h.fb+z*h.A,c=Vu(v,L[0],c.width,E,B,re,z+(O?0:3),h.A),e(x==B),c&&Te(I)&&mo(re,z,O,E,B,h.A)}return 0}function dt(c){var h=c.ma,x=h.ba.S,v=11>x,L=x==gl||x==xl||x==bl||x==Zc||x==12||Te(x);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!ao(h.Oa,c,L?11:12))return 0;if(L&&Te(x)&&no(),c.da)alert("todo:use_scaling");else{if(v){if(h.Ib=Nn,c.Kb){if(x=c.U+1>>1,h.memory=a(c.U+2*x),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+c.U,h.Mc=h.cc,h.Nc=h.dc+x,h.Ib=rr,no()}}else alert("todo:EmitYUV");L&&(h.Jb=dn,v&&es())}if(v&&!lh){for(c=0;256>c;++c)B0[c]=89858*(c-128)+wl>>yl,z0[c]=-22014*(c-128)+wl,U0[c]=-45773*(c-128),q0[c]=113618*(c-128)+wl>>yl;for(c=xo;c<sd;++c)h=76283*(c-16)+wl>>yl,H0[c-xo]=hs(h,255),W0[c-xo]=hs(h+8>>4,15);lh=1}return 1}function Ee(c){var h=c.ma,x=c.U,v=c.T;return e(!(1&c.ka)),0>=x||0>=v?0:(x=h.Ib(c,h),h.Jb!=null&&h.Jb(c,h,x),h.Dc+=x,1)}function _t(c){c.ma.memory=null}function Oe(c,h,x,v){return pe(c,8)!=47?0:(h[0]=pe(c,14)+1,x[0]=pe(c,14)+1,v[0]=pe(c,1),pe(c,3)!=0?0:!c.h)}function at(c,h){if(4>c)return c+1;var x=c-2>>1;return(2+(1&c)<<x)+pe(h,x)+1}function Ve(c,h){return 120<h?h-120:1<=(x=((x=S0[h-1])>>4)*c+(8-(15&x)))?x:1;var x}function $e(c,h,x){var v=Y(x),L=c[h+=255&v].g-8;return 0<L&&(Z(x,x.u+8),v=Y(x),h+=c[h].value,h+=v&(1<<L)-1),Z(x,x.u+c[h].g),c[h].value}function It(c,h,x){return x.g+=c.g,x.value+=c.value<<h>>>0,e(8>=x.g),c.g}function ut(c,h,x){var v=c.xc;return e((h=v==0?0:c.vc[c.md*(x>>v)+(h>>v)])<c.Wb),c.Ya[h]}function Yt(c,h,x,v){var L=c.ab,E=c.c*h,I=c.C;h=I+h;var O=x,B=v;for(v=c.Ta,x=c.Ua;0<L--;){var z=c.gc[L],re=I,ge=h,H=O,ie=B,he=(B=v,O=x,z.Ea);switch(e(re<ge),e(ge<=z.nc),z.hc){case 2:jr(H,ie,(ge-re)*he,B,O);break;case 0:var ye=re,me=ge,je=B,Se=O,Fe=(Qe=z).Ea;ye==0&&(lo(H,ie,null,null,1,je,Se),Be(H,ie+1,0,0,Fe-1,je,Se+1),ie+=Fe,Se+=Fe,++ye);for(var Ce=1<<Qe.b,nt=Ce-1,Ge=ve(Fe,Qe.b),St=Qe.K,Qe=Qe.w+(ye>>Qe.b)*Ge;ye<me;){var Bt=St,Br=Qe,kt=1;for(va(H,ie,je,Se-Fe,1,je,Se);kt<Fe;){var et=(kt&~nt)+Ce;et>Fe&&(et=Fe),(0,uo[Bt[Br++]>>8&15])(H,ie+ +kt,je,Se+kt-Fe,et-kt,je,Se+kt),kt=et}ie+=Fe,Se+=Fe,++ye&nt||(Qe+=Ge)}ge!=z.nc&&n(B,O-he,B,O+(ge-re-1)*he,he);break;case 1:for(he=H,me=ie,Fe=(H=z.Ea)-(Se=H&~(je=(ie=1<<z.b)-1)),ye=ve(H,z.b),Ce=z.K,z=z.w+(re>>z.b)*ye;re<ge;){for(nt=Ce,Ge=z,St=new Me,Qe=me+Se,Bt=me+H;me<Qe;)De(nt[Ge++],St),ho(St,he,me,ie,B,O),me+=ie,O+=ie;me<Bt&&(De(nt[Ge++],St),ho(St,he,me,Fe,B,O),me+=Fe,O+=Fe),++re&je||(z+=ye)}break;case 3:if(H==B&&ie==O&&0<z.b){for(me=B,H=he=O+(ge-re)*he-(Se=(ge-re)*ve(z.Ea,z.b)),ie=B,je=O,ye=[],Se=(Fe=Se)-1;0<=Se;--Se)ye[Se]=ie[je+Se];for(Se=Fe-1;0<=Se;--Se)me[H+Se]=ye[Se];hl(z,re,ge,B,he,B,O)}else hl(z,re,ge,H,ie,B,O)}O=v,B=x}B!=x&&n(v,x,O,B,E)}function ar(c,h){var x=c.V,v=c.Ba+c.c*c.C,L=h-c.C;if(e(h<=c.l.o),e(16>=L),0<L){var E=c.l,I=c.Ta,O=c.Ua,B=E.width;if(Yt(c,L,x,v),L=O=[O],e((x=c.C)<(v=h)),e(E.v<E.va),v>E.o&&(v=E.o),x<E.j){var z=E.j-x;x=E.j,L[0]+=z*B}if(x>=v?x=0:(L[0]+=4*E.v,E.ka=x-E.j,E.U=E.va-E.v,E.T=v-x,x=1),x){if(O=O[0],11>(x=c.ca).S){var re=x.f.RGBA,ge=(v=x.S,L=E.U,E=E.T,z=re.eb,re.A),H=E;for(re=re.fb+c.Ma*re.A;0<H--;){var ie=I,he=O,ye=L,me=z,je=re;switch(v){case ml:fo(ie,he,ye,me,je);break;case gl:ui(ie,he,ye,me,je);break;case Qc:ui(ie,he,ye,me,je),mo(me,je,0,ye,1,0);break;case Qu:$i(ie,he,ye,me,je);break;case xl:Je(ie,he,ye,me,je,1);break;case ed:Je(ie,he,ye,me,je,1),mo(me,je,0,ye,1,0);break;case bl:Je(ie,he,ye,me,je,0);break;case vl:Je(ie,he,ye,me,je,0),mo(me,je,1,ye,1,0);break;case Zc:hi(ie,he,ye,me,je);break;case td:hi(ie,he,ye,me,je),$u(me,je,ye,1,0);break;case eh:fi(ie,he,ye,me,je);break;default:e(0)}O+=B,re+=ge}c.Ma+=E}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=x.height)}}c.C=h,e(c.C<=c.i)}function Ut(c){var h;if(0<c.ua)return 0;for(h=0;h<c.Wb;++h){var x=c.Ya[h].G,v=c.Ya[h].H;if(0<x[1][v[1]+0].g||0<x[2][v[2]+0].g||0<x[3][v[3]+0].g)return 0}return 1}function Mt(c,h,x,v,L,E){if(c.Z!=0){var I=c.qd,O=c.rd;for(e(gi[c.Z]!=null);h<x;++h)gi[c.Z](I,O,v,L,v,L,E),I=v,O=L,L+=E;c.qd=I,c.rd=O}}function Lt(c,h){var x=c.l.ma,v=x.Z==0||x.Z==1?c.l.j:c.C;if(v=c.C<v?v:c.C,e(h<=c.l.o),h>v){var L=c.l.width,E=x.ca,I=x.tb+L*v,O=c.V,B=c.Ba+c.c*v,z=c.gc;e(c.ab==1),e(z[0].hc==3),gs(z[0],v,h,O,B,E,I),Mt(x,v,h,E,I,L)}c.C=c.Ma=h}function pr(c,h,x,v,L,E,I){var O=c.$/v,B=c.$%v,z=c.m,re=c.s,ge=x+c.$,H=ge;L=x+v*L;var ie=x+v*E,he=280+re.ua,ye=c.Pb?O:16777216,me=0<re.ua?re.Wa:null,je=re.wc,Se=ge<ie?ut(re,B,O):null;e(c.C<E),e(ie<=L);var Fe=!1;e:for(;;){for(;Fe||ge<ie;){var Ce=0;if(O>=ye){var nt=ge-x;e((ye=c).Pb),ye.wd=ye.m,ye.xd=nt,0<ye.s.ua&&Ne(ye.s.Wa,ye.s.vb),ye=O+A0}if(B&je||(Se=ut(re,B,O)),e(Se!=null),Se.Qb&&(h[ge]=Se.qb,Fe=!0),!Fe)if(se(z),Se.jc){Ce=z,nt=h;var Ge=ge,St=Se.pd[Y(Ce)&Wi-1];e(Se.jc),256>St.g?(Z(Ce,Ce.u+St.g),nt[Ge]=St.value,Ce=0):(Z(Ce,Ce.u+St.g-256),e(256<=St.value),Ce=St.value),Ce==0&&(Fe=!0)}else Ce=$e(Se.G[0],Se.H[0],z);if(z.h)break;if(Fe||256>Ce){if(!Fe)if(Se.nd)h[ge]=(Se.qb|Ce<<8)>>>0;else{if(se(z),Fe=$e(Se.G[1],Se.H[1],z),se(z),nt=$e(Se.G[2],Se.H[2],z),Ge=$e(Se.G[3],Se.H[3],z),z.h)break;h[ge]=(Ge<<24|Fe<<16|Ce<<8|nt)>>>0}if(Fe=!1,++ge,++B>=v&&(B=0,++O,I!=null&&O<=E&&!(O%16)&&I(c,O),me!=null))for(;H<ge;)Ce=h[H++],me.X[(506832829*Ce&4294967295)>>>me.Mb]=Ce}else if(280>Ce){if(Ce=at(Ce-256,z),nt=$e(Se.G[4],Se.H[4],z),se(z),nt=Ve(v,nt=at(nt,z)),z.h)break;if(ge-x<nt||L-ge<Ce)break e;for(Ge=0;Ge<Ce;++Ge)h[ge+Ge]=h[ge+Ge-nt];for(ge+=Ce,B+=Ce;B>=v;)B-=v,++O,I!=null&&O<=E&&!(O%16)&&I(c,O);if(e(ge<=L),B&je&&(Se=ut(re,B,O)),me!=null)for(;H<ge;)Ce=h[H++],me.X[(506832829*Ce&4294967295)>>>me.Mb]=Ce}else{if(!(Ce<he))break e;for(Fe=Ce-280,e(me!=null);H<ge;)Ce=h[H++],me.X[(506832829*Ce&4294967295)>>>me.Mb]=Ce;Ce=ge,e(!(Fe>>>(nt=me).Xa)),h[Ce]=nt.X[Fe],Fe=!0}Fe||e(z.h==J(z))}if(c.Pb&&z.h&&ge<L)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Ne(c.s.vb,c.s.Wa);else{if(z.h)break e;I!=null&&I(c,O>E?E:O),c.a=0,c.$=ge-x}return 1}return c.a=3,0}function Rt(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var h=c.Wa;h!=null&&(h.X=null),c.vb=null,e(c!=null)}function wr(){var c=new xt;return c==null?null:(c.a=0,c.xb=nh,qt("Predictor","VP8LPredictors"),qt("Predictor","VP8LPredictors_C"),qt("PredictorAdd","VP8LPredictorsAdd"),qt("PredictorAdd","VP8LPredictorsAdd_C"),jr=rt,ho=lt,fo=ct,ui=yt,hi=ht,fi=gt,$i=$t,N.VP8LMapColor32b=ms,N.VP8LMapColor8b=co,c)}function Nr(c,h,x,v,L){var E=1,I=[c],O=[h],B=v.m,z=v.s,re=null,ge=0;e:for(;;){if(x)for(;E&&pe(B,1);){var H=I,ie=O,he=v,ye=1,me=he.m,je=he.gc[he.ab],Se=pe(me,2);if(he.Oc&1<<Se)E=0;else{switch(he.Oc|=1<<Se,je.hc=Se,je.Ea=H[0],je.nc=ie[0],je.K=[null],++he.ab,e(4>=he.ab),Se){case 0:case 1:je.b=pe(me,3)+2,ye=Nr(ve(je.Ea,je.b),ve(je.nc,je.b),0,he,je.K),je.K=je.K[0];break;case 3:var Fe,Ce=pe(me,8)+1,nt=16<Ce?0:4<Ce?1:2<Ce?2:3;if(H[0]=ve(je.Ea,nt),je.b=nt,Fe=ye=Nr(Ce,1,0,he,je.K)){var Ge,St=Ce,Qe=je,Bt=1<<(8>>Qe.b),Br=a(Bt);if(Br==null)Fe=0;else{var kt=Qe.K[0],et=Qe.w;for(Br[0]=Qe.K[0][0],Ge=1;Ge<1*St;++Ge)Br[Ge]=ze(kt[et+Ge],Br[Ge-1]);for(;Ge<4*Bt;++Ge)Br[Ge]=0;Qe.K[0]=null,Qe.K[0]=Br,Fe=1}}ye=Fe;break;case 2:break;default:e(0)}E=ye}}if(I=I[0],O=O[0],E&&pe(B,1)&&!(E=1<=(ge=pe(B,4))&&11>=ge)){v.a=3;break e}var Re;if(Re=E)t:{var Sr,Nt,zt,lr=v,Kr=I,fn=O,br=ge,tn=x,pn=lr.m,qr=lr.s,Wt=[null],Kt=1,vr=0,Xt=k0[br];r:for(;;){if(tn&&pe(pn,1)){var Xr=pe(pn,3)+2,rs=ve(Kr,Xr),kr=ve(fn,Xr),_n=rs*kr;if(!Nr(rs,kr,0,lr,Wt))break r;for(Wt=Wt[0],qr.xc=Xr,Sr=0;Sr<_n;++Sr){var er=Wt[Sr]>>8&65535;Wt[Sr]=er,er>=Kt&&(Kt=er+1)}}if(pn.h)break r;for(Nt=0;5>Nt;++Nt){var Ur=th[Nt];!Nt&&0<br&&(Ur+=1<<br),vr<Ur&&(vr=Ur)}var In=l(Kt*Xt,W),mn=Kt,Tn=l(mn,le);if(Tn==null)var On=null;else e(65536>=mn),On=Tn;var Sn=a(vr);if(On==null||Sn==null||In==null){lr.a=1;break r}var Rn=In;for(Sr=zt=0;Sr<Kt;++Sr){var sr=On[Sr],Dn=sr.G,ns=sr.H,Gi=0,Ws=1,Jr=0;for(Nt=0;5>Nt;++Nt){Ur=th[Nt],Dn[Nt]=Rn,ns[Nt]=zt,!Nt&&0<br&&(Ur+=1<<br);s:{var jl,id=Ur,_l=lr,bo=Sn,G0=Rn,Y0=zt,ad=0,xi=_l.m,K0=pe(xi,1);if(i(bo,0,0,id),K0){var X0=pe(xi,1)+1,J0=pe(xi,1),uh=pe(xi,J0==0?1:8);bo[uh]=1,X0==2&&(bo[uh=pe(xi,8)]=1);var Sl=1}else{var hh=a(19),fh=pe(xi,4)+4;if(19<fh){_l.a=3;var kl=0;break s}for(jl=0;jl<fh;++jl)hh[_0[jl]]=pe(xi,3);var od=void 0,vo=void 0,ph=_l,Z0=hh,Al=id,mh=bo,ld=0,bi=ph.m,gh=8,xh=l(128,W);n:for(;C(xh,0,7,Z0,19);){if(pe(bi,1)){var Q0=2+2*pe(bi,3);if((od=2+pe(bi,Q0))>Al)break n}else od=Al;for(vo=0;vo<Al&&od--;){se(bi);var bh=xh[0+(127&Y(bi))];Z(bi,bi.u+bh.g);var wa=bh.value;if(16>wa)mh[vo++]=wa,wa!=0&&(gh=wa);else{var eg=wa==16,vh=wa-16,tg=N0[vh],yh=pe(bi,w0[vh])+tg;if(vo+yh>Al)break n;for(var rg=eg?gh:0;0<yh--;)mh[vo++]=rg}}ld=1;break n}ld||(ph.a=3),Sl=ld}(Sl=Sl&&!xi.h)&&(ad=C(G0,Y0,8,bo,id)),Sl&&ad!=0?kl=ad:(_l.a=3,kl=0)}if(kl==0)break r;if(Ws&&j0[Nt]==1&&(Ws=Rn[zt].g==0),Gi+=Rn[zt].g,zt+=kl,3>=Nt){var yo,cd=Sn[0];for(yo=1;yo<Ur;++yo)Sn[yo]>cd&&(cd=Sn[yo]);Jr+=cd}}if(sr.nd=Ws,sr.Qb=0,Ws&&(sr.qb=(Dn[3][ns[3]+0].value<<24|Dn[1][ns[1]+0].value<<16|Dn[2][ns[2]+0].value)>>>0,Gi==0&&256>Dn[0][ns[0]+0].value&&(sr.Qb=1,sr.qb+=Dn[0][ns[0]+0].value<<8)),sr.jc=!sr.Qb&&6>Jr,sr.jc){var Ll,$s=sr;for(Ll=0;Ll<Wi;++Ll){var vi=Ll,yi=$s.pd[vi],Cl=$s.G[0][$s.H[0]+vi];256<=Cl.value?(yi.g=Cl.g+256,yi.value=Cl.value):(yi.g=0,yi.value=0,vi>>=It(Cl,8,yi),vi>>=It($s.G[1][$s.H[1]+vi],16,yi),vi>>=It($s.G[2][$s.H[2]+vi],0,yi),It($s.G[3][$s.H[3]+vi],24,yi))}}}qr.vc=Wt,qr.Wb=Kt,qr.Ya=On,qr.yc=In,Re=1;break t}Re=0}if(!(E=Re)){v.a=3;break e}if(0<ge){if(z.ua=1<<ge,!R(z.Wa,ge)){v.a=1,E=0;break e}}else z.ua=0;var dd=v,wh=I,ng=O,ud=dd.s,hd=ud.xc;if(dd.c=wh,dd.i=ng,ud.md=ve(wh,hd),ud.wc=hd==0?-1:(1<<hd)-1,x){v.xb=T0;break e}if((re=a(I*O))==null){v.a=1,E=0;break e}E=(E=pr(v,re,0,I,O,O,null))&&!B.h;break e}return E?(L!=null?L[0]=re:(e(re==null),e(x)),v.$=0,x||Rt(z)):Rt(z),E}function or(c,h){var x=c.c*c.i,v=x+h+16*h;return e(c.c<=h),c.V=a(v),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+x+h,1)}function ur(c,h){var x=c.C,v=h-x,L=c.V,E=c.Ba+c.c*x;for(e(h<=c.l.o);0<v;){var I=16<v?16:v,O=c.l.ma,B=c.l.width,z=B*I,re=O.ca,ge=O.tb+B*x,H=c.Ta,ie=c.Ua;Yt(c,I,L,E),Gu(H,ie,re,ge,z),Mt(O,x,x+I,re,ge,B),v-=I,L+=I*c.c,x+=I}e(x==h),c.C=c.Ma=h}function mr(){this.ub=this.yd=this.td=this.Rb=0}function jn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function si(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function xr(){this.Yb=(function(){var c=[];return(function h(x,v,L){for(var E=L[v],I=0;I<E&&(x.push(L.length>v+1?[]:0),!(L.length<v+1));I++)h(x[I],v+1,L)})(c,0,[3,11]),c})()}function hr(){this.jb=a(3),this.Wc=o([4,8],xr),this.Xc=o([4,17],xr)}function un(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Qr(){this.ld=this.La=this.dd=this.tc=0}function ii(){this.Na=this.la=0}function ds(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function en(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function us(){this.uc=this.M=this.Nb=0,this.wa=Array(new Qr),this.Y=0,this.ya=Array(new en),this.aa=0,this.l=new ha}function Ps(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Cn(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new mr,this.Kc=new jn,this.ed=new un,this.Qa=new si,this.Ic=this.$c=this.Aa=0,this.D=new us,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,P),this.ia=0,this.pb=l(4,ds),this.Pa=new hr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ps),this.Hd=0,this.rb=Array(new ii),this.sb=0,this.wa=Array(new Qr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new en),this.L=this.aa=0,this.gd=o([4,2],Qr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function hs(c,h){return 0>c?0:c>h?h:c}function ha(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rc(){var c=new Cn;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,go||(go=fa)),c}function Fr(c,h,x){return c.a==0&&(c.a=h,c.sc=x,c.cb=0),0}function el(c,h,x){return 3<=x&&c[h+0]==157&&c[h+1]==1&&c[h+2]==42}function fs(c,h){if(c==null)return 0;if(c.a=0,c.sc="OK",h==null)return Fr(c,2,"null VP8Io passed to VP8GetHeaders()");var x=h.data,v=h.w,L=h.ha;if(4>L)return Fr(c,7,"Truncated header.");var E=x[v+0]|x[v+1]<<8|x[v+2]<<16,I=c.Od;if(I.Rb=!(1&E),I.td=E>>1&7,I.yd=E>>4&1,I.ub=E>>5,3<I.td)return Fr(c,3,"Incorrect keyframe parameters.");if(!I.yd)return Fr(c,4,"Frame not displayable.");v+=3,L-=3;var O=c.Kc;if(I.Rb){if(7>L)return Fr(c,7,"cannot parse picture header");if(!el(x,v,L))return Fr(c,3,"Bad code word");O.c=16383&(x[v+4]<<8|x[v+3]),O.Td=x[v+4]>>6,O.i=16383&(x[v+6]<<8|x[v+5]),O.Ud=x[v+6]>>6,v+=7,L-=7,c.za=O.c+15>>4,c.Ub=O.i+15>>4,h.width=O.c,h.height=O.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((E=c.Pa).jb,0,255,E.jb.length),e((E=c.Qa)!=null),E.Cb=0,E.Bb=0,E.Fb=1,i(E.Zb,0,0,E.Zb.length),i(E.Lb,0,0,E.Lb)}if(I.ub>L)return Fr(c,7,"bad partition length");fe(E=c.m,x,v,I.ub),v+=I.ub,L-=I.ub,I.Rb&&(O.Ld=ce(E),O.Kd=ce(E)),O=c.Qa;var B,z=c.Pa;if(e(E!=null),e(O!=null),O.Cb=ce(E),O.Cb){if(O.Bb=ce(E),ce(E)){for(O.Fb=ce(E),B=0;4>B;++B)O.Zb[B]=ce(E)?q(E,7):0;for(B=0;4>B;++B)O.Lb[B]=ce(E)?q(E,6):0}if(O.Bb)for(B=0;3>B;++B)z.jb[B]=ce(E)?ne(E,8):255}else O.Bb=0;if(E.Ka)return Fr(c,3,"cannot parse segment header");if((O=c.ed).zd=ce(E),O.Tb=ne(E,6),O.wb=ne(E,3),O.Pc=ce(E),O.Pc&&ce(E)){for(z=0;4>z;++z)ce(E)&&(O.vd[z]=q(E,6));for(z=0;4>z;++z)ce(E)&&(O.od[z]=q(E,6))}if(c.L=O.Tb==0?0:O.zd?1:2,E.Ka)return Fr(c,3,"cannot parse filter header");var re=L;if(L=B=v,v=B+re,O=re,c.Xb=(1<<ne(c.m,2))-1,re<3*(z=c.Xb))x=7;else{for(B+=3*z,O-=3*z,re=0;re<z;++re){var ge=x[L+0]|x[L+1]<<8|x[L+2]<<16;ge>O&&(ge=O),fe(c.Jc[+re],x,B,ge),B+=ge,O-=ge,L+=3}fe(c.Jc[+z],x,B,O),x=B<v?0:5}if(x!=0)return Fr(c,x,"cannot parse partitions");for(x=ne(B=c.m,7),L=ce(B)?q(B,4):0,v=ce(B)?q(B,4):0,O=ce(B)?q(B,4):0,z=ce(B)?q(B,4):0,B=ce(B)?q(B,4):0,re=c.Qa,ge=0;4>ge;++ge){if(re.Cb){var H=re.Zb[ge];re.Fb||(H+=x)}else{if(0<ge){c.pb[ge]=c.pb[0];continue}H=x}var ie=c.pb[ge];ie.Sc[0]=rd[hs(H+L,127)],ie.Sc[1]=nd[hs(H+0,127)],ie.Eb[0]=2*rd[hs(H+v,127)],ie.Eb[1]=101581*nd[hs(H+O,127)]>>16,8>ie.Eb[1]&&(ie.Eb[1]=8),ie.Qc[0]=rd[hs(H+z,117)],ie.Qc[1]=nd[hs(H+B,127)],ie.lc=H+B}if(!I.Rb)return Fr(c,4,"Not a key frame.");for(ce(E),I=c.Pa,x=0;4>x;++x){for(L=0;8>L;++L)for(v=0;3>v;++v)for(O=0;11>O;++O)z=be(E,F0[x][L][v][O])?ne(E,8):P0[x][L][v][O],I.Wc[x][L].Yb[v][O]=z;for(L=0;17>L;++L)I.Xc[x][L]=I.Wc[x][I0[L]]}return c.kc=ce(E),c.kc&&(c.Bd=ne(E,8)),c.cb=1}function fa(c,h,x,v,L,E,I){var O=h[L].Yb[x];for(x=0;16>L;++L){if(!be(c,O[x+0]))return L;for(;!be(c,O[x+1]);)if(O=h[++L].Yb[0],x=0,L==16)return 16;var B=h[L+1].Yb;if(be(c,O[x+2])){var z=c,re=0;if(be(z,(H=O)[(ge=x)+3]))if(be(z,H[ge+6])){for(O=0,ge=2*(re=be(z,H[ge+8]))+(H=be(z,H[ge+9+re])),re=0,H=L0[ge];H[O];++O)re+=re+be(z,H[O]);re+=3+(8<<ge)}else be(z,H[ge+7])?(re=7+2*be(z,165),re+=be(z,145)):re=5+be(z,159);else re=be(z,H[ge+4])?3+be(z,H[ge+5]):2;O=B[2]}else re=1,O=B[1];B=I+C0[L],0>(z=c).b&&ae(z);var ge,H=z.b,ie=(ge=z.Ca>>1)-(z.I>>H)>>31;--z.b,z.Ca+=ie,z.Ca|=1,z.I-=(ge+1&ie)<<H,E[B]=((re^ie)-ie)*v[(0<L)+0]}return 16}function tl(c){var h=c.rb[c.sb-1];h.la=0,h.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function Wn(c,h,x,v,L){L=c[h+x+32*v]+(L>>3),c[h+x+32*v]=-256&L?0>L?0:255:L}function Rr(c,h,x,v,L,E){Wn(c,h,0,x,v+L),Wn(c,h,1,x,v+E),Wn(c,h,2,x,v-E),Wn(c,h,3,x,v-L)}function Es(c){return(20091*c>>16)+c}function rl(c,h,x,v){var L,E=0,I=a(16);for(L=0;4>L;++L){var O=c[h+0]+c[h+8],B=c[h+0]-c[h+8],z=(35468*c[h+4]>>16)-Es(c[h+12]),re=Es(c[h+4])+(35468*c[h+12]>>16);I[E+0]=O+re,I[E+1]=B+z,I[E+2]=B-z,I[E+3]=O-re,E+=4,h++}for(L=E=0;4>L;++L)O=(c=I[E+0]+4)+I[E+8],B=c-I[E+8],z=(35468*I[E+4]>>16)-Es(I[E+12]),Wn(x,v,0,0,O+(re=Es(I[E+4])+(35468*I[E+12]>>16))),Wn(x,v,1,0,B+z),Wn(x,v,2,0,B-z),Wn(x,v,3,0,O-re),E++,v+=32}function Dc(c,h,x,v){var L=c[h+0]+4,E=35468*c[h+4]>>16,I=Es(c[h+4]),O=35468*c[h+1]>>16;Rr(x,v,0,L+I,c=Es(c[h+1]),O),Rr(x,v,1,L+E,c,O),Rr(x,v,2,L-E,c,O),Rr(x,v,3,L-I,c,O)}function Mc(c,h,x,v,L){rl(c,h,x,v),L&&rl(c,h+16,x,v+4)}function ps(c,h,x,v){Vi(c,h+0,x,v,1),Vi(c,h+32,x,v+128,1)}function nl(c,h,x,v){var L;for(c=c[h+0]+4,L=0;4>L;++L)for(h=0;4>h;++h)Wn(x,v,h,L,c)}function sl(c,h,x,v){c[h+0]&&Vt(c,h+0,x,v),c[h+16]&&Vt(c,h+16,x,v+4),c[h+32]&&Vt(c,h+32,x,v+128),c[h+48]&&Vt(c,h+48,x,v+128+4)}function pa(c,h,x,v){var L,E=a(16);for(L=0;4>L;++L){var I=c[h+0+L]+c[h+12+L],O=c[h+4+L]+c[h+8+L],B=c[h+4+L]-c[h+8+L],z=c[h+0+L]-c[h+12+L];E[0+L]=I+O,E[8+L]=I-O,E[4+L]=z+B,E[12+L]=z-B}for(L=0;4>L;++L)I=(c=E[0+4*L]+3)+E[3+4*L],O=E[1+4*L]+E[2+4*L],B=E[1+4*L]-E[2+4*L],z=c-E[3+4*L],x[v+0]=I+O>>3,x[v+16]=z+B>>3,x[v+32]=I-O>>3,x[v+48]=z-B>>3,v+=64}function Ti(c,h,x){var v,L=h-32,E=Fn,I=255-c[L-1];for(v=0;v<x;++v){var O,B=E,z=I+c[h-1];for(O=0;O<x;++O)c[h+O]=B[z+c[L+O]];h+=32}}function Bc(c,h){Ti(c,h,4)}function qc(c,h){Ti(c,h,8)}function Uc(c,h){Ti(c,h,16)}function Ka(c,h){var x;for(x=0;16>x;++x)n(c,h+32*x,c,h-32,16)}function il(c,h){var x;for(x=16;0<x;--x)i(c,h,c[h-1],16),h+=32}function Qn(c,h,x){var v;for(v=0;16>v;++v)i(h,x+32*v,c,16)}function zc(c,h){var x,v=16;for(x=0;16>x;++x)v+=c[h-1+32*x]+c[h+x-32];Qn(v>>5,c,h)}function Oi(c,h){var x,v=8;for(x=0;16>x;++x)v+=c[h-1+32*x];Qn(v>>4,c,h)}function Xa(c,h){var x,v=8;for(x=0;16>x;++x)v+=c[h+x-32];Qn(v>>4,c,h)}function Hc(c,h){Qn(128,c,h)}function vt(c,h,x){return c+2*h+x+2>>2}function Wc(c,h){var x,v=h-32;for(v=new Uint8Array([vt(c[v-1],c[v+0],c[v+1]),vt(c[v+0],c[v+1],c[v+2]),vt(c[v+1],c[v+2],c[v+3]),vt(c[v+2],c[v+3],c[v+4])]),x=0;4>x;++x)n(c,h+32*x,v,0,v.length)}function $c(c,h){var x=c[h-1],v=c[h-1+32],L=c[h-1+64],E=c[h-1+96];xe(c,h+0,16843009*vt(c[h-1-32],x,v)),xe(c,h+32,16843009*vt(x,v,L)),xe(c,h+64,16843009*vt(v,L,E)),xe(c,h+96,16843009*vt(L,E,E))}function Vc(c,h){var x,v=4;for(x=0;4>x;++x)v+=c[h+x-32]+c[h-1+32*x];for(v>>=3,x=0;4>x;++x)i(c,h+32*x,v,4)}function Fs(c,h){var x=c[h-1+0],v=c[h-1+32],L=c[h-1+64],E=c[h-1-32],I=c[h+0-32],O=c[h+1-32],B=c[h+2-32],z=c[h+3-32];c[h+0+96]=vt(v,L,c[h-1+96]),c[h+1+96]=c[h+0+64]=vt(x,v,L),c[h+2+96]=c[h+1+64]=c[h+0+32]=vt(E,x,v),c[h+3+96]=c[h+2+64]=c[h+1+32]=c[h+0+0]=vt(I,E,x),c[h+3+64]=c[h+2+32]=c[h+1+0]=vt(O,I,E),c[h+3+32]=c[h+2+0]=vt(B,O,I),c[h+3+0]=vt(z,B,O)}function Is(c,h){var x=c[h+1-32],v=c[h+2-32],L=c[h+3-32],E=c[h+4-32],I=c[h+5-32],O=c[h+6-32],B=c[h+7-32];c[h+0+0]=vt(c[h+0-32],x,v),c[h+1+0]=c[h+0+32]=vt(x,v,L),c[h+2+0]=c[h+1+32]=c[h+0+64]=vt(v,L,E),c[h+3+0]=c[h+2+32]=c[h+1+64]=c[h+0+96]=vt(L,E,I),c[h+3+32]=c[h+2+64]=c[h+1+96]=vt(E,I,O),c[h+3+64]=c[h+2+96]=vt(I,O,B),c[h+3+96]=vt(O,B,B)}function Gc(c,h){var x=c[h-1+0],v=c[h-1+32],L=c[h-1+64],E=c[h-1-32],I=c[h+0-32],O=c[h+1-32],B=c[h+2-32],z=c[h+3-32];c[h+0+0]=c[h+1+64]=E+I+1>>1,c[h+1+0]=c[h+2+64]=I+O+1>>1,c[h+2+0]=c[h+3+64]=O+B+1>>1,c[h+3+0]=B+z+1>>1,c[h+0+96]=vt(L,v,x),c[h+0+64]=vt(v,x,E),c[h+0+32]=c[h+1+96]=vt(x,E,I),c[h+1+32]=c[h+2+96]=vt(E,I,O),c[h+2+32]=c[h+3+96]=vt(I,O,B),c[h+3+32]=vt(O,B,z)}function Yc(c,h){var x=c[h+0-32],v=c[h+1-32],L=c[h+2-32],E=c[h+3-32],I=c[h+4-32],O=c[h+5-32],B=c[h+6-32],z=c[h+7-32];c[h+0+0]=x+v+1>>1,c[h+1+0]=c[h+0+64]=v+L+1>>1,c[h+2+0]=c[h+1+64]=L+E+1>>1,c[h+3+0]=c[h+2+64]=E+I+1>>1,c[h+0+32]=vt(x,v,L),c[h+1+32]=c[h+0+96]=vt(v,L,E),c[h+2+32]=c[h+1+96]=vt(L,E,I),c[h+3+32]=c[h+2+96]=vt(E,I,O),c[h+3+64]=vt(I,O,B),c[h+3+96]=vt(O,B,z)}function ma(c,h){var x=c[h-1+0],v=c[h-1+32],L=c[h-1+64],E=c[h-1+96];c[h+0+0]=x+v+1>>1,c[h+2+0]=c[h+0+32]=v+L+1>>1,c[h+2+32]=c[h+0+64]=L+E+1>>1,c[h+1+0]=vt(x,v,L),c[h+3+0]=c[h+1+32]=vt(v,L,E),c[h+3+32]=c[h+1+64]=vt(L,E,E),c[h+3+64]=c[h+2+64]=c[h+0+96]=c[h+1+96]=c[h+2+96]=c[h+3+96]=E}function Ja(c,h){var x=c[h-1+0],v=c[h-1+32],L=c[h-1+64],E=c[h-1+96],I=c[h-1-32],O=c[h+0-32],B=c[h+1-32],z=c[h+2-32];c[h+0+0]=c[h+2+32]=x+I+1>>1,c[h+0+32]=c[h+2+64]=v+x+1>>1,c[h+0+64]=c[h+2+96]=L+v+1>>1,c[h+0+96]=E+L+1>>1,c[h+3+0]=vt(O,B,z),c[h+2+0]=vt(I,O,B),c[h+1+0]=c[h+3+32]=vt(x,I,O),c[h+1+32]=c[h+3+64]=vt(v,x,I),c[h+1+64]=c[h+3+96]=vt(L,v,x),c[h+1+96]=vt(E,L,v)}function Ri(c,h){var x;for(x=0;8>x;++x)n(c,h+32*x,c,h-32,8)}function Kc(c,h){var x;for(x=0;8>x;++x)i(c,h,c[h-1],8),h+=32}function Ts(c,h,x){var v;for(v=0;8>v;++v)i(h,x+32*v,c,8)}function Xc(c,h){var x,v=8;for(x=0;8>x;++x)v+=c[h+x-32]+c[h-1+32*x];Ts(v>>4,c,h)}function Za(c,h){var x,v=4;for(x=0;8>x;++x)v+=c[h+x-32];Ts(v>>3,c,h)}function Qa(c,h){var x,v=4;for(x=0;8>x;++x)v+=c[h-1+32*x];Ts(v>>3,c,h)}function al(c,h){Ts(128,c,h)}function Os(c,h,x){var v=c[h-x],L=c[h+0],E=3*(L-v)+Jc[1020+c[h-2*x]-c[h+x]],I=pl[112+(E+4>>3)];c[h-x]=Fn[255+v+pl[112+(E+3>>3)]],c[h+0]=Fn[255+L-I]}function eo(c,h,x,v){var L=c[h+0],E=c[h+x];return Gn[255+c[h-2*x]-c[h-x]]>v||Gn[255+E-L]>v}function ga(c,h,x,v){return 4*Gn[255+c[h-x]-c[h+0]]+Gn[255+c[h-2*x]-c[h+x]]<=v}function to(c,h,x,v,L){var E=c[h-3*x],I=c[h-2*x],O=c[h-x],B=c[h+0],z=c[h+x],re=c[h+2*x],ge=c[h+3*x];return 4*Gn[255+O-B]+Gn[255+I-z]>v?0:Gn[255+c[h-4*x]-E]<=L&&Gn[255+E-I]<=L&&Gn[255+I-O]<=L&&Gn[255+ge-re]<=L&&Gn[255+re-z]<=L&&Gn[255+z-B]<=L}function Di(c,h,x,v){var L=2*v+1;for(v=0;16>v;++v)ga(c,h+v,x,L)&&Os(c,h+v,x)}function ro(c,h,x,v){var L=2*v+1;for(v=0;16>v;++v)ga(c,h+v*x,1,L)&&Os(c,h+v*x,1)}function ol(c,h,x,v){var L;for(L=3;0<L;--L)Di(c,h+=4*x,x,v)}function ll(c,h,x,v){var L;for(L=3;0<L;--L)ro(c,h+=4,x,v)}function Rs(c,h,x,v,L,E,I,O){for(E=2*E+1;0<L--;){if(to(c,h,x,E,I))if(eo(c,h,x,O))Os(c,h,x);else{var B=c,z=h,re=x,ge=B[z-2*re],H=B[z-re],ie=B[z+0],he=B[z+re],ye=B[z+2*re],me=27*(Se=Jc[1020+3*(ie-H)+Jc[1020+ge-he]])+63>>7,je=18*Se+63>>7,Se=9*Se+63>>7;B[z-3*re]=Fn[255+B[z-3*re]+Se],B[z-2*re]=Fn[255+ge+je],B[z-re]=Fn[255+H+me],B[z+0]=Fn[255+ie-me],B[z+re]=Fn[255+he-je],B[z+2*re]=Fn[255+ye-Se]}h+=v}}function Ds(c,h,x,v,L,E,I,O){for(E=2*E+1;0<L--;){if(to(c,h,x,E,I))if(eo(c,h,x,O))Os(c,h,x);else{var B=c,z=h,re=x,ge=B[z-re],H=B[z+0],ie=B[z+re],he=pl[112+(4+(ye=3*(H-ge))>>3)],ye=pl[112+(ye+3>>3)],me=he+1>>1;B[z-2*re]=Fn[255+B[z-2*re]+me],B[z-re]=Fn[255+ge+ye],B[z+0]=Fn[255+H-he],B[z+re]=Fn[255+ie-me]}h+=v}}function cl(c,h,x,v,L,E){Rs(c,h,x,1,16,v,L,E)}function Mi(c,h,x,v,L,E){Rs(c,h,1,x,16,v,L,E)}function dl(c,h,x,v,L,E){var I;for(I=3;0<I;--I)Ds(c,h+=4*x,x,1,16,v,L,E)}function m(c,h,x,v,L,E){var I;for(I=3;0<I;--I)Ds(c,h+=4,1,x,16,v,L,E)}function A(c,h,x,v,L,E,I,O){Rs(c,h,L,1,8,E,I,O),Rs(x,v,L,1,8,E,I,O)}function $(c,h,x,v,L,E,I,O){Rs(c,h,1,L,8,E,I,O),Rs(x,v,1,L,8,E,I,O)}function Q(c,h,x,v,L,E,I,O){Ds(c,h+4*L,L,1,8,E,I,O),Ds(x,v+4*L,L,1,8,E,I,O)}function de(c,h,x,v,L,E,I,O){Ds(c,h+4,1,L,8,E,I,O),Ds(x,v+4,1,L,8,E,I,O)}function _e(){this.ba=new pt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Le(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tt(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new le,this.yc=new W}function xt(){this.xb=this.a=0,this.l=new ha,this.ca=new pt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tt,this.ab=0,this.gc=l(4,Xe),this.Oc=0}function jt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ha,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ht(c,h,x,v,L,E,I){for(c=c==null?0:c[h+0],h=0;h<I;++h)L[E+h]=c+x[v+h]&255,c=L[E+h]}function gr(c,h,x,v,L,E,I){var O;if(c==null)Ht(null,null,x,v,L,E,I);else for(O=0;O<I;++O)L[E+O]=c[h+O]+x[v+O]&255}function Ir(c,h,x,v,L,E,I){if(c==null)Ht(null,null,x,v,L,E,I);else{var O,B=c[h+0],z=B,re=B;for(O=0;O<I;++O)z=re+(B=c[h+O])-z,re=x[v+O]+(-256&z?0>z?0:255:z)&255,z=B,L[E+O]=re}}function nr(c,h,x,v){var L=h.width,E=h.o;if(e(c!=null&&h!=null),0>x||0>=v||x+v>E)return null;if(!c.Cc){if(c.ga==null){var I;if(c.ga=new jt,(I=c.ga==null)||(I=h.width*h.o,e(c.Gb.length==0),c.Gb=a(I),c.Uc=0,c.Gb==null?I=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,I=1),I=!I),!I){I=c.ga;var O=c.Fa,B=c.P,z=c.qc,re=c.mb,ge=c.nb,H=B+1,ie=z-1,he=I.l;if(e(O!=null&&re!=null&&h!=null),gi[0]=null,gi[1]=Ht,gi[2]=gr,gi[3]=Ir,I.ca=re,I.tb=ge,I.c=h.width,I.i=h.height,e(0<I.c&&0<I.i),1>=z)h=0;else if(I.$a=3&O[B+0],I.Z=O[B+0]>>2&3,I.Lc=O[B+0]>>4&3,B=O[B+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||B)h=0;else if(he.put=Ee,he.ac=dt,he.bc=_t,he.ma=I,he.width=h.width,he.height=h.height,he.Da=h.Da,he.v=h.v,he.va=h.va,he.j=h.j,he.o=h.o,I.$a)e:{e(I.$a==1),h=wr();t:for(;;){if(h==null){h=0;break e}if(e(I!=null),I.mc=h,h.c=I.c,h.i=I.i,h.l=I.l,h.l.ma=I,h.l.width=I.c,h.l.height=I.i,h.a=0,ee(h.m,O,H,ie),!Nr(I.c,I.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Ut(h.s)?(I.ic=1,O=h.c*h.i,h.Ta=null,h.Ua=0,h.V=a(O),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(I.ic=0,h=or(h,I.c)),!h))break t;h=1;break e}I.mc=null,h=0}else h=ie>=I.c*I.i;I=!h}if(I)return null;c.ga.Lc!=1?c.Ga=0:v=E-x}e(c.ga!=null),e(x+v<=E);e:{if(h=(O=c.ga).c,E=O.l.o,O.$a==0){if(H=c.rc,ie=c.Vc,he=c.Fa,B=c.P+1+x*h,z=c.mb,re=c.nb+x*h,e(B<=c.P+c.qc),O.Z!=0)for(e(gi[O.Z]!=null),I=0;I<v;++I)gi[O.Z](H,ie,he,B,z,re,h),H=z,ie=re,re+=h,B+=h;else for(I=0;I<v;++I)n(z,re,he,B,h),H=z,ie=re,re+=h,B+=h;c.rc=H,c.Vc=ie}else{if(e(O.mc!=null),h=x+v,e((I=O.mc)!=null),e(h<=I.i),I.C>=h)h=1;else if(O.ic||es(),O.ic){O=I.V,H=I.Ba,ie=I.c;var ye=I.i,me=(he=1,B=I.$/ie,z=I.$%ie,re=I.m,ge=I.s,I.$),je=ie*ye,Se=ie*h,Fe=ge.wc,Ce=me<Se?ut(ge,z,B):null;e(me<=je),e(h<=ye),e(Ut(ge));t:for(;;){for(;!re.h&&me<Se;){if(z&Fe||(Ce=ut(ge,z,B)),e(Ce!=null),se(re),256>(ye=$e(Ce.G[0],Ce.H[0],re)))O[H+me]=ye,++me,++z>=ie&&(z=0,++B<=h&&!(B%16)&&Lt(I,B));else{if(!(280>ye)){he=0;break t}ye=at(ye-256,re);var nt,Ge=$e(Ce.G[4],Ce.H[4],re);if(se(re),!(me>=(Ge=Ve(ie,Ge=at(Ge,re)))&&je-me>=ye)){he=0;break t}for(nt=0;nt<ye;++nt)O[H+me+nt]=O[H+me+nt-Ge];for(me+=ye,z+=ye;z>=ie;)z-=ie,++B<=h&&!(B%16)&&Lt(I,B);me<Se&&z&Fe&&(Ce=ut(ge,z,B))}e(re.h==J(re))}Lt(I,B>h?h:B);break t}!he||re.h&&me<je?(he=0,I.a=re.h?5:3):I.$=me,h=he}else h=pr(I,I.V,I.Ba,I.c,I.i,h,ur);if(!h){v=0;break e}}x+v>=E&&(c.Cc=1),v=1}if(!v)return null;if(c.Cc&&((v=c.ga)!=null&&(v.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+x*L}function Dr(c,h,x,v,L,E){for(;0<L--;){var I,O=c,B=h+(x?1:0),z=c,re=h+(x?0:3);for(I=0;I<v;++I){var ge=z[re+4*I];ge!=255&&(ge*=32897,O[B+4*I+0]=O[B+4*I+0]*ge>>23,O[B+4*I+1]=O[B+4*I+1]*ge>>23,O[B+4*I+2]=O[B+4*I+2]*ge>>23)}h+=E}}function Tr(c,h,x,v,L){for(;0<v--;){var E;for(E=0;E<x;++E){var I=c[h+2*E+0],O=15&(z=c[h+2*E+1]),B=4369*O,z=(240&z|z>>4)*B>>16;c[h+2*E+0]=(240&I|I>>4)*B>>16&240|(15&I|I<<4)*B>>16>>4&15,c[h+2*E+1]=240&z|O}h+=L}}function Gr(c,h,x,v,L,E,I,O){var B,z,re=255;for(z=0;z<L;++z){for(B=0;B<v;++B){var ge=c[h+B];E[I+4*B]=ge,re&=ge}h+=x,I+=O}return re!=255}function Ms(c,h,x,v,L){var E;for(E=0;E<L;++E)x[v+E]=c[h+E]>>8}function es(){mo=Dr,$u=Tr,Vu=Gr,Gu=Ms}function Bs(c,h,x){N[c]=function(v,L,E,I,O,B,z,re,ge,H,ie,he,ye,me,je,Se,Fe){var Ce,nt=Fe-1>>1,Ge=O[B+0]|z[re+0]<<16,St=ge[H+0]|ie[he+0]<<16;e(v!=null);var Qe=3*Ge+St+131074>>2;for(h(v[L+0],255&Qe,Qe>>16,ye,me),E!=null&&(Qe=3*St+Ge+131074>>2,h(E[I+0],255&Qe,Qe>>16,je,Se)),Ce=1;Ce<=nt;++Ce){var Bt=O[B+Ce]|z[re+Ce]<<16,Br=ge[H+Ce]|ie[he+Ce]<<16,kt=Ge+Bt+St+Br+524296,et=kt+2*(Bt+St)>>3;Qe=et+Ge>>1,Ge=(kt=kt+2*(Ge+Br)>>3)+Bt>>1,h(v[L+2*Ce-1],255&Qe,Qe>>16,ye,me+(2*Ce-1)*x),h(v[L+2*Ce-0],255&Ge,Ge>>16,ye,me+(2*Ce-0)*x),E!=null&&(Qe=kt+St>>1,Ge=et+Br>>1,h(E[I+2*Ce-1],255&Qe,Qe>>16,je,Se+(2*Ce-1)*x),h(E[I+2*Ce+0],255&Ge,Ge>>16,je,Se+(2*Ce+0)*x)),Ge=Bt,St=Br}1&Fe||(Qe=3*Ge+St+131074>>2,h(v[L+Fe-1],255&Qe,Qe>>16,ye,me+(Fe-1)*x),E!=null&&(Qe=3*St+Ge+131074>>2,h(E[I+Fe-1],255&Qe,Qe>>16,je,Se+(Fe-1)*x)))}}function no(){Yn[ml]=O0,Yn[gl]=sh,Yn[Qu]=R0,Yn[xl]=ih,Yn[bl]=ah,Yn[Zc]=oh,Yn[eh]=D0,Yn[Qc]=sh,Yn[ed]=ih,Yn[vl]=ah,Yn[td]=oh}function xa(c){return c&-16384?0>c?0:255:c>>M0}function ai(c,h){return xa((19077*c>>8)+(26149*h>>8)-14234)}function Bi(c,h,x){return xa((19077*c>>8)-(6419*h>>8)-(13320*x>>8)+8708)}function qi(c,h){return xa((19077*c>>8)+(33050*h>>8)-17685)}function oi(c,h,x,v,L){v[L+0]=ai(c,x),v[L+1]=Bi(c,h,x),v[L+2]=qi(c,h)}function Yr(c,h,x,v,L){v[L+0]=qi(c,h),v[L+1]=Bi(c,h,x),v[L+2]=ai(c,x)}function Ui(c,h,x,v,L){var E=Bi(c,h,x);h=E<<3&224|qi(c,h)>>3,v[L+0]=248&ai(c,x)|E>>5,v[L+1]=h}function zi(c,h,x,v,L){var E=240&qi(c,h)|15;v[L+0]=240&ai(c,x)|Bi(c,h,x)>>4,v[L+1]=E}function so(c,h,x,v,L){v[L+0]=255,oi(c,h,x,v,L+1)}function io(c,h,x,v,L){Yr(c,h,x,v,L),v[L+3]=255}function hn(c,h,x,v,L){oi(c,h,x,v,L),v[L+3]=255}function qs(c,h,x){N[c]=function(v,L,E,I,O,B,z,re,ge){for(var H=re+(-2&ge)*x;re!=H;)h(v[L+0],E[I+0],O[B+0],z,re),h(v[L+1],E[I+0],O[B+0],z,re+x),L+=2,++I,++B,re+=2*x;1&ge&&h(v[L+0],E[I+0],O[B+0],z,re)}}function ba(c,h,x){return x==0?c==0?h==0?6:5:h==0?4:0:x}function ul(c,h,x,v,L){switch(c>>>30){case 3:Vi(h,x,v,L,0);break;case 2:Vn(h,x,v,L);break;case 1:Vt(h,x,v,L)}}function $n(c,h){var x,v,L=h.M,E=h.Nb,I=c.oc,O=c.pc+40,B=c.oc,z=c.pc+584,re=c.oc,ge=c.pc+600;for(x=0;16>x;++x)I[O+32*x-1]=129;for(x=0;8>x;++x)B[z+32*x-1]=129,re[ge+32*x-1]=129;for(0<L?I[O-1-32]=B[z-1-32]=re[ge-1-32]=129:(i(I,O-32-1,127,21),i(B,z-32-1,127,9),i(re,ge-32-1,127,9)),v=0;v<c.za;++v){var H=h.ya[h.aa+v];if(0<v){for(x=-1;16>x;++x)n(I,O+32*x-4,I,O+32*x+12,4);for(x=-1;8>x;++x)n(B,z+32*x-4,B,z+32*x+4,4),n(re,ge+32*x-4,re,ge+32*x+4,4)}var ie=c.Gd,he=c.Hd+v,ye=H.ad,me=H.Hc;if(0<L&&(n(I,O-32,ie[he].y,0,16),n(B,z-32,ie[he].f,0,8),n(re,ge-32,ie[he].ea,0,8)),H.Za){var je=I,Se=O-32+16;for(0<L&&(v>=c.za-1?i(je,Se,ie[he].y[15],4):n(je,Se,ie[he+1].y,0,4)),x=0;4>x;x++)je[Se+128+x]=je[Se+256+x]=je[Se+384+x]=je[Se+0+x];for(x=0;16>x;++x,me<<=2)je=I,Se=O+ch[x],ts[H.Ob[x]](je,Se),ul(me,ye,16*+x,je,Se)}else if(je=ba(v,L,H.Ob[0]),mi[je](I,O),me!=0)for(x=0;16>x;++x,me<<=2)ul(me,ye,16*+x,I,O+ch[x]);for(x=H.Gc,je=ba(v,L,H.Dd),Hs[je](B,z),Hs[je](re,ge),me=ye,je=B,Se=z,255&(H=0|x)&&(170&H?xs(me,256,je,Se):Qt(me,256,je,Se)),H=re,me=ge,255&(x>>=8)&&(170&x?xs(ye,320,H,me):Qt(ye,320,H,me)),L<c.Ub-1&&(n(ie[he].y,0,I,O+480,16),n(ie[he].f,0,B,z+224,8),n(ie[he].ea,0,re,ge+224,8)),x=8*E*c.B,ie=c.sa,he=c.ta+16*v+16*E*c.R,ye=c.qa,H=c.ra+8*v+x,me=c.Ha,je=c.Ia+8*v+x,x=0;16>x;++x)n(ie,he+x*c.R,I,O+32*x,16);for(x=0;8>x;++x)n(ye,H+x*c.B,B,z+32*x,8),n(me,je+x*c.B,re,ge+32*x,8)}}function Hi(c,h,x,v,L,E,I,O,B){var z=[0],re=[0],ge=0,H=B!=null?B.kd:0,ie=B??new Le;if(c==null||12>x)return 7;ie.data=c,ie.w=h,ie.ha=x,h=[h],x=[x],ie.gb=[ie.gb];e:{var he=h,ye=x,me=ie.gb;if(e(c!=null),e(ye!=null),e(me!=null),me[0]=0,12<=ye[0]&&!t(c,he[0],"RIFF")){if(t(c,he[0]+8,"WEBP")){me=3;break e}var je=Pe(c,he[0]+4);if(12>je||4294967286<je){me=3;break e}if(H&&je>ye[0]-8){me=7;break e}me[0]=je,he[0]+=12,ye[0]-=12}me=0}if(me!=0)return me;for(je=0<ie.gb[0],x=x[0];;){e:{var Se=c;ye=h,me=x;var Fe=z,Ce=re,nt=he=[0];if((Qe=ge=[ge])[0]=0,8>me[0])me=7;else{if(!t(Se,ye[0],"VP8X")){if(Pe(Se,ye[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var Ge=Pe(Se,ye[0]+8),St=1+we(Se,ye[0]+12);if(2147483648<=St*(Se=1+we(Se,ye[0]+15))){me=3;break e}nt!=null&&(nt[0]=Ge),Fe!=null&&(Fe[0]=St),Ce!=null&&(Ce[0]=Se),ye[0]+=18,me[0]-=18,Qe[0]=1}me=0}}if(ge=ge[0],he=he[0],me!=0)return me;if(ye=!!(2&he),!je&&ge)return 3;if(E!=null&&(E[0]=!!(16&he)),I!=null&&(I[0]=ye),O!=null&&(O[0]=0),I=z[0],he=re[0],ge&&ye&&B==null){me=0;break}if(4>x){me=7;break}if(je&&ge||!je&&!ge&&!t(c,h[0],"ALPH")){x=[x],ie.na=[ie.na],ie.P=[ie.P],ie.Sa=[ie.Sa];e:{Ge=c,me=h,je=x;var Qe=ie.gb;Fe=ie.na,Ce=ie.P,nt=ie.Sa,St=22,e(Ge!=null),e(je!=null),Se=me[0];var Bt=je[0];for(e(Fe!=null),e(nt!=null),Fe[0]=null,Ce[0]=null,nt[0]=0;;){if(me[0]=Se,je[0]=Bt,8>Bt){me=7;break e}var Br=Pe(Ge,Se+4);if(4294967286<Br){me=3;break e}var kt=8+Br+1&-2;if(St+=kt,0<Qe&&St>Qe){me=3;break e}if(!t(Ge,Se,"VP8 ")||!t(Ge,Se,"VP8L")){me=0;break e}if(Bt[0]<kt){me=7;break e}t(Ge,Se,"ALPH")||(Fe[0]=Ge,Ce[0]=Se+8,nt[0]=Br),Se+=kt,Bt-=kt}}if(x=x[0],ie.na=ie.na[0],ie.P=ie.P[0],ie.Sa=ie.Sa[0],me!=0)break}x=[x],ie.Ja=[ie.Ja],ie.xa=[ie.xa];e:if(Qe=c,me=h,je=x,Fe=ie.gb[0],Ce=ie.Ja,nt=ie.xa,Ge=me[0],Se=!t(Qe,Ge,"VP8 "),St=!t(Qe,Ge,"VP8L"),e(Qe!=null),e(je!=null),e(Ce!=null),e(nt!=null),8>je[0])me=7;else{if(Se||St){if(Qe=Pe(Qe,Ge+4),12<=Fe&&Qe>Fe-12){me=3;break e}if(H&&Qe>je[0]-8){me=7;break e}Ce[0]=Qe,me[0]+=8,je[0]-=8,nt[0]=St}else nt[0]=5<=je[0]&&Qe[Ge+0]==47&&!(Qe[Ge+4]>>5),Ce[0]=je[0];me=0}if(x=x[0],ie.Ja=ie.Ja[0],ie.xa=ie.xa[0],h=h[0],me!=0)break;if(4294967286<ie.Ja)return 3;if(O==null||ye||(O[0]=ie.xa?2:1),I=[I],he=[he],ie.xa){if(5>x){me=7;break}O=I,H=he,ye=E,c==null||5>x?c=0:5<=x&&c[h+0]==47&&!(c[h+4]>>5)?(je=[0],Qe=[0],Fe=[0],ee(Ce=new M,c,h,x),Oe(Ce,je,Qe,Fe)?(O!=null&&(O[0]=je[0]),H!=null&&(H[0]=Qe[0]),ye!=null&&(ye[0]=Fe[0]),c=1):c=0):c=0}else{if(10>x){me=7;break}O=he,c==null||10>x||!el(c,h+3,x-3)?c=0:(H=c[h+0]|c[h+1]<<8|c[h+2]<<16,ye=16383&(c[h+7]<<8|c[h+6]),c=16383&(c[h+9]<<8|c[h+8]),1&H||3<(H>>1&7)||!(H>>4&1)||H>>5>=ie.Ja||!ye||!c?c=0:(I&&(I[0]=ye),O&&(O[0]=c),c=1))}if(!c||(I=I[0],he=he[0],ge&&(z[0]!=I||re[0]!=he)))return 3;B!=null&&(B[0]=ie,B.offset=h-B.w,e(4294967286>h-B.w),e(B.offset==B.ha-x));break}return me==0||me==7&&ge&&B==null?(E!=null&&(E[0]|=ie.na!=null&&0<ie.na.length),v!=null&&(v[0]=I),L!=null&&(L[0]=he),0):me}function ao(c,h,x){var v=h.width,L=h.height,E=0,I=0,O=v,B=L;if(h.Da=c!=null&&0<c.Da,h.Da&&(O=c.cd,B=c.bd,E=c.v,I=c.j,11>x||(E&=-2,I&=-2),0>E||0>I||0>=O||0>=B||E+O>v||I+B>L))return 0;if(h.v=E,h.j=I,h.va=E+O,h.o=I+B,h.U=O,h.T=B,h.da=c!=null&&0<c.da,h.da){if(!Ae(O,B,x=[c.ib],E=[c.hb]))return 0;h.ib=x[0],h.hb=E[0]}return h.ob=c!=null&&c.ob,h.Kb=c==null||!c.Sd,h.da&&(h.ob=h.ib<3*v/4&&h.hb<3*L/4,h.Kb=0),1}function oo(c){if(c==null)return 2;if(11>c.S){var h=c.f.RGBA;h.fb+=(c.height-1)*h.A,h.A=-h.A}else h=c.f.kb,c=c.height,h.O+=(c-1)*h.fa,h.fa=-h.fa,h.N+=(c-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(c-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(c-1)*h.lb,h.lb=-h.lb);return 0}function li(c,h,x,v){if(v==null||0>=c||0>=h)return 2;if(x!=null){if(x.Da){var L=x.cd,E=x.bd,I=-2&x.v,O=-2&x.j;if(0>I||0>O||0>=L||0>=E||I+L>c||O+E>h)return 2;c=L,h=E}if(x.da){if(!Ae(c,h,L=[x.ib],E=[x.hb]))return 2;c=L[0],h=E[0]}}v.width=c,v.height=h;e:{var B=v.width,z=v.height;if(c=v.S,0>=B||0>=z||!(c>=ml&&13>c))c=2;else{if(0>=v.Rd&&v.sd==null){I=E=L=h=0;var re=(O=B*dh[c])*z;if(11>c||(E=(z+1)/2*(h=(B+1)/2),c==12&&(I=(L=B)*z)),(z=a(re+2*E+I))==null){c=1;break e}v.sd=z,11>c?((B=v.f.RGBA).eb=z,B.fb=0,B.A=O,B.size=re):((B=v.f.kb).y=z,B.O=0,B.fa=O,B.Fd=re,B.f=z,B.N=0+re,B.Ab=h,B.Cd=E,B.ea=z,B.W=0+re+E,B.Db=h,B.Ed=E,c==12&&(B.F=z,B.J=0+re+2*E),B.Tc=I,B.lb=L)}if(h=1,L=v.S,E=v.width,I=v.height,L>=ml&&13>L)if(11>L)c=v.f.RGBA,h&=(O=Math.abs(c.A))*(I-1)+E<=c.size,h&=O>=E*dh[L],h&=c.eb!=null;else{c=v.f.kb,O=(E+1)/2,re=(I+1)/2,B=Math.abs(c.fa),z=Math.abs(c.Ab);var ge=Math.abs(c.Db),H=Math.abs(c.lb),ie=H*(I-1)+E;h&=B*(I-1)+E<=c.Fd,h&=z*(re-1)+O<=c.Cd,h=(h&=ge*(re-1)+O<=c.Ed)&B>=E&z>=O&ge>=O,h&=c.y!=null,h&=c.f!=null,h&=c.ea!=null,L==12&&(h&=H>=E,h&=ie<=c.Tc,h&=c.F!=null)}else h=0;c=h?0:2}}return c!=0||x!=null&&x.fd&&(c=oo(v)),c}var Wi=64,Pn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],En=24,ci=32,Us=8,di=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(c){return c},N.Predictor2=function(c,h,x){return h[x+0]},N.Predictor3=function(c,h,x){return h[x+1]},N.Predictor4=function(c,h,x){return h[x-1]},N.Predictor5=function(c,h,x){return He(He(c,h[x+1]),h[x+0])},N.Predictor6=function(c,h,x){return He(c,h[x-1])},N.Predictor7=function(c,h,x){return He(c,h[x+0])},N.Predictor8=function(c,h,x){return He(h[x-1],h[x+0])},N.Predictor9=function(c,h,x){return He(h[x+0],h[x+1])},N.Predictor10=function(c,h,x){return He(He(c,h[x-1]),He(h[x+0],h[x+1]))},N.Predictor11=function(c,h,x){var v=h[x+0];return 0>=qe(v>>24&255,c>>24&255,(h=h[x-1])>>24&255)+qe(v>>16&255,c>>16&255,h>>16&255)+qe(v>>8&255,c>>8&255,h>>8&255)+qe(255&v,255&c,255&h)?v:c},N.Predictor12=function(c,h,x){var v=h[x+0];return(ot((c>>24&255)+(v>>24&255)-((h=h[x-1])>>24&255))<<24|ot((c>>16&255)+(v>>16&255)-(h>>16&255))<<16|ot((c>>8&255)+(v>>8&255)-(h>>8&255))<<8|ot((255&c)+(255&v)-(255&h)))>>>0},N.Predictor13=function(c,h,x){var v=h[x-1];return(We((c=He(c,h[x+0]))>>24&255,v>>24&255)<<24|We(c>>16&255,v>>16&255)<<16|We(c>>8&255,v>>8&255)<<8|We(255&c,255&v))>>>0};var lo=N.PredictorAdd0;N.PredictorAdd1=Be,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var va=N.PredictorAdd2;Ue("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Ue("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var jr,hl=N.ColorIndexInverseTransform,ms=N.MapARGB,gs=N.VP8LColorIndexInverseTransformAlpha,co=N.MapAlpha,uo=N.VP8LPredictorsAdd=[];uo.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var ho,fo,ui,hi,fi,$i,pi,Vi,Vn,xs,Vt,Qt,_r,Mr,zs,po,ya,fl,Bu,qu,Uu,zu,Hu,Wu,mo,$u,Vu,Gu,Yu=a(511),Ku=a(2041),Xu=a(225),Ju=a(767),Zu=0,Jc=Ku,pl=Xu,Fn=Ju,Gn=Yu,ml=0,gl=1,Qu=2,xl=3,bl=4,Zc=5,eh=6,Qc=7,ed=8,vl=9,td=10,w0=[2,3,7],N0=[3,3,11],th=[280,256,256,256,40],j0=[0,1,1,1,0],_0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],S0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],k0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],A0=8,rd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],nd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],go=null,L0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],C0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],P0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],E0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],F0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],I0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],mi=[],ts=[],Hs=[],T0=1,nh=2,gi=[],Yn=[];Bs("UpsampleRgbLinePair",oi,3),Bs("UpsampleBgrLinePair",Yr,3),Bs("UpsampleRgbaLinePair",hn,4),Bs("UpsampleBgraLinePair",io,4),Bs("UpsampleArgbLinePair",so,4),Bs("UpsampleRgba4444LinePair",zi,2),Bs("UpsampleRgb565LinePair",Ui,2);var O0=N.UpsampleRgbLinePair,R0=N.UpsampleBgrLinePair,sh=N.UpsampleRgbaLinePair,ih=N.UpsampleBgraLinePair,ah=N.UpsampleArgbLinePair,oh=N.UpsampleRgba4444LinePair,D0=N.UpsampleRgb565LinePair,yl=16,wl=1<<yl-1,xo=-227,sd=482,M0=6,lh=0,B0=a(256),q0=a(256),U0=a(256),z0=a(256),H0=a(sd-xo),W0=a(sd-xo);qs("YuvToRgbRow",oi,3),qs("YuvToBgrRow",Yr,3),qs("YuvToRgbaRow",hn,4),qs("YuvToBgraRow",io,4),qs("YuvToArgbRow",so,4),qs("YuvToRgba4444Row",zi,2),qs("YuvToRgb565Row",Ui,2);var ch=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nl=[0,2,8],$0=[8,7,6,4,4,2,2,2,1,1,1,1],V0=1;this.WebPDecodeRGBA=function(c,h,x,v,L){var E=gl,I=new _e,O=new pt;I.ba=O,O.S=E,O.width=[O.width],O.height=[O.height];var B=O.width,z=O.height,re=new Ze;if(re==null||c==null)var ge=2;else e(re!=null),ge=Hi(c,h,x,re.width,re.height,re.Pd,re.Qd,re.format,null);if(ge!=0?B=0:(B!=null&&(B[0]=re.width[0]),z!=null&&(z[0]=re.height[0]),B=1),B){O.width=O.width[0],O.height=O.height[0],v!=null&&(v[0]=O.width),L!=null&&(L[0]=O.height);e:{if(v=new ha,(L=new Le).data=c,L.w=h,L.ha=x,L.kd=1,h=[0],e(L!=null),((c=Hi(L.data,L.w,L.ha,null,null,null,h,null,L))==0||c==7)&&h[0]&&(c=4),(h=c)==0){if(e(I!=null),v.data=L.data,v.w=L.w+L.offset,v.ha=L.ha-L.offset,v.put=Ee,v.ac=dt,v.bc=_t,v.ma=I,L.xa){if((c=wr())==null){I=1;break e}if((function(H,ie){var he=[0],ye=[0],me=[0];t:for(;;){if(H==null)return 0;if(ie==null)return H.a=2,0;if(H.l=ie,H.a=0,ee(H.m,ie.data,ie.w,ie.ha),!Oe(H.m,he,ye,me)){H.a=3;break t}if(H.xb=nh,ie.width=he[0],ie.height=ye[0],!Nr(he[0],ye[0],1,H,null))break t;return 1}return e(H.a!=0),0})(c,v)){if(v=(h=li(v.width,v.height,I.Oa,I.ba))==0){t:{v=c;r:for(;;){if(v==null){v=0;break t}if(e(v.s.yc!=null),e(v.s.Ya!=null),e(0<v.s.Wb),e((x=v.l)!=null),e((L=x.ma)!=null),v.xb!=0){if(v.ca=L.ba,v.tb=L.tb,e(v.ca!=null),!ao(L.Oa,x,xl)){v.a=2;break r}if(!or(v,x.width)||x.da)break r;if((x.da||Te(v.ca.S))&&es(),11>v.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),v.ca.f.kb.F!=null&&es()),v.Pb&&0<v.s.ua&&v.s.vb.X==null&&!R(v.s.vb,v.s.Wa.Xa)){v.a=1;break r}v.xb=0}if(!pr(v,v.V,v.Ba,v.c,v.i,x.o,ar))break r;L.Dc=v.Ma,v=1;break t}e(v.a!=0),v=0}v=!v}v&&(h=c.a)}else h=c.a}else{if((c=new Rc)==null){I=1;break e}if(c.Fa=L.na,c.P=L.P,c.qc=L.Sa,fs(c,v)){if((h=li(v.width,v.height,I.Oa,I.ba))==0){if(c.Aa=0,x=I.Oa,e((L=c)!=null),x!=null){if(0<(B=0>(B=x.Md)?0:100<B?255:255*B/100)){for(z=re=0;4>z;++z)12>(ge=L.pb[z]).lc&&(ge.ia=B*$0[0>ge.lc?0:ge.lc]>>3),re|=ge.ia;re&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=x.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}(function(H,ie){if(H==null)return 0;if(ie==null)return Fr(H,2,"NULL VP8Io parameter in VP8Decode().");if(!H.cb&&!fs(H,ie))return 0;if(e(H.cb),ie.ac==null||ie.ac(ie)){ie.ob&&(H.L=0);var he=Nl[H.L];if(H.L==2?(H.yb=0,H.zb=0):(H.yb=ie.v-he>>4,H.zb=ie.j-he>>4,0>H.yb&&(H.yb=0),0>H.zb&&(H.zb=0)),H.Va=ie.o+15+he>>4,H.Hb=ie.va+15+he>>4,H.Hb>H.za&&(H.Hb=H.za),H.Va>H.Ub&&(H.Va=H.Ub),0<H.L){var ye=H.ed;for(he=0;4>he;++he){var me;if(H.Qa.Cb){var je=H.Qa.Lb[he];H.Qa.Fb||(je+=ye.Tb)}else je=ye.Tb;for(me=0;1>=me;++me){var Se=H.gd[he][me],Fe=je;if(ye.Pc&&(Fe+=ye.vd[0],me&&(Fe+=ye.od[0])),0<(Fe=0>Fe?0:63<Fe?63:Fe)){var Ce=Fe;0<ye.wb&&(Ce=4<ye.wb?Ce>>2:Ce>>1)>9-ye.wb&&(Ce=9-ye.wb),1>Ce&&(Ce=1),Se.dd=Ce,Se.tc=2*Fe+Ce,Se.ld=40<=Fe?2:15<=Fe?1:0}else Se.tc=0;Se.La=me}}}he=0}else Fr(H,6,"Frame setup failed"),he=H.a;if(he=he==0){if(he){H.$c=0,0<H.Aa||(H.Ic=V0);t:{he=H.Ic,ye=4*(Ce=H.za);var nt=32*Ce,Ge=Ce+1,St=0<H.L?Ce*(0<H.Aa?2:1):0,Qe=(H.Aa==2?2:1)*Ce;if((Se=ye+832+(me=3*(16*he+Nl[H.L])/2*nt)+(je=H.Fa!=null&&0<H.Fa.length?H.Kc.c*H.Kc.i:0))!=Se)he=0;else{if(Se>H.Vb){if(H.Vb=0,H.Ec=a(Se),H.Fc=0,H.Ec==null){he=Fr(H,1,"no memory during frame initialization.");break t}H.Vb=Se}Se=H.Ec,Fe=H.Fc,H.Ac=Se,H.Bc=Fe,Fe+=ye,H.Gd=l(nt,Ps),H.Hd=0,H.rb=l(Ge+1,ii),H.sb=1,H.wa=St?l(St,Qr):null,H.Y=0,H.D.Nb=0,H.D.wa=H.wa,H.D.Y=H.Y,0<H.Aa&&(H.D.Y+=Ce),e(!0),H.oc=Se,H.pc=Fe,Fe+=832,H.ya=l(Qe,en),H.aa=0,H.D.ya=H.ya,H.D.aa=H.aa,H.Aa==2&&(H.D.aa+=Ce),H.R=16*Ce,H.B=8*Ce,Ce=(nt=Nl[H.L])*H.R,nt=nt/2*H.B,H.sa=Se,H.ta=Fe+Ce,H.qa=H.sa,H.ra=H.ta+16*he*H.R+nt,H.Ha=H.qa,H.Ia=H.ra+8*he*H.B+nt,H.$c=0,Fe+=me,H.mb=je?Se:null,H.nb=je?Fe:null,e(Fe+je<=H.Fc+H.Vb),tl(H),i(H.Ac,H.Bc,0,ye),he=1}}if(he){if(ie.ka=0,ie.y=H.sa,ie.O=H.ta,ie.f=H.qa,ie.N=H.ra,ie.ea=H.Ha,ie.Vd=H.Ia,ie.fa=H.R,ie.Rc=H.B,ie.F=null,ie.J=0,!Zu){for(he=-255;255>=he;++he)Yu[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)Ku[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)Xu[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)Ju[255+he]=0>he?0:255<he?255:he;Zu=1}pi=pa,Vi=Mc,xs=ps,Vt=nl,Qt=sl,Vn=Dc,_r=cl,Mr=Mi,zs=A,po=$,ya=dl,fl=m,Bu=Q,qu=de,Uu=Di,zu=ro,Hu=ol,Wu=ll,ts[0]=Vc,ts[1]=Bc,ts[2]=Wc,ts[3]=$c,ts[4]=Fs,ts[5]=Gc,ts[6]=Is,ts[7]=Yc,ts[8]=Ja,ts[9]=ma,mi[0]=zc,mi[1]=Uc,mi[2]=Ka,mi[3]=il,mi[4]=Oi,mi[5]=Xa,mi[6]=Hc,Hs[0]=Xc,Hs[1]=qc,Hs[2]=Ri,Hs[3]=Kc,Hs[4]=Qa,Hs[5]=Za,Hs[6]=al,he=1}else he=0}he&&(he=(function(Bt,Br){for(Bt.M=0;Bt.M<Bt.Va;++Bt.M){var kt,et=Bt.Jc[Bt.M&Bt.Xb],Re=Bt.m,Sr=Bt;for(kt=0;kt<Sr.za;++kt){var Nt=Re,zt=Sr,lr=zt.Ac,Kr=zt.Bc+4*kt,fn=zt.zc,br=zt.ya[zt.aa+kt];if(zt.Qa.Bb?br.$b=be(Nt,zt.Pa.jb[0])?2+be(Nt,zt.Pa.jb[2]):be(Nt,zt.Pa.jb[1]):br.$b=0,zt.kc&&(br.Ad=be(Nt,zt.Bd)),br.Za=!be(Nt,145)+0,br.Za){var tn=br.Ob,pn=0;for(zt=0;4>zt;++zt){var qr,Wt=fn[0+zt];for(qr=0;4>qr;++qr){Wt=E0[lr[Kr+qr]][Wt];for(var Kt=rh[be(Nt,Wt[0])];0<Kt;)Kt=rh[2*Kt+be(Nt,Wt[Kt])];Wt=-Kt,lr[Kr+qr]=Wt}n(tn,pn,lr,Kr,4),pn+=4,fn[0+zt]=Wt}}else Wt=be(Nt,156)?be(Nt,128)?1:3:be(Nt,163)?2:0,br.Ob[0]=Wt,i(lr,Kr,Wt,4),i(fn,0,Wt,4);br.Dd=be(Nt,142)?be(Nt,114)?be(Nt,183)?1:3:2:0}if(Sr.m.Ka)return Fr(Bt,7,"Premature end-of-partition0 encountered.");for(;Bt.ja<Bt.za;++Bt.ja){if(Sr=et,Nt=(Re=Bt).rb[Re.sb-1],lr=Re.rb[Re.sb+Re.ja],kt=Re.ya[Re.aa+Re.ja],Kr=Re.kc?kt.Ad:0)Nt.la=lr.la=0,kt.Za||(Nt.Na=lr.Na=0),kt.Hc=0,kt.Gc=0,kt.ia=0;else{var vr,Xt;if(Nt=lr,lr=Sr,Kr=Re.Pa.Xc,fn=Re.ya[Re.aa+Re.ja],br=Re.pb[fn.$b],zt=fn.ad,tn=0,pn=Re.rb[Re.sb-1],Wt=qr=0,i(zt,tn,0,384),fn.Za)var Xr=0,rs=Kr[3];else{Kt=a(16);var kr=Nt.Na+pn.Na;if(kr=go(lr,Kr[1],kr,br.Eb,0,Kt,0),Nt.Na=pn.Na=(0<kr)+0,1<kr)pi(Kt,0,zt,tn);else{var _n=Kt[0]+3>>3;for(Kt=0;256>Kt;Kt+=16)zt[tn+Kt]=_n}Xr=1,rs=Kr[0]}var er=15&Nt.la,Ur=15&pn.la;for(Kt=0;4>Kt;++Kt){var In=1&Ur;for(_n=Xt=0;4>_n;++_n)er=er>>1|(In=(kr=go(lr,rs,kr=In+(1&er),br.Sc,Xr,zt,tn))>Xr)<<7,Xt=Xt<<2|(3<kr?3:1<kr?2:zt[tn+0]!=0),tn+=16;er>>=4,Ur=Ur>>1|In<<7,qr=(qr<<8|Xt)>>>0}for(rs=er,Xr=Ur>>4,vr=0;4>vr;vr+=2){for(Xt=0,er=Nt.la>>4+vr,Ur=pn.la>>4+vr,Kt=0;2>Kt;++Kt){for(In=1&Ur,_n=0;2>_n;++_n)kr=In+(1&er),er=er>>1|(In=0<(kr=go(lr,Kr[2],kr,br.Qc,0,zt,tn)))<<3,Xt=Xt<<2|(3<kr?3:1<kr?2:zt[tn+0]!=0),tn+=16;er>>=2,Ur=Ur>>1|In<<5}Wt|=Xt<<4*vr,rs|=er<<4<<vr,Xr|=(240&Ur)<<vr}Nt.la=rs,pn.la=Xr,fn.Hc=qr,fn.Gc=Wt,fn.ia=43690&Wt?0:br.ia,Kr=!(qr|Wt)}if(0<Re.L&&(Re.wa[Re.Y+Re.ja]=Re.gd[kt.$b][kt.Za],Re.wa[Re.Y+Re.ja].La|=!Kr),Sr.Ka)return Fr(Bt,7,"Premature end-of-file encountered.")}if(tl(Bt),Re=Br,Sr=1,kt=(et=Bt).D,Nt=0<et.L&&et.M>=et.zb&&et.M<=et.Va,et.Aa==0)t:{if(kt.M=et.M,kt.uc=Nt,$n(et,kt),Sr=1,kt=(Xt=et.D).Nb,Nt=(Wt=Nl[et.L])*et.R,lr=Wt/2*et.B,Kt=16*kt*et.R,_n=8*kt*et.B,Kr=et.sa,fn=et.ta-Nt+Kt,br=et.qa,zt=et.ra-lr+_n,tn=et.Ha,pn=et.Ia-lr+_n,Ur=(er=Xt.M)==0,qr=er>=et.Va-1,et.Aa==2&&$n(et,Xt),Xt.uc)for(In=(kr=et).D.M,e(kr.D.uc),Xt=kr.yb;Xt<kr.Hb;++Xt){Xr=Xt,rs=In;var mn=(Tn=(Jr=kr).D).Nb;vr=Jr.R;var Tn=Tn.wa[Tn.Y+Xr],On=Jr.sa,Sn=Jr.ta+16*mn*vr+16*Xr,Rn=Tn.dd,sr=Tn.tc;if(sr!=0)if(e(3<=sr),Jr.L==1)0<Xr&&zu(On,Sn,vr,sr+4),Tn.La&&Wu(On,Sn,vr,sr),0<rs&&Uu(On,Sn,vr,sr+4),Tn.La&&Hu(On,Sn,vr,sr);else{var Dn=Jr.B,ns=Jr.qa,Gi=Jr.ra+8*mn*Dn+8*Xr,Ws=Jr.Ha,Jr=Jr.Ia+8*mn*Dn+8*Xr;mn=Tn.ld,0<Xr&&(Mr(On,Sn,vr,sr+4,Rn,mn),po(ns,Gi,Ws,Jr,Dn,sr+4,Rn,mn)),Tn.La&&(fl(On,Sn,vr,sr,Rn,mn),qu(ns,Gi,Ws,Jr,Dn,sr,Rn,mn)),0<rs&&(_r(On,Sn,vr,sr+4,Rn,mn),zs(ns,Gi,Ws,Jr,Dn,sr+4,Rn,mn)),Tn.La&&(ya(On,Sn,vr,sr,Rn,mn),Bu(ns,Gi,Ws,Jr,Dn,sr,Rn,mn))}}if(et.ia&&alert("todo:DitherRow"),Re.put!=null){if(Xt=16*er,er=16*(er+1),Ur?(Re.y=et.sa,Re.O=et.ta+Kt,Re.f=et.qa,Re.N=et.ra+_n,Re.ea=et.Ha,Re.W=et.Ia+_n):(Xt-=Wt,Re.y=Kr,Re.O=fn,Re.f=br,Re.N=zt,Re.ea=tn,Re.W=pn),qr||(er-=Wt),er>Re.o&&(er=Re.o),Re.F=null,Re.J=null,et.Fa!=null&&0<et.Fa.length&&Xt<er&&(Re.J=nr(et,Re,Xt,er-Xt),Re.F=et.mb,Re.F==null&&Re.F.length==0)){Sr=Fr(et,3,"Could not decode alpha data.");break t}Xt<Re.j&&(Wt=Re.j-Xt,Xt=Re.j,e(!(1&Wt)),Re.O+=et.R*Wt,Re.N+=et.B*(Wt>>1),Re.W+=et.B*(Wt>>1),Re.F!=null&&(Re.J+=Re.width*Wt)),Xt<er&&(Re.O+=Re.v,Re.N+=Re.v>>1,Re.W+=Re.v>>1,Re.F!=null&&(Re.J+=Re.v),Re.ka=Xt-Re.j,Re.U=Re.va-Re.v,Re.T=er-Xt,Sr=Re.put(Re))}kt+1!=et.Ic||qr||(n(et.sa,et.ta-Nt,Kr,fn+16*et.R,Nt),n(et.qa,et.ra-lr,br,zt+8*et.B,lr),n(et.Ha,et.Ia-lr,tn,pn+8*et.B,lr))}if(!Sr)return Fr(Bt,6,"Output aborted.")}return 1})(H,ie)),ie.bc!=null&&ie.bc(ie),he&=1}return he?(H.cb=0,he):0})(c,v)||(h=c.a)}}else h=c.a}h==0&&I.Oa!=null&&I.Oa.fd&&(h=oo(I.ba))}I=h}E=I!=0?null:11>E?O.f.RGBA.eb:O.f.kb.y}else E=null;return E};var dh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(N,T){for(var S="",C=0;C<4;C++)S+=String.fromCharCode(N[T++]);return S}function p(N,T){return N[T+0]|N[T+1]<<8}function g(N,T){return(N[T+0]|N[T+1]<<8|N[T+2]<<16)>>>0}function b(N,T){return(N[T+0]|N[T+1]<<8|N[T+2]<<16|N[T+3]<<24)>>>0}new d;var f=[0],y=[0],j=[],_=new d,w=r,U=(function(N,T){var S={},C=0,W=!1,G=0,le=0;if(S.frames=[],!(function(P,M){for(var Y=0;Y<4;Y++)if(P[M+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(N,T)){for(b(N,T+=4),T+=8;T<N.length;){var fe=u(N,T),ne=b(N,T+=4);T+=4;var q=ne+(1&ne);switch(fe){case"VP8 ":case"VP8L":S.frames[C]===void 0&&(S.frames[C]={}),(pe=S.frames[C]).src_off=W?le:T-8,pe.src_size=G+ne+8,C++,W&&(W=!1,G=0,le=0);break;case"VP8X":(pe=S.header={}).feature_flags=N[T];var ee=T+4;pe.canvas_width=1+g(N,ee),ee+=3,pe.canvas_height=1+g(N,ee),ee+=3;break;case"ALPH":W=!0,G=q+8,le=T-8;break;case"ANIM":(pe=S.header).bgcolor=b(N,T),ee=T+4,pe.loop_count=p(N,ee),ee+=2;break;case"ANMF":var V,pe;(pe=S.frames[C]={}).offset_x=2*g(N,T),T+=3,pe.offset_y=2*g(N,T),T+=3,pe.width=1+g(N,T),T+=3,pe.height=1+g(N,T),T+=3,pe.duration=g(N,T),T+=3,V=N[T++],pe.dispose=1&V,pe.blend=V>>1&1}fe!="ANMF"&&(T+=q)}return S}})(w,0);U.response=w,U.rgbaoutput=!0,U.dataurl=!1;var D=U.header?U.header:null,F=U.frames?U.frames:null;if(D){D.loop_counter=D.loop_count,f=[D.canvas_height],y=[D.canvas_width];for(var te=0;te<F.length&&F[te].blend!=0;te++);}var X=F[0],K=_.WebPDecodeRGBA(w,X.src_off,X.src_size,y,f);X.rgba=K,X.imgwidth=y[0],X.imgheight=f[0];for(var k=0;k<y[0]*f[0]*4;k++)j[k]=K[k];return this.width=y,this.height=f,this.data=j,this}(function(r){var e,t,n,i,a,l,o,d,u,p=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new d,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new l,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new l,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,d=this.internal.Matrix,u=new p}]);var g=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=P;Object.defineProperty(this,"pdf",{get:function(){return M}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(R){Y=!!R}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(R){J=!!R}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(R){isNaN(R)||(Z=R)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(R){isNaN(R)||(se=R)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(R){var Ne;typeof R=="number"?Ne=[R,R,R,R]:((Ne=new Array(4))[0]=R[0],Ne[1]=R.length>=2?R[1]:Ne[0],Ne[2]=R.length>=3?R[2]:Ne[0],Ne[3]=R.length>=4?R[3]:Ne[1]),u.margin=Ne}});var ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ae},set:function(R){ae=R}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(R){ce=R}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(R){be=R}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(R){R instanceof p&&(u=R)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(R){u.path=R}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(R){xe=R}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(R){var Ne;Ne=b(R),this.ctx.fillStyle=Ne.style,this.ctx.isFillTransparent=Ne.a===0,this.ctx.fillOpacity=Ne.a,this.pdf.setFillColor(Ne.r,Ne.g,Ne.b,{a:Ne.a}),this.pdf.setTextColor(Ne.r,Ne.g,Ne.b,{a:Ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(R){var Ne=b(R);this.ctx.strokeStyle=Ne.style,this.ctx.isStrokeTransparent=Ne.a===0,this.ctx.strokeOpacity=Ne.a,Ne.a===0?this.pdf.setDrawColor(255,255,255):(Ne.a,this.pdf.setDrawColor(Ne.r,Ne.g,Ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(R){["butt","round","square"].indexOf(R)!==-1&&(this.ctx.lineCap=R,this.pdf.setLineCap(R))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(R){isNaN(R)||(this.ctx.lineWidth=R,this.pdf.setLineWidth(R))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(R){["bevel","round","miter"].indexOf(R)!==-1&&(this.ctx.lineJoin=R,this.pdf.setLineJoin(R))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(R){isNaN(R)||(this.ctx.miterLimit=R,this.pdf.setMiterLimit(R))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(R){this.ctx.textBaseline=R}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(R){["right","end","center","left","start"].indexOf(R)!==-1&&(this.ctx.textAlign=R)}});var ke=null,we=null,Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(R){ke=null,we=null,Pe=R}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(R){var Ne;if(this.ctx.font=R,(Ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(R))!==null){var oe=Ne[1];Ne[2];var Ae=Ne[3],ve=Ne[4];Ne[5];var ze=Ne[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ve)[2];ve=Math.floor(Ie==="px"?parseFloat(ve)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(ve)*this.pdf.getFontSize():parseFloat(ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ve);var Me=(function(Ue){var ct,yt,ht=[],gt=Ue.trim();if(gt==="")return qd;if(gt in Xf)return[Xf[gt]];for(;gt!=="";){switch(yt=null,ct=(gt=Zf(gt)).charAt(0)){case'"':case"'":yt=lb(gt.substring(1),ct);break;default:yt=cb(gt)}if(yt===null||(ht.push(yt[0]),(gt=Zf(yt[1]))!==""&&gt.charAt(0)!==","))return qd;gt=gt.replace(/^,/,"")}return ht})(ze);if(this.fontFaces){var He=(function(Ue,ct){var yt=Ue.getFontList(),ht=JSON.stringify(yt);if(ke===null||we!==ht){var gt=(function($t){var Je=[];return Object.keys($t).forEach(function(qt){$t[qt].forEach(function(Te){var ft=null;switch(Te){case"bold":ft={family:qt,weight:"bold"};break;case"italic":ft={family:qt,style:"italic"};break;case"bolditalic":ft={family:qt,weight:"bold",style:"italic"};break;case"":case"normal":ft={family:qt}}ft!==null&&(ft.ref={name:qt,style:Te},Je.push(ft))})}),Je})(yt);ke=(function($t){for(var Je={},qt=0;qt<$t.length;++qt){var Te=Bd($t[qt]),ft=Te.family,Ot=Te.stretch,pt=Te.style,Ze=Te.weight;Je[ft]=Je[ft]||{},Je[ft][Ot]=Je[ft][Ot]||{},Je[ft][Ot][pt]=Je[ft][Ot][pt]||{},Je[ft][Ot][pt][Ze]=Te}return Je})(gt.concat(ct)),we=ht}return ke})(this.pdf,this.fontFaces),ot=Me.map(function(Ue){return{family:Ue,stretch:"normal",weight:Ae,style:oe}}),We=(function(Ue,ct,yt){for(var ht=(yt=yt||{}).defaultFontFamily||"times",gt=Object.assign({},ob,yt.genericFontFamilies||{}),$t=null,Je=null,qt=0;qt<ct.length;++qt)if(gt[($t=Bd(ct[qt])).family]&&($t.family=gt[$t.family]),Ue.hasOwnProperty($t.family)){Je=Ue[$t.family];break}if(!(Je=Je||Ue[ht]))throw new Error("Could not find a font-family for the rule '"+Jf($t)+"' and default family '"+ht+"'.");if(Je=(function(Te,ft){if(ft[Te])return ft[Te];var Ot=mu[Te],pt=Ot<=mu.normal?-1:1,Ze=Kf(ft,t0,Ot,pt);if(!Ze)throw new Error("Could not find a matching font-stretch value for "+Te);return Ze})($t.stretch,Je),Je=(function(Te,ft){if(ft[Te])return ft[Te];for(var Ot=e0[Te],pt=0;pt<Ot.length;++pt)if(ft[Ot[pt]])return ft[Ot[pt]];throw new Error("Could not find a matching font-style for "+Te)})($t.style,Je),!(Je=(function(Te,ft){if(ft[Te])return ft[Te];if(Te===400&&ft[500])return ft[500];if(Te===500&&ft[400])return ft[400];var Ot=ab[Te],pt=Kf(ft,r0,Ot,Te<400?-1:1);if(!pt)throw new Error("Could not find a matching font-weight for value "+Te);return pt})($t.weight,Je)))throw new Error("Failed to resolve a font for the rule '"+Jf($t)+"'.");return Je})(He,ot);this.pdf.setFont(We.ref.name,We.ref.style)}else{var qe="";(Ae==="bold"||parseInt(Ae,10)>=700||oe==="bold")&&(qe="bold"),oe==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var Be="",rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},De=0;De<Me.length;De++){if(this.pdf.internal.getFont(Me[De],qe,{noFallback:!0,disableWarning:!0})!==void 0){Be=Me[De];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(Me[De],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Be=Me[De],qe="bold";else if(this.pdf.internal.getFont(Me[De],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Be=Me[De],qe="normal";break}}if(Be===""){for(var lt=0;lt<Me.length;lt++)if(rt[Me[lt]]){Be=rt[Me[lt]];break}}Be=Be===""?"Times":Be,this.pdf.setFont(Be,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(R){this.ctx.globalCompositeOperation=R}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(R){this.ctx.globalAlpha=R}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(R){this.ctx.lineDashOffset=R,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(R){this.ctx.lineDash=R,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(R){this.ctx.ignoreClearRect=!!R}})};g.prototype.setLineDash=function(P){this.lineDash=P},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){F.call(this,"fill",!1)},g.prototype.stroke=function(){F.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(P,M){if(isNaN(P)||isNaN(M))throw tr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new l(P,M));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new l(P,M)},g.prototype.closePath=function(){var P=new l(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&Zt(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){P=new l(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(P.x,P.y)},g.prototype.lineTo=function(P,M){if(isNaN(P)||isNaN(M))throw tr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new l(P,M));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new l(Y.x,Y.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},g.prototype.quadraticCurveTo=function(P,M,Y,J){if(isNaN(Y)||isNaN(J)||isNaN(P)||isNaN(M))throw tr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new l(Y,J)),se=this.ctx.transform.applyToPoint(new l(P,M));this.path.push({type:"qct",x1:se.x,y1:se.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new l(Z.x,Z.y)},g.prototype.bezierCurveTo=function(P,M,Y,J,Z,se){if(isNaN(Z)||isNaN(se)||isNaN(P)||isNaN(M)||isNaN(Y)||isNaN(J))throw tr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ae=this.ctx.transform.applyToPoint(new l(Z,se)),ce=this.ctx.transform.applyToPoint(new l(P,M)),be=this.ctx.transform.applyToPoint(new l(Y,J));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:be.x,y2:be.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new l(ae.x,ae.y)},g.prototype.arc=function(P,M,Y,J,Z,se){if(isNaN(P)||isNaN(M)||isNaN(Y)||isNaN(J)||isNaN(Z))throw tr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var ae=this.ctx.transform.applyToPoint(new l(P,M));P=ae.x,M=ae.y;var ce=this.ctx.transform.applyToPoint(new l(0,Y)),be=this.ctx.transform.applyToPoint(new l(0,0));Y=Math.sqrt(Math.pow(ce.x-be.x,2)+Math.pow(ce.y-be.y,2))}Math.abs(Z-J)>=2*Math.PI&&(J=0,Z=2*Math.PI),this.path.push({type:"arc",x:P,y:M,radius:Y,startAngle:J,endAngle:Z,counterclockwise:se})},g.prototype.arcTo=function(P,M,Y,J,Z){throw new Error("arcTo not implemented.")},g.prototype.rect=function(P,M,Y,J){if(isNaN(P)||isNaN(M)||isNaN(Y)||isNaN(J))throw tr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,M),this.lineTo(P+Y,M),this.lineTo(P+Y,M+J),this.lineTo(P,M+J),this.lineTo(P,M),this.lineTo(P+Y,M),this.lineTo(P,M)},g.prototype.fillRect=function(P,M,Y,J){if(isNaN(P)||isNaN(M)||isNaN(Y)||isNaN(J))throw tr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,M,Y,J),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},g.prototype.strokeRect=function(P,M,Y,J){if(isNaN(P)||isNaN(M)||isNaN(Y)||isNaN(J))throw tr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(P,M,Y,J),this.stroke())},g.prototype.clearRect=function(P,M,Y,J){if(isNaN(P)||isNaN(M)||isNaN(Y)||isNaN(J))throw tr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,M,Y,J))},g.prototype.save=function(P){P=typeof P!="boolean"||P;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},g.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(M),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(P){var M,Y,J,Z;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))M=0,Y=0,J=0,Z=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(se!==null)M=parseInt(se[1]),Y=parseInt(se[2]),J=parseInt(se[3]),Z=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)M=parseInt(se[1]),Y=parseInt(se[2]),J=parseInt(se[3]),Z=parseFloat(se[4]);else{if(Z=1,typeof P=="string"&&P.charAt(0)!=="#"){var ae=new Gm(P);P=ae.ok?ae.toHex():"#000000"}P.length===4?(M=P.substring(1,2),M+=M,Y=P.substring(2,3),Y+=Y,J=P.substring(3,4),J+=J):(M=P.substring(1,3),Y=P.substring(3,5),J=P.substring(5,7)),M=parseInt(M,16),Y=parseInt(Y,16),J=parseInt(J,16)}}return{r:M,g:Y,b:J,a:Z,style:P}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(P,M,Y,J){if(isNaN(M)||isNaN(Y)||typeof P!="string")throw tr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!f.call(this)){var Z=q(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;C.call(this,{text:P,x:M,y:Y,scale:se,angle:Z,align:this.textAlign,maxWidth:J})}},g.prototype.strokeText=function(P,M,Y,J){if(isNaN(M)||isNaN(Y)||typeof P!="string")throw tr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){J=isNaN(J)?void 0:J;var Z=q(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;C.call(this,{text:P,x:M,y:Y,scale:se,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:J})}},g.prototype.measureText=function(P){if(typeof P!="string")throw tr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,Y=this.pdf.internal.scaleFactor,J=M.internal.getFontSize(),Z=M.getStringUnitWidth(P)*J/M.internal.scaleFactor;return new function(se){var ae=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this}({width:Z*=Math.round(96*Y/72*1e4)/1e4})},g.prototype.scale=function(P,M){if(isNaN(P)||isNaN(M))throw tr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new d(P,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},g.prototype.rotate=function(P){if(isNaN(P))throw tr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new d(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},g.prototype.translate=function(P,M){if(isNaN(P)||isNaN(M))throw tr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new d(1,0,0,1,P,M);this.ctx.transform=this.ctx.transform.multiply(Y)},g.prototype.transform=function(P,M,Y,J,Z,se){if(isNaN(P)||isNaN(M)||isNaN(Y)||isNaN(J)||isNaN(Z)||isNaN(se))throw tr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ae=new d(P,M,Y,J,Z,se);this.ctx.transform=this.ctx.transform.multiply(ae)},g.prototype.setTransform=function(P,M,Y,J,Z,se){P=isNaN(P)?1:P,M=isNaN(M)?0:M,Y=isNaN(Y)?0:Y,J=isNaN(J)?1:J,Z=isNaN(Z)?0:Z,se=isNaN(se)?0:se,this.ctx.transform=new d(P,M,Y,J,Z,se)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(P,M,Y,J,Z,se,ae,ce,be){var xe=this.pdf.getImageProperties(P),ke=1,we=1,Pe=1,R=1;J!==void 0&&ce!==void 0&&(Pe=ce/J,R=be/Z,ke=xe.width/J*ce/J,we=xe.height/Z*be/Z),se===void 0&&(se=M,ae=Y,M=0,Y=0),J!==void 0&&ce===void 0&&(ce=J,be=Z),J===void 0&&ce===void 0&&(ce=xe.width,be=xe.height);var Ne=this.ctx.transform.decompose(),oe=q(Ne.rotate.shx),Ae=new d,ve=(Ae=(Ae=(Ae=Ae.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale)).applyToRectangle(new o(se-M*Pe,ae-Y*R,J*ke,Z*we));if(this.autoPaging){for(var ze,Ie=_.call(this,ve),Me=[],He=0;He<Ie.length;He+=1)Me.indexOf(Ie[He])===-1&&Me.push(Ie[He]);D(Me);for(var ot=Me[0],We=Me[Me.length-1],qe=ot;qe<We+1;qe++){this.pdf.setPage(qe);var Be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=qe===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=qe===1?0:De+(qe-2)*lt;if(this.ctx.clip_path.length!==0){var ct=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(ze,this.posX+this.margin[3],-Ue+rt+this.ctx.prevPageLastElemOffset),te.call(this,"fill",!0),this.path=ct}var yt=JSON.parse(JSON.stringify(ve));yt=U([yt],this.posX+this.margin[3],-Ue+rt+this.ctx.prevPageLastElemOffset)[0];var ht=(qe>ot||qe<We)&&j.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,lt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,oe),ht&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",ve.x,ve.y,ve.w,ve.h,null,null,oe)};var _=function(P,M,Y){var J=[];M=M||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":J.push(Math.floor((P.y+Z)/Y)+1);break;case"arc":J.push(Math.floor((P.y+Z-P.radius)/Y)+1),J.push(Math.floor((P.y+Z+P.radius)/Y)+1);break;case"qct":var se=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);J.push(Math.floor((se.y+Z)/Y)+1),J.push(Math.floor((se.y+se.h+Z)/Y)+1);break;case"bct":var ae=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);J.push(Math.floor((ae.y+Z)/Y)+1),J.push(Math.floor((ae.y+ae.h+Z)/Y)+1);break;case"rect":J.push(Math.floor((P.y+Z)/Y)+1),J.push(Math.floor((P.y+P.h+Z)/Y)+1)}for(var ce=0;ce<J.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<J[ce];)w.call(this);return J},w=function(){var P=this.fillStyle,M=this.strokeStyle,Y=this.font,J=this.lineCap,Z=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=M,this.font=Y,this.lineCap=J,this.lineWidth=Z,this.lineJoin=se},U=function(P,M,Y){for(var J=0;J<P.length;J++)switch(P[J].type){case"bct":P[J].x2+=M,P[J].y2+=Y;case"qct":P[J].x1+=M,P[J].y1+=Y;default:P[J].x+=M,P[J].y+=Y}return P},D=function(P){return P.sort(function(M,Y){return M-Y})},F=function(P,M){var Y=this.fillStyle,J=this.strokeStyle,Z=this.lineCap,se=this.lineWidth,ae=Math.abs(se*this.ctx.transform.scaleX),ce=this.lineJoin;if(this.autoPaging){for(var be,xe,ke=JSON.parse(JSON.stringify(this.path)),we=JSON.parse(JSON.stringify(this.path)),Pe=[],R=0;R<we.length;R++)if(we[R].x!==void 0)for(var Ne=_.call(this,we[R]),oe=0;oe<Ne.length;oe+=1)Pe.indexOf(Ne[oe])===-1&&Pe.push(Ne[oe]);for(var Ae=0;Ae<Pe.length;Ae++)for(;this.pdf.internal.getNumberOfPages()<Pe[Ae];)w.call(this);D(Pe);for(var ve=Pe[0],ze=Pe[Pe.length-1],Ie=ve;Ie<ze+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=Y,this.strokeStyle=J,this.lineCap=Z,this.lineWidth=ae,this.lineJoin=ce;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Ie===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=Ie===1?0:ot+(Ie-2)*We;if(this.ctx.clip_path.length!==0){var Be=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(be,this.posX+this.margin[3],-qe+He+this.ctx.prevPageLastElemOffset),te.call(this,P,!0),this.path=Be}if(xe=JSON.parse(JSON.stringify(ke)),this.path=U(xe,this.posX+this.margin[3],-qe+He+this.ctx.prevPageLastElemOffset),M===!1||Ie===0){var rt=(Ie>ve||Ie<ze)&&j.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,We,null).clip().discardPath()),te.call(this,P,M),rt&&this.pdf.restoreGraphicsState()}this.lineWidth=se}this.path=ke}else this.lineWidth=ae,te.call(this,P,M),this.lineWidth=se},te=function(P,M){if((P!=="stroke"||M||!y.call(this))&&(P==="stroke"||M||!f.call(this))){for(var Y,J,Z=[],se=this.path,ae=0;ae<se.length;ae++){var ce=se[ae];switch(ce.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:ce,deltas:[],abs:[]});break;case"lt":var be=Z.length;if(se[ae-1]&&!isNaN(se[ae-1].x)&&(Y=[ce.x-se[ae-1].x,ce.y-se[ae-1].y],be>0)){for(;be>=0;be--)if(Z[be-1].close!==!0&&Z[be-1].begin!==!0){Z[be-1].deltas.push(Y),Z[be-1].abs.push(ce);break}}break;case"bct":Y=[ce.x1-se[ae-1].x,ce.y1-se[ae-1].y,ce.x2-se[ae-1].x,ce.y2-se[ae-1].y,ce.x-se[ae-1].x,ce.y-se[ae-1].y],Z[Z.length-1].deltas.push(Y);break;case"qct":var xe=se[ae-1].x+2/3*(ce.x1-se[ae-1].x),ke=se[ae-1].y+2/3*(ce.y1-se[ae-1].y),we=ce.x+2/3*(ce.x1-ce.x),Pe=ce.y+2/3*(ce.y1-ce.y),R=ce.x,Ne=ce.y;Y=[xe-se[ae-1].x,ke-se[ae-1].y,we-se[ae-1].x,Pe-se[ae-1].y,R-se[ae-1].x,Ne-se[ae-1].y],Z[Z.length-1].deltas.push(Y);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(ce)}}J=M?null:P==="stroke"?"stroke":"fill";for(var oe=!1,Ae=0;Ae<Z.length;Ae++)if(Z[Ae].arc)for(var ve=Z[Ae].abs,ze=0;ze<ve.length;ze++){var Ie=ve[ze];Ie.type==="arc"?k.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,M,!oe):W.call(this,Ie.x,Ie.y),oe=!0}else if(Z[Ae].close===!0)this.pdf.internal.out("h"),oe=!1;else if(Z[Ae].begin!==!0){var Me=Z[Ae].start.x,He=Z[Ae].start.y;G.call(this,Z[Ae].deltas,Me,He),oe=!0}J&&N.call(this,J),M&&T.call(this)}},X=function(P){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-Y;case"top":return P+M-Y;case"hanging":return P+M-2*Y;case"middle":return P+M/2-Y;default:return P}},K=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(M,Y){this.colorStops.push([M,Y])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(P,M,Y,J,Z,se,ae,ce,be){for(var xe=fe.call(this,Y,J,Z,se),ke=0;ke<xe.length;ke++){var we=xe[ke];ke===0&&(be?S.call(this,we.x1+P,we.y1+M):W.call(this,we.x1+P,we.y1+M)),le.call(this,P,M,we.x2,we.y2,we.x3,we.y3,we.x4,we.y4)}ce?T.call(this):N.call(this,ae)},N=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(P,M){this.pdf.internal.out(t(P)+" "+n(M)+" m")},C=function(P){var M;switch(P.align){case"right":case"end":M="right";break;case"center":M="center";break;default:M="left"}var Y,J,Z,se=this.pdf.getTextDimensions(P.text),ae=X.call(this,P.y),ce=K.call(this,ae)-se.h,be=this.ctx.transform.applyToPoint(new l(P.x,ae));if(this.autoPaging){var xe=this.ctx.transform.decompose(),ke=new d;ke=(ke=(ke=ke.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var we=this.ctx.transform.applyToRectangle(new o(P.x,ae,se.w,se.h)),Pe=ke.applyToRectangle(new o(P.x,ce,se.w,se.h)),R=_.call(this,Pe),Ne=[],oe=0;oe<R.length;oe+=1)Ne.indexOf(R[oe])===-1&&Ne.push(R[oe]);D(Ne);for(var Ae=Ne[0],ve=Ne[Ne.length-1],ze=Ae;ze<ve+1;ze++){this.pdf.setPage(ze);var Ie=ze===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],ot=He-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],qe=We-this.margin[3],Be=ze===1?0:Me+(ze-2)*ot;if(this.ctx.clip_path.length!==0){var rt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(Y,this.posX+this.margin[3],-1*Be+Ie),te.call(this,"fill",!0),this.path=rt}var De=U([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-Be+Ie+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*P.scale),Z=this.lineWidth,this.lineWidth=Z*P.scale);var lt=this.autoPaging!=="text";if(lt||De.y+De.h<=He){if(lt||De.y>=Ie&&De.x<=We){var Ue=lt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||We-De.x)[0],ct=U([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-Be+Ie+this.ctx.prevPageLastElemOffset)[0],yt=lt&&(ze>Ae||ze<ve)&&j.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,ot,null).clip().discardPath()),this.pdf.text(Ue,ct.x,ct.y,{angle:P.angle,align:M,renderingMode:P.renderingMode}),yt&&this.pdf.restoreGraphicsState()}}else De.y<He&&(this.ctx.prevPageLastElemOffset+=He-De.y);P.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=Z)}}else P.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*P.scale),Z=this.lineWidth,this.lineWidth=Z*P.scale),this.pdf.text(P.text,be.x+this.posX,be.y+this.posY,{angle:P.angle,align:M,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=Z)},W=function(P,M,Y,J){Y=Y||0,J=J||0,this.pdf.internal.out(t(P+Y)+" "+n(M+J)+" l")},G=function(P,M,Y){return this.pdf.lines(P,M,Y,null,null)},le=function(P,M,Y,J,Z,se,ae,ce){this.pdf.internal.out([e(i(Y+P)),e(a(J+M)),e(i(Z+P)),e(a(se+M)),e(i(ae+P)),e(a(ce+M)),"c"].join(" "))},fe=function(P,M,Y,J){for(var Z=2*Math.PI,se=Math.PI/2;M>Y;)M-=Z;var ae=Math.abs(Y-M);ae<Z&&J&&(ae=Z-ae);for(var ce=[],be=J?-1:1,xe=M;ae>1e-5;){var ke=xe+be*Math.min(ae,se);ce.push(ne.call(this,P,xe,ke)),ae-=Math.abs(ke-xe),xe=ke}return ce},ne=function(P,M,Y){var J=(Y-M)/2,Z=P*Math.cos(J),se=P*Math.sin(J),ae=Z,ce=-se,be=ae*ae+ce*ce,xe=be+ae*Z+ce*se,ke=4/3*(Math.sqrt(2*be*xe)-xe)/(ae*se-ce*Z),we=ae-ke*ce,Pe=ce+ke*ae,R=we,Ne=-Pe,oe=J+M,Ae=Math.cos(oe),ve=Math.sin(oe);return{x1:P*Math.cos(M),y1:P*Math.sin(M),x2:we*Ae-Pe*ve,y2:we*ve+Pe*Ae,x3:R*Ae-Ne*ve,y3:R*ve+Ne*Ae,x4:P*Math.cos(Y),y4:P*Math.sin(Y)}},q=function(P){return 180*P/Math.PI},ee=function(P,M,Y,J,Z,se){var ae=P+.5*(Y-P),ce=M+.5*(J-M),be=Z+.5*(Y-Z),xe=se+.5*(J-se),ke=Math.min(P,Z,ae,be),we=Math.max(P,Z,ae,be),Pe=Math.min(M,se,ce,xe),R=Math.max(M,se,ce,xe);return new o(ke,Pe,we-ke,R-Pe)},V=function(P,M,Y,J,Z,se,ae,ce){var be,xe,ke,we,Pe,R,Ne,oe,Ae,ve,ze,Ie,Me,He,ot=Y-P,We=J-M,qe=Z-Y,Be=se-J,rt=ae-Z,De=ce-se;for(xe=0;xe<41;xe++)Ae=(Ne=(ke=P+(be=xe/40)*ot)+be*((Pe=Y+be*qe)-ke))+be*(Pe+be*(Z+be*rt-Pe)-Ne),ve=(oe=(we=M+be*We)+be*((R=J+be*Be)-we))+be*(R+be*(se+be*De-R)-oe),xe==0?(ze=Ae,Ie=ve,Me=Ae,He=ve):(ze=Math.min(ze,Ae),Ie=Math.min(Ie,ve),Me=Math.max(Me,Ae),He=Math.max(He,ve));return new o(Math.round(ze),Math.round(Ie),Math.round(Me-ze),Math.round(He-Ie))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,M,Y=(P=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:M}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(st.API),(function(r){var e=function(l){var o,d,u,p,g,b,f,y,j,_;for(d=[],u=0,p=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;p>u;u+=4)(g=(l.charCodeAt(u)<<24)+(l.charCodeAt(u+1)<<16)+(l.charCodeAt(u+2)<<8)+l.charCodeAt(u+3))!==0?(b=(g=((g=((g=((g=(g-(_=g%85))/85)-(j=g%85))/85)-(y=g%85))/85)-(f=g%85))/85)%85,d.push(b+33,f+33,y+33,j+33,_+33)):d.push(122);return(function(w,U){for(var D=U;D>0;D--)w.pop()})(d,o.length),String.fromCharCode.apply(String,d)+"~>"},t=function(l){var o,d,u,p,g,b=String,f="length",y=255,j="charCodeAt",_="slice",w="replace";for(l[_](-2),l=l[_](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],p=0,g=(l+=o="uuuuu"[_](l[f]%5||5))[f];g>p;p+=5)d=52200625*(l[j](p)-33)+614125*(l[j](p+1)-33)+7225*(l[j](p+2)-33)+85*(l[j](p+3)-33)+(l[j](p+4)-33),u.push(y&d>>24,y&d>>16,y&d>>8,y&d);return(function(U,D){for(var F=D;F>0;F--)U.pop()})(u,o[f]),b.fromCharCode.apply(b,u)},n=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var d="",u=0;u<l.length;u+=2)d+=String.fromCharCode("0x"+(l[u]+l[u+1]));return d},a=function(l){for(var o=new Uint8Array(l.length),d=l.length;d--;)o[d]=l.charCodeAt(d);return(o=lu(o)).reduce(function(u,p){return u+String.fromCharCode(p)},"")};r.processDataByFilters=function(l,o){var d=0,u=l||"",p=[];for(typeof(o=o||[])=="string"&&(o=[o]),d=0;d<o.length;d+=1)switch(o[d]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[d]+'" is not implemented')}return{data:u,reverseChain:p.reverse().join(" ")}}})(st.API),(function(r){r.loadFile=function(e,t,n){return(function(i,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(d,u,p){var g=new XMLHttpRequest,b=0,f=function(y){var j=y.length,_=[],w=String.fromCharCode;for(b=0;b<j;b+=1)_.push(w(255&y.charCodeAt(b)));return _.join("")};if(g.open("GET",d,!u),g.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(g.onload=function(){g.status===200?p(f(this.responseText)):p(void 0)}),g.send(null),u&&g.status===200)return f(g.responseText)})(i,a,l)}catch{}return o})(e,t,n)},r.loadImageFile=r.loadFile})(st.API),(function(r){function e(){return(mt.html2canvas?Promise.resolve(mt.html2canvas):wd(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(mt.DOMPurify?Promise.resolve(mt.DOMPurify):wd(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var d=Zt(o);return d==="undefined"?"undefined":d==="string"||o instanceof String?"string":d==="number"||o instanceof Number?"number":d==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":d==="object"?"object":"unknown"},i=function(o,d){var u=document.createElement(o);for(var p in d.className&&(u.className=d.className),d.innerHTML&&d.dompurify&&(u.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)u.style[p]=d.style[p];return u},a=function o(d,u){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)u!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(o(g,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p},l=function o(d){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),p=o.convert(Promise.resolve(),u);return(p=p.setProgress(1,o,1,[o])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,d){return o.__proto__=d||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,d){return this.then(function(){switch(d=d||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),d){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(d){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,d(this.prop.container,u)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(d){var u=this.opt.jsPDF,p=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=p,p)for(var f=0;f<p.length;++f){var y=p[f],j=y.src.find(function(_){return _.format==="truetype"});j&&u.addFont(j.url,y.ref.name,y.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,u.context2d.save(!0),d(this.prop.container,b)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,d,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,d):this.outputPdf(o,d)},l.prototype.outputPdf=function(o,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,d)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(n(o)!=="object")return this;var d=Object.keys(o||{}).map(function(u){if(u in l.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(d)})},l.prototype.get=function(o,d){return this.then(function(){var u=o in l.template.prop?this.prop[o]:this.opt[o];return d?d(u):u})},l.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function d(u,p){return Math.floor(u*p/72*96)}return this.then(function(){(o=o||st.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:d(o.inner.width,o.k),height:d(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,d,u,p){return o!=null&&(this.progress.val=o),d!=null&&(this.progress.state=d),u!=null&&(this.progress.n=u),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,d,u,p){return this.setProgress(o?this.progress.val+o:null,d||null,u?this.progress.n+u:null,p?this.progress.stack.concat(p):null)},l.prototype.then=function(o,d){var u=this;return this.thenCore(o,d,function(p,g){return u.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(b){return u.updateProgress(null,p),b}).then(p,g).then(function(b){return u.updateProgress(1),b})})},l.prototype.thenCore=function(o,d,u){u=u||Promise.prototype.then;var p=this;o&&(o=o.bind(p)),d&&(d=d.bind(p));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:l.convert(Object.assign({},p),Promise.prototype),b=u.call(g,o,d);return l.convert(b,p.__proto__)},l.prototype.thenExternal=function(o,d){return Promise.prototype.then.call(this,o,d)},l.prototype.thenList=function(o){var d=this;return o.forEach(function(u){d=d.thenCore(u)}),d},l.prototype.catch=function(o){o&&(o=o.bind(this));var d=Promise.prototype.catch.call(this,o);return l.convert(d,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,st.getPageSize=function(o,d,u){if(Zt(o)==="object"){var p=o;o=p.orientation,d=p.unit||d,u=p.format||u}d=d||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var g,b=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+d}var y,j=0,_=0;if(f.hasOwnProperty(b))j=f[b][1]/g,_=f[b][0]/g;else try{j=u[1],_=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",_>j&&(y=_,_=j,j=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",j>_&&(y=_,_=j,j=y)}return{width:_,height:j,unit:d,k:g,orientation:o}},r.html=function(o,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Bd):null;var u=new l(d);return d.worker?u:u.from(o).doCallback()}})(st.API),st.API.addJS=function(r){return ep=r,this.internal.events.subscribe("postPutResources",function(){Zl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zl+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Qf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ep+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zl!==void 0&&Qf!==void 0&&this.internal.out("/Names <</JavaScript "+Zl+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var l=i[a],o=n.exec(l);if(o!=null){var d=o[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,p=[];for(a=0;a<u;a++){var g=t.internal.newObject();p.push(g);var b=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<p.length;a++)t.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,a){var l={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var l=n.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var d=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(st.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,a,l,o){var d,u=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,d=(function(g){for(var b,f=256*g.charCodeAt(4)+g.charCodeAt(5),y=g.length,j={width:0,height:0,numcomponents:1},_=4;_<y;_+=2){if(_+=f,e.indexOf(g.charCodeAt(_+1))!==-1){b=256*g.charCodeAt(_+5)+g.charCodeAt(_+6),j={width:256*g.charCodeAt(_+7)+g.charCodeAt(_+8),height:b,numcomponents:g.charCodeAt(_+9)};break}f=256*g.charCodeAt(_+2)+g.charCodeAt(_+3)}return j})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),d.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}p={data:t,width:d.width,height:d.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return p}})(st.API),st.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,a=V5(r,{checkCrc:!0}),l=a.width,o=a.height,d=a.channels,u=a.palette,p=a.depth;i=u&&d===1?(function(k){for(var N=k.width,T=k.height,S=k.data,C=k.palette,W=k.depth,G=!1,le=[],fe=[],ne=void 0,q=!1,ee=0,V=0;V<C.length;V++){var pe=nf(C[V],4),P=pe[0],M=pe[1],Y=pe[2],J=pe[3];le.push(P,M,Y),J!=null&&(J===0?(ee++,fe.length<1&&fe.push(V)):J<255&&(q=!0))}if(q||ee>1){G=!0,fe=void 0;var Z=N*T;ne=new Uint8Array(Z);for(var se=new DataView(S.buffer),ae=0;ae<Z;ae++){var ce=Ud(se,ae,W),be=nf(C[ce],4)[3];ne[ae]=be}}else ee===0&&(fe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:G?8:void 0,colorBytes:S,alphaBytes:ne,needSMask:G,palette:le,mask:fe}})(a):d===2||d===4?(function(k){for(var N=k.data,T=k.width,S=k.height,C=k.channels,W=k.depth,G=C===2?"DeviceGray":"DeviceRGB",le=C-1,fe=T*S,ne=le,q=fe*ne,ee=1*fe,V=Math.ceil(q*W/8),pe=Math.ceil(ee*W/8),P=new Uint8Array(V),M=new Uint8Array(pe),Y=new DataView(N.buffer),J=new DataView(P.buffer),Z=new DataView(M.buffer),se=!1,ae=0;ae<fe;ae++){for(var ce=ae*C,be=0;be<ne;be++)cp(J,Ud(Y,ce+be,W),ae*ne+be,W);var xe=Ud(Y,ce+ne,W);xe<(1<<W)-1&&(se=!0),cp(Z,xe,1*ae,W)}return{colorSpace:G,colorsPerPixel:le,sMaskBitsPerComponent:se?W:void 0,colorBytes:P,alphaBytes:M,needSMask:se}})(a):(function(k){var N=k.data,T=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:N instanceof Uint16Array?(function(S){for(var C=S.length,W=new Uint8Array(2*C),G=new DataView(W.buffer,W.byteOffset,W.byteLength),le=0;le<C;le++)G.setUint16(2*le,S[le],!1);return W})(N):N,needSMask:!1}})(a);var g,b,f,y=i,j=y.colorSpace,_=y.colorsPerPixel,w=y.sMaskBitsPerComponent,U=y.colorBytes,D=y.alphaBytes,F=y.needSMask,te=y.palette,X=y.mask,K=null;return n!==st.API.image_compression.NONE&&typeof lu=="function"?(K=(function(k){var N;switch(k){case st.API.image_compression.FAST:N=11;break;case st.API.image_compression.MEDIUM:N=13;break;case st.API.image_compression.SLOW:N=14;break;default:N=12}return N})(n),g=this.decode.FLATE_DECODE,b="/Predictor ".concat(K," /Colors ").concat(_," /BitsPerComponent ").concat(p," /Columns ").concat(l),r=sp(U,Math.ceil(l*_*p/8),_,p,n),F&&(f=sp(D,Math.ceil(l*w/8),1,w,n))):(g=void 0,b=void 0,r=U,F&&(f=D)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:t,data:r,index:e,filter:g,decodeParameters:b,transparency:X,palette:te,sMask:f,predictor:K,width:l,height:o,bitsPerComponent:p,sMaskBitsPerComponent:w,colorSpace:j}}},(function(r){r.processGIF89A=function(e,t,n,i){var a=new fb(e),l=a.width,o=a.height,d=[];a.decodeAndBlitFrameRGBA(0,d);var u={data:d,width:l,height:o},p=new zd(100).encode(u,100);return r.processJPEG.call(this,p,t,n,i)},r.processGIF87A=r.processGIF89A})(st.API),ss.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ss.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){tr.log("bit decode error:"+t)}},ss.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var d=this.palette[a>>7-o&1];this.data[l+4*o]=d.blue,this.data[l+4*o+1]=d.green,this.data[l+4*o+2]=d.red,this.data[l+4*o+3]=255}t!==0&&(this.pos+=4-t)}},ss.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*i*4,o=a>>4,d=15&a,u=this.palette[o];if(this.data[l]=u.blue,this.data[l+1]=u.green,this.data[l+2]=u.red,this.data[l+3]=255,2*i+1>=this.width)break;u=this.palette[d],this.data[l+4]=u.blue,this.data[l+4+1]=u.green,this.data[l+4+2]=u.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},ss.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;if(i<this.palette.length){var l=this.palette[i];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}r!==0&&(this.pos+=4-r)}},ss.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,d=(a>>10&e)/e*255|0,u=a>>15?255:0,p=n*this.width*4+4*i;this.data[p]=d,this.data[p+1]=o,this.data[p+2]=l,this.data[p+3]=u}this.pos+=r}},ss.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&e)/e*255|0,d=(l>>5&t)/t*255|0,u=(l>>11)/e*255|0,p=i*this.width*4+4*a;this.data[p]=u,this.data[p+1]=d,this.data[p+2]=o,this.data[p+3]=255}this.pos+=r}},ss.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},ss.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=l}},ss.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,i){var a=new ss(e,!1),l=a.width,o=a.height,d={data:a.getData(),width:l,height:o},u=new zd(100).encode(d,100);return r.processJPEG.call(this,u,t,n,i)}})(st.API),up.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,i){var a=new up(e),l=a.width,o=a.height,d={data:a.getData(),width:l,height:o},u=new zd(100).encode(d,100);return r.processJPEG.call(this,u,t,n,i)}})(st.API),st.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,a=new Uint8Array(i/4*3),l=new Uint8Array(i/4),o=0,d=0,u=0;u<i;u+=4){var p=n[u],g=n[u+1],b=n[u+2],f=n[u+3];a[o++]=p,a[o++]=g,a[o++]=b,l[d++]=f}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},st.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Aa=st.API,Ql=Aa.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,d=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=u.fof?u.fof:1,g=e.doKerning!==!1,b=0,f=r.length,y=0,j=o[0]||d,_=[];for(t=0;t<f;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+l*(1e3/a)||0)/1e3):(b=g&&Zt(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/p:0,_.push((o[n]||j)/d+b)),y=n;return _},tp=Aa.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Aa.processArabic&&(r=Aa.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:Ql.apply(this,arguments).reduce(function(a,l){return a+l},0)},rp=function(r,e,t,n){for(var i=[],a=0,l=r.length,o=0;a!==l&&o+e[a]<t;)o+=e[a],a++;i.push(r.slice(0,a));var d=a;for(o=0;a!==l;)o+e[a]>n&&(i.push(r.slice(d,a)),o=0,d=a),o+=e[a],a++;return d!==a&&i.push(r.slice(d,a)),i},np=function(r,e,t){t||(t={});var n,i,a,l,o,d,u,p=[],g=[p],b=t.textIndent||0,f=0,y=0,j=r.split(" "),_=Ql.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?j[0].length+2:t.lineIndent||0){var w=Array(d).join(" "),U=[];j.map(function(F){(F=F.split(/\s*\n/)).length>1?U=U.concat(F.map(function(te,X){return(X&&te.length?`
`:"")+te})):U.push(F[0])}),j=U,d=tp.apply(this,[w,t])}for(a=0,l=j.length;a<l;a++){var D=0;if(n=j[a],d&&n[0]==`
`&&(n=n.substr(1),D=1),b+f+(y=(i=Ql.apply(this,[n,t])).reduce(function(F,te){return F+te},0))>e||D){if(y>e){for(o=rp.apply(this,[n,i,e-(b+f),e]),p.push(o.shift()),p=[o.pop()];o.length;)g.push([o.shift()]);y=i.slice(n.length-(p[0]?p[0].length:0)).reduce(function(F,te){return F+te},0)}else p=[n];g.push(p),b=y+d,f=_}else p.push(n),b+=f+y,f=_}return u=d?function(F,te){return(te?w:"")+F.join(" ")}:function(F){return F.join(" ")},g.map(u)},Aa.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var g=this.internal.getFont(p.fontName,p.fontStyle),b="Unicode";return g.metadata[b]?{widths:g.metadata[b].widths||{0:1},kerning:g.metadata[b].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var o,d,u=[];for(o=0,d=n.length;o<d;o++)u=u.concat(np.apply(this,[n[o],l,a]));return u},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[t[a]]=e[a],i[e[a]]=t[a];var l=function(b){return"0x"+parseInt(b,10).toString(16)},o=r.__fontmetrics__.compress=function(b){var f,y,j,_,w=["{"];for(var U in b){if(f=b[U],isNaN(parseInt(U,10))?y="'"+U+"'":(U=parseInt(U,10),y=(y=l(U).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof f=="number")f<0?(j=l(f).slice(3),_="-"):(j=l(f).slice(2),_=""),j=_+j.slice(0,-1)+i[j.slice(-1)];else{if(Zt(f)!=="object")throw new Error("Don't know what to do with value type "+Zt(f)+".");j=o(f)}w.push(y+j)}return w.push("}"),w.join("")},d=r.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,y,j,_,w={},U=1,D=w,F=[],te="",X="",K=b.length-1,k=1;k<K;k+=1)(_=b[k])=="'"?f?(j=f.join(""),f=void 0):f=[]:f?f.push(_):_=="{"?(F.push([D,j]),D={},j=void 0):_=="}"?((y=F.pop())[0][y[1]]=D,j=void 0,D=y[0]):_=="-"?U=-1:j===void 0?n.hasOwnProperty(_)?(te+=n[_],j=parseInt(te,16)*U,U=1,te=""):te+=_:n.hasOwnProperty(_)?(X+=n[_],D[j]=parseInt(X,16)*U,U=1,j=void 0,X=""):X+=_;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(b){var f=b.font,y=g.Unicode[f.postScriptName];y&&(f.metadata.Unicode={},f.metadata.Unicode.widths=y.widths,f.metadata.Unicode.kerning=y.kerning);var j=p.Unicode[f.postScriptName];j&&(f.metadata.Unicode.encoding=j,f.encoding=j.codePages[0])}])})(st.API),(function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=t.charCodeAt(a);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(lc(o)),l.metadata=r.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,n)}}])})(st),st.API.addSvgAsImage=function(r,e,t,n,i,a,l,o){if(isNaN(e)||isNaN(t))throw tr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw tr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=i;var u=d.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(mt.canvg?Promise.resolve(mt.canvg):wd(()=>import("./index.es-BrX0y8jD.js"),__vite__mapDeps([0,1,2,3,4,5]))).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(u,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),e,t,n,i,l,o)})},st.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},st.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),d=[],u=0,p=0,g=0;function b(y,j){var _,w=!1;for(_=0;_<y.length;_+=1)y[_]===j&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var f=o.length;for(g=0;g<f;g+=1)t[o[g]].value=t[o[g]].defaultValue,t[o[g]].explicitSet=!1}if(Zt(r)==="object"){for(i in r)if(a=r[i],b(o,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&b(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")d.push(String(a[u]-1));else if(a[u].length>1){for(p=0;p<a[u].length;p+=1)typeof a[u][p]!="number"&&(n=!1);n===!0&&d.push([a[u][0]-1,a[u][1]-1].join(" "))}t[i].value="["+d.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,j=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?j.push("/"+y+" /"+t[y].value):j.push("/"+y+" "+t[y].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+l.length+o.length+i.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+l+o+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(st.API),(function(r){var e=r.API,t=e.pdfEscape16=function(a,l){for(var o,d=l.metadata.Unicode.widths,u=["","0","00","000","0000"],p=[""],g=0,b=a.length;g<b;++g){if(o=l.metadata.characterToGlyph(a.charCodeAt(g)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=a.charCodeAt(g),d.indexOf(o)==-1&&(d.push(o),d.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return p.join("");o=o.toString(16),p.push(u[4-o.length],o)}return p.join("")},n=function(a){var l,o,d,u,p,g,b;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],g=0,b=(o=Object.keys(a).sort(function(f,y){return f-y})).length;g<b;g++)l=o[g],d.length>=100&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(u=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+u+">"));return d.length&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(l){var o=l.font,d=l.out,u=l.newObject,p=l.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var g=o.metadata.Unicode.widths,b=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",y=0;y<b.length;y++)f+=String.fromCharCode(b[y]);var j=u();p({data:f,addLength1:!0,objectId:j}),d("endobj");var _=u();p({data:n(o.metadata.toUnicode),addLength1:!0,objectId:_}),d("endobj");var w=u();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Ea(o.fontName)),d("/FontFile2 "+j+" 0 R"),d("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),d("/Flags "+o.metadata.flags),d("/StemV "+o.metadata.stemV),d("/ItalicAngle "+o.metadata.italicAngle),d("/Ascent "+o.metadata.ascender),d("/Descent "+o.metadata.decender),d("/CapHeight "+o.metadata.capHeight),d(">>"),d("endobj");var U=u();d("<<"),d("/Type /Font"),d("/BaseFont /"+Ea(o.fontName)),d("/FontDescriptor "+w+" 0 R"),d("/W "+r.API.PDFObject.convert(g)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+o.encoding+")"),d(">>"),d(">>"),d("endobj"),o.objectNumber=u(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+_+" 0 R"),d("/BaseFont /"+Ea(o.fontName)),d("/Encoding /"+o.encoding),d("/DescendantFonts ["+U+" 0 R]"),d(">>"),d("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(l){var o=l.font,d=l.out,u=l.newObject,p=l.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var g=o.metadata.rawData,b="",f=0;f<g.length;f++)b+=String.fromCharCode(g[f]);var y=u();p({data:b,addLength1:!0,objectId:y}),d("endobj");var j=u();p({data:n(o.metadata.toUnicode),addLength1:!0,objectId:j}),d("endobj");var _=u();d("<<"),d("/Descent "+o.metadata.decender),d("/CapHeight "+o.metadata.capHeight),d("/StemV "+o.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+y+" 0 R"),d("/Flags 96"),d("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),d("/FontName /"+Ea(o.fontName)),d("/ItalicAngle "+o.metadata.italicAngle),d("/Ascent "+o.metadata.ascender),d(">>"),d("endobj"),o.objectNumber=u();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+Ea(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),d("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var l,o=a.text||"",d=a.x,u=a.y,p=a.options||{},g=a.mutex||{},b=g.pdfEscape,f=g.activeFontKey,y=g.fonts,j=f,_="",w=0,U="",D=y[j].encoding;if(y[j].encoding!=="Identity-H")return{text:o,x:d,y:u,options:p,mutex:g};for(U=o,j=f,Array.isArray(o)&&(U=o[0]),w=0;w<U.length;w+=1)y[j].metadata.hasOwnProperty("cmap")&&(l=y[j].metadata.cmap.unicode.codeMap[U[w].charCodeAt(0)]),l||U[w].charCodeAt(0)<256&&y[j].metadata.hasOwnProperty("Unicode")?_+=U[w]:_+="";var F="";return parseInt(j.slice(1))<14||D==="WinAnsiEncoding"?F=b(_,j).split("").map(function(te){return te.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(F=t(_,y[j])),g.isHex=!0,{text:F,x:d,y:u,options:p,mutex:g}};e.events.push(["postProcessText",function(a){var l=a.text||"",o=[],d={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var u=0;for(u=0;u<l.length;u+=1)Array.isArray(l[u])&&l[u].length===3?o.push([i(Object.assign({},d,{text:l[u][0]})).text,l[u][1],l[u][2]]):o.push(i(Object.assign({},d,{text:l[u]})).text);a.text=o}else a.text=i(Object.assign({},d,{text:l})).text}])})(st),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(st.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,a,l,o,d,u,p,g=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â€¹","â€º","â€¹","â…","â†","â…","â½","â¾","â½","â‚","â‚Ž","â‚","â‰¤","â‰¥","â‰¤","âŒ©","âŒª","âŒ©","ï¹™","ï¹š","ï¹™","ï¹›","ï¹œ","ï¹›","ï¹","ï¹ž","ï¹","ï¹¤","ï¹¥","ï¹¤"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),U=!1,D=0;this.__bidiEngine__={};var F=function(S){var C=S.charCodeAt(),W=C>>8,G=j[W];return G!==void 0?g[256*G+(255&C)]:W===252||W===253?"AL":w.test(W)?"L":W===8?"R":"N"},te=function(S){for(var C,W=0;W<S.length;W++){if((C=F(S.charAt(W)))==="L")return!1;if(C==="R")return!0}return!1},X=function(S,C,W,G){var le,fe,ne,q,ee=C[G];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":U=!1;break;case"N":case"AN":break;case"EN":U&&(ee="AN");break;case"AL":U=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":G<1||G+1>=C.length||(le=W[G-1])!=="EN"&&le!=="AN"||(fe=C[G+1])!=="EN"&&fe!=="AN"?ee="N":U&&(fe="AN"),ee=fe===le?fe:"N";break;case"ES":ee=(le=G>0?W[G-1]:"B")==="EN"&&G+1<C.length&&C[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&W[G-1]==="EN"){ee="EN";break}if(U){ee="N";break}for(ne=G+1,q=C.length;ne<q&&C[ne]==="ET";)ne++;ee=ne<q&&C[ne]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(q=C.length,ne=G+1;ne<q&&C[ne]==="NSM";)ne++;if(ne<q){var V=S[G],pe=V>=1425&&V<=2303||V===64286;if(le=C[ne],pe&&(le==="R"||le==="AL")){ee="R";break}}}ee=G<1||(le=C[G-1])==="B"?"N":W[G-1];break;case"B":U=!1,i=!0,ee=D;break;case"S":a=!0,ee="N"}return ee},K=function(S,C,W){var G=S.split("");return W&&k(G,W,{hiLevel:D}),G.reverse(),C&&C.reverse(),G.join("")},k=function(S,C,W){var G,le,fe,ne,q,ee=-1,V=S.length,pe=0,P=[],M=D?f:b,Y=[];for(U=!1,i=!1,a=!1,le=0;le<V;le++)Y[le]=F(S[le]);for(fe=0;fe<V;fe++){if(q=pe,P[fe]=X(S,Y,P,fe),G=240&(pe=M[q][y[P[fe]]]),pe&=15,C[fe]=ne=M[pe][5],G>0)if(G===16){for(le=ee;le<fe;le++)C[le]=1;ee=-1}else ee=-1;if(M[pe][6])ee===-1&&(ee=fe);else if(ee>-1){for(le=ee;le<fe;le++)C[le]=ne;ee=-1}Y[fe]==="B"&&(C[fe]=0),W.hiLevel|=ne}a&&(function(J,Z,se){for(var ae=0;ae<se;ae++)if(J[ae]==="S"){Z[ae]=D;for(var ce=ae-1;ce>=0&&J[ce]==="WS";ce--)Z[ce]=D}})(Y,C,V)},N=function(S,C,W,G,le){if(!(le.hiLevel<S)){if(S===1&&D===1&&!i)return C.reverse(),void(W&&W.reverse());for(var fe,ne,q,ee,V=C.length,pe=0;pe<V;){if(G[pe]>=S){for(q=pe+1;q<V&&G[q]>=S;)q++;for(ee=pe,ne=q-1;ee<ne;ee++,ne--)fe=C[ee],C[ee]=C[ne],C[ne]=fe,W&&(fe=W[ee],W[ee]=W[ne],W[ne]=fe);pe=q}pe++}}},T=function(S,C,W){var G=S.split(""),le={hiLevel:D};return W||(W=[]),k(G,W,le),(function(fe,ne,q){if(q.hiLevel!==0&&p)for(var ee,V=0;V<fe.length;V++)ne[V]===1&&(ee=_.indexOf(fe[V]))>=0&&(fe[V]=_[ee+1])})(G,W,le),N(2,G,C,W,le),N(1,G,C,W,le),G.join("")};return this.__bidiEngine__.doBidiReorder=function(S,C,W){if((function(le,fe){if(fe)for(var ne=0;ne<le.length;ne++)fe[ne]=ne;o===void 0&&(o=te(le)),u===void 0&&(u=te(le))})(S,C),l||!d||u)if(l&&d&&o^u)D=o?1:0,S=K(S,C,W);else if(!l&&d&&u)D=o?1:0,S=T(S,C,W),S=K(S,C);else if(!l||o||d||u){if(l&&!d&&o^u)S=K(S,C),o?(D=0,S=T(S,C,W)):(D=1,S=T(S,C,W),S=K(S,C));else if(l&&o&&!d&&u)D=1,S=T(S,C,W),S=K(S,C);else if(!l&&!d&&o^u){var G=p;o?(D=1,S=T(S,C,W),D=0,p=!1,S=T(S,C,W),p=G):(D=0,S=T(S,C,W),S=K(S,C),D=1,p=!1,S=T(S,C,W),p=G,S=K(S,C))}}else D=0,S=T(S,C,W);else D=o?1:0,S=T(S,C,W);return S},this.__bidiEngine__.setOptions=function(S){S&&(l=S.isInputVisual,d=S.isOutputVisual,o=S.isInputRtl,u=S.isOutputRtl,p=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(l=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?l.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):l.push([t.doBidiReorder(i[o])]);n.text=l}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(st),st.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Fi(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Lb(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new pb(this.contents),this.head=new gb(this),this.name=new wb(this),this.cmap=new s0(this),this.toUnicode={},this.hhea=new xb(this),this.maxp=new Nb(this),this.hmtx=new jb(this),this.post=new vb(this),this.os2=new bb(this),this.loca=new Ab(this),this.glyf=new _b(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,d,u;for(u=[],l=0,o=(d=this.bbox).length;l<o;l++)e=d[l],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,a,l,o;for(l=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return l*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var cs,Fi=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,a,l,o,d;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),o=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^l)+256*(255^o)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*a+65536*l+256*o+d},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)t=e[n],a.push(this.writeByte(t));return a},r})(),pb=(function(){var r;function e(t){var n,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,a,l,o,d,u,p,g,b,f,y,j;for(j in f=Object.keys(t).length,d=Math.log(2),g=16*Math.floor(Math.log(f)/d),l=Math.floor(g/d),p=16*f-g,(i=new Fi).writeInt(this.scalarType),i.writeShort(f),i.writeShort(g),i.writeShort(l),i.writeShort(p),a=16*f,u=i.pos+a,o=null,y=[],t)for(b=t[j],i.writeString(j),i.writeInt(r(b)),i.writeInt(u),i.writeInt(b.length),y=y.concat(b),j==="head"&&(o=u),u+=b.length;u%4;)y.push(0),u++;return i.write(y),n=2981146554-r(i.data),i.pos=o+8,i.writeUInt32(n),i.data},r=function(t){var n,i,a,l;for(t=i0.call(t);t.length%4;)t.push(0);for(a=new Fi(t),i=0,n=0,l=t.length;n<l;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),mb={}.hasOwnProperty,Cs=function(r,e){for(var t in e)mb.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};cs=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var gb=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Cs(r,cs),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Fi).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),hp=(function(){function r(e,t){var n,i,a,l,o,d,u,p,g,b,f,y,j,_,w,U,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(f=e.readUInt16(),b=f/2,e.pos+=6,a=(function(){var F,te;for(te=[],d=F=0;0<=b?F<b:F>b;d=0<=b?++F:--F)te.push(e.readUInt16());return te})(),e.pos+=2,j=(function(){var F,te;for(te=[],d=F=0;0<=b?F<b:F>b;d=0<=b?++F:--F)te.push(e.readUInt16());return te})(),u=(function(){var F,te;for(te=[],d=F=0;0<=b?F<b:F>b;d=0<=b?++F:--F)te.push(e.readUInt16());return te})(),p=(function(){var F,te;for(te=[],d=F=0;0<=b?F<b:F>b;d=0<=b?++F:--F)te.push(e.readUInt16());return te})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var F,te;for(te=[],d=F=0;0<=i?F<i:F>i;d=0<=i?++F:--F)te.push(e.readUInt16());return te})(),d=w=0,D=a.length;w<D;d=++w)for(_=a[d],n=U=y=j[d];y<=_?U<=_:U>=_;n=y<=_?++U:--U)p[d]===0?l=n+u[d]:(l=o[p[d]/2+(n-y)-(b-d)]||0)!==0&&(l+=u[d]),this.codeMap[n]=65535&l}e.pos=g}return r.encode=function(e,t){var n,i,a,l,o,d,u,p,g,b,f,y,j,_,w,U,D,F,te,X,K,k,N,T,S,C,W,G,le,fe,ne,q,ee,V,pe,P,M,Y,J,Z,se,ae,ce,be,xe,ke;switch(G=new Fi,l=Object.keys(e).sort(function(we,Pe){return we-Pe}),t){case"macroman":for(j=0,_=(function(){var we=[];for(y=0;y<256;++y)we.push(0);return we})(),U={0:0},a={},le=0,ee=l.length;le<ee;le++)U[ce=e[i=l[le]]]==null&&(U[ce]=++j),a[i]={old:e[i],new:U[e[i]]},_[i]=U[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(_),{charMap:a,subtable:G.data,maxGlyphID:j+1};case"unicode":for(C=[],g=[],D=0,U={},n={},w=u=null,fe=0,V=l.length;fe<V;fe++)U[te=e[i=l[fe]]]==null&&(U[te]=++D),n[i]={old:te,new:U[te]},o=U[te]-i,w!=null&&o===u||(w&&g.push(w),C.push(i),u=o),w=i;for(w&&g.push(w),g.push(65535),C.push(65535),T=2*(N=C.length),k=2*Math.pow(Math.log(N)/Math.LN2,2),b=Math.log(k/2)/Math.LN2,K=2*N-k,d=[],X=[],f=[],y=ne=0,pe=C.length;ne<pe;y=++ne){if(S=C[y],p=g[y],S===65535){d.push(0),X.push(0);break}if(S-(W=n[S].new)>=32768)for(d.push(0),X.push(2*(f.length+N-y)),i=q=S;S<=p?q<=p:q>=p;i=S<=p?++q:--q)f.push(n[i].new);else d.push(W-S),X.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*N+2*f.length),G.writeUInt16(0),G.writeUInt16(T),G.writeUInt16(k),G.writeUInt16(b),G.writeUInt16(K),se=0,P=g.length;se<P;se++)i=g[se],G.writeUInt16(i);for(G.writeUInt16(0),ae=0,M=C.length;ae<M;ae++)i=C[ae],G.writeUInt16(i);for(be=0,Y=d.length;be<Y;be++)o=d[be],G.writeUInt16(o);for(xe=0,J=X.length;xe<J;xe++)F=X[xe],G.writeUInt16(F);for(ke=0,Z=f.length;ke<Z;ke++)j=f[ke],G.writeUInt16(j);return{charMap:n,subtable:G.data,maxGlyphID:D+1}}},r})(),s0=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Cs(r,cs),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new hp(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=hp.encode(e,t),(i=new Fi).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r})(),xb=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Cs(r,cs),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),bb=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Cs(r,cs),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),vb=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Cs(r,cs),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var l,o,d;for(d=[],a=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;a=0<=o?++l:--l)d.push(e.readUInt32());return d}).call(this)}},r})(),yb=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wb=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Cs(r,cs),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,a,l,o,d,u,p,g,b;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(d={},a=p=0,g=n.length;p<g;a=++p)i=n[a],e.pos=i.offset,u=e.readString(i.length),l=new yb(u,i),d[b=i.nameID]==null&&(d[b]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},r})(),Nb=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Cs(r,cs),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),jb=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Cs(r,cs),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,a,l,o,d;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,p;for(p=[],t=u=0;0<=i?u<i:u>i;t=0<=i?++u:--u)p.push(e.readInt16());return p})(),this.widths=(function(){var u,p,g,b;for(b=[],u=0,p=(g=this.metrics).length;u<p;u++)a=g[u],b.push(a.advance);return b}).call(this),n=this.widths[this.widths.length-1],d=[],t=l=0;0<=i?l<i:l>i;t=0<=i?++l:--l)d.push(this.widths.push(n));return d},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),i0=[].slice,_b=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Cs(r,cs),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,a,l,o,d,u,p,g;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,l=(o=new Fi(t.read(i))).readShort(),u=o.readShort(),g=o.readShort(),d=o.readShort(),p=o.readShort(),this.cache[e]=l===-1?new kb(o,u,g,d,p):new Sb(o,l,u,g,d,p),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,a,l,o,d;for(l=[],a=[],o=0,d=t.length;o<d;o++)i=e[t[o]],a.push(l.length),i&&(l=l.concat(i.encode(n)));return a.push(l.length),{table:l,offsets:a}},r})(),Sb=(function(){function r(e,t,n,i,a,l){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=l,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),kb=(function(){function r(e,t,n,i,a){var l,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Fi(i0.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),Ab=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Cs(r,cs),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,l=0;l<n.length;++l)if(n[l]=i,a<t.length&&t[a]==l){++a,n[l]=i;var o=this.offsets[l],d=this.offsets[l+1]-o;d>0&&(i+=d)}for(var u=new Array(4*n.length),p=0;p<n.length;++p)u[4*p+3]=255&n[p],u[4*p+2]=(65280&n[p])>>8,u[4*p+1]=(16711680&n[p])>>16,u[4*p]=(4278190080&n[p])>>24;return u},r})(),Lb=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,a,l,o,d;for(i={},l=0,o=e.length;l<o;l++)i[a=e[l]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(n=i[a])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in d=this.glyphsFor(t))n=d[a],i[a]=n;return i},r.prototype.encode=function(e,t){var n,i,a,l,o,d,u,p,g,b,f,y,j,_,w;for(i in n=s0.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),f={0:0},w=n.charMap)f[(d=w[i]).old]=d.new;for(y in b=n.maxGlyphID,l)y in f||(f[y]=b++);return p=(function(U){var D,F;for(D in F={},U)F[U[D]]=D;return F})(f),g=Object.keys(p).sort(function(U,D){return U-D}),j=(function(){var U,D,F;for(F=[],U=0,D=g.length;U<D;U++)o=g[U],F.push(p[o]);return F})(),a=this.font.glyf.encode(l,j,f),u=this.font.loca.encode(a.offsets,j),_={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},r})();st.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,a,l;if(Array.isArray(t))return"["+(function(){var o,d,u;for(u=[],o=0,d=t.length;o<d;o++)n=t[o],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)l=t[i],a.push("/"+i+" "+e.convert(l));return a.push(">>"),a.join(`
`)}return""+t},e})();function a0(r,e,t,n,i){n=n||{};var a=1.15,l=i.internal.scaleFactor,o=i.internal.getFontSize()/l,d=i.getLineHeightFactor?i.getLineHeightFactor():a,u=o*d,p=/\r\n|\r|\n/g,g="",b=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(g=typeof r=="string"?r.split(p):r,b=g.length||1),t+=o*(2-a),n.valign==="middle"?t-=b/2*u:n.valign==="bottom"&&(t-=b*u),n.halign==="center"||n.halign==="right"){var f=o;if(n.halign==="center"&&(f*=.5),g&&b>=1){for(var y=0;y<g.length;y++)i.text(g[y],e-i.getStringUnitWidth(g[y])*f,t),t+=u;return i}e-=i.getStringUnitWidth(r)*f}return n.halign==="justify"?i.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(r,e,t),i}var fp={},za=(function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:fp=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,i,a;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),o=l.fontStyle,d=l.fontName;if(e.font&&(d=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[d];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(d,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var p=r.unifyColor(e.fillColor);p&&(n=this.jsPDFDocument).setFillColor.apply(n,p),p=r.unifyColor(e.textColor),p&&(i=this.jsPDFDocument).setTextColor.apply(i,p),p=r.unifyColor(e.lineColor),p&&(a=this.jsPDFDocument).setDrawColor.apply(a,p),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,i,a){return this.jsPDFDocument.rect(e,t,n,i,a)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return fp||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r})(),gu=function(r,e){return gu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},gu(r,e)};function o0(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gu(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var l0=(function(r){o0(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e})(Array);function Cb(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Pb(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function Sc(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],i=n.map(function(a){return t.getTextWidth(a)}).reduce(function(a,l){return Math.max(a,l)},0);return i}function c0(r,e,t,n){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;r.applyStyles({lineWidth:i,lineColor:a});var l=d0(i,!1);l&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,l)}function d0(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function Oc(r,e){var t,n,i,a;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(i=r.right)!==null&&i!==void 0?i:e,bottom:(a=r.bottom)!==null&&a!==void 0?a:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function u0(r,e){var t=Oc(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function Eb(r,e,t,n,i){var a={},l=1.3333333333333333,o=Hd(e,function(D){return i.getComputedStyle(D).backgroundColor});o!=null&&(a.fillColor=o);var d=Hd(e,function(D){return i.getComputedStyle(D).color});d!=null&&(a.textColor=d);var u=Ib(n,t);u&&(a.cellPadding=u);var p="borderTopColor",g=l*t,b=n.borderTopWidth;if(n.borderBottomWidth===b&&n.borderRightWidth===b&&n.borderLeftWidth===b){var f=(parseFloat(b)||0)/g;f&&(a.lineWidth=f)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/g,right:(parseFloat(n.borderRightWidth)||0)/g,bottom:(parseFloat(n.borderBottomWidth)||0)/g,left:(parseFloat(n.borderLeftWidth)||0)/g},a.lineWidth.top||(a.lineWidth.right?p="borderRightColor":a.lineWidth.bottom?p="borderBottomColor":a.lineWidth.left&&(p="borderLeftColor"));var y=Hd(e,function(D){return i.getComputedStyle(D)[p]});y!=null&&(a.lineColor=y);var j=["left","right","center","justify"];j.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),j=["middle","bottom","top"],j.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var _=parseInt(n.fontSize||"");isNaN(_)||(a.fontSize=_/l);var w=Fb(n);w&&(a.fontStyle=w);var U=(n.fontFamily||"").toLowerCase();return r.indexOf(U)!==-1&&(a.font=U),a}function Fb(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function Hd(r,e){var t=h0(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function h0(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:h0(r.parentElement,e):t}function Ib(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),i=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,a=t.map(function(o){return parseInt(o||"0")/n}),l=Oc(a,0);return i>l.top&&(l.top=i),i>l.bottom&&(l.bottom=i),l}function f0(r,e,t,n,i){var a,l;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=t.document.querySelector(e):o=e;var d=Object.keys(r.getFontList()),u=r.scaleFactor(),p=[],g=[],b=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:p,body:g,foot:b};for(var f=0;f<o.rows.length;f++){var y=o.rows[f],j=(l=(a=y==null?void 0:y.parentElement)===null||a===void 0?void 0:a.tagName)===null||l===void 0?void 0:l.toLowerCase(),_=Tb(d,u,t,y,n,i);_&&(j==="thead"?p.push(_):j==="tfoot"?b.push(_):g.push(_))}return{head:p,body:g,foot:b}}function Tb(r,e,t,n,i,a){for(var l=new l0(n),o=0;o<n.cells.length;o++){var d=n.cells[o],u=t.getComputedStyle(d);if(i||u.display!=="none"){var p=void 0;a&&(p=Eb(r,d,e,u,t)),l.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:p,_element:d,content:Ob(d)})}}var g=t.getComputedStyle(n);if(l.length>0&&(i||g.display!=="none"))return l}function Ob(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function Rb(r,e,t){for(var n=0,i=[r,e,t];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Qs(r,e,t,n,i){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(r),l=1;l<arguments.length;l++){var o=arguments[l];if(o!=null)for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(a[d]=o[d])}return a}function p0(r,e){var t=new za(r),n=t.getDocumentOptions(),i=t.getGlobalOptions();Rb(i,n,e);var a=Qs({},i,n,e),l;typeof window<"u"&&(l=window);var o=Db(i,n,e),d=Mb(i,n,e),u=Bb(t,a),p=Ub(t,a,l);return{id:e.tableId,content:p,hooks:d,styles:o,settings:u}}function Db(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(d){if(d==="columnStyles"){var u=r[d],p=e[d],g=t[d];n.columnStyles=Qs({},u,p,g)}else{var b=[r,e,t],f=b.map(function(y){return y[d]||{}});n[d]=Qs({},f[0],f[1],f[2])}},a=0,l=Object.keys(n);a<l.length;a++){var o=l[a];i(o)}return n}function Mb(r,e,t){for(var n=[r,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,l=n;a<l.length;a++){var o=l[a];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function Bb(r,e){var t,n,i,a,l,o,d,u,p,g,b,f,y=Oc(e.margin,40/r.scaleFactor()),j=(t=qb(r,e.startY))!==null&&t!==void 0?t:y.top,_;e.showFoot===!0?_="everyPage":e.showFoot===!1?_="never":_=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var w;e.showHead===!0?w="everyPage":e.showHead===!1?w="never":w=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var U=(a=e.useCss)!==null&&a!==void 0?a:!1,D=e.theme||(U?"plain":"striped"),F=!!e.horizontalPageBreak,te=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:U,theme:D,startY:j,margin:y,pageBreak:(d=e.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(p=e.tableWidth)!==null&&p!==void 0?p:"auto",showHead:w,showFoot:_,tableLineWidth:(g=e.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(b=e.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:F,horizontalPageBreakRepeat:te,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function qb(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),i=r.pageNumber(),a=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;a=l===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(t==null?void 0:t.finalY)!=null?t.finalY+20/n:null}function Ub(r,e,t){var n=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(t){var o=f0(r,e.html,t,l,e.useCss)||{};n=o.head||n,i=o.body||n,a=o.foot||n}else console.error("Cannot parse html in non browser environment")}var d=e.columns||zb(n,i,a);return{columns:d,head:n,body:i,foot:a}}function zb(r,e,t){var n=r[0]||e[0]||t[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var l=1,o;Array.isArray(n)?o=n[parseInt(a)]:o=n[a],typeof o=="object"&&!Array.isArray(o)&&(l=(o==null?void 0:o.colSpan)||1);for(var d=0;d<l;d++){var u=void 0;Array.isArray(n)?u=i.length:u=a+(d>0?"_".concat(d):"");var p={dataKey:u};i.push(p)}}),i}var xu=(function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r})(),Hb=(function(r){o0(e,r);function e(t,n,i,a,l,o){var d=r.call(this,t,n,o)||this;return d.cell=i,d.row=a,d.column=l,d.section=a.section,d}return e})(xu),Wb=(function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,i,a,l){for(var o=0,d=t;o<d.length;o++){var u=d[o],p=new Hb(e,this,n,i,a,l),g=u(p)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],g)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new xu(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new xu(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r})(),m0=(function(){function r(e,t,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof l0&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=i,this.spansMultiplePages=a}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,i){var a;return Math.max(n,((a=t.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var i=t.cells[n.index];return i?i.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(i,a){var l=n.cells[a.index];if(!l)return 0;var o=t.getLineHeight(l.styles.fontSize),d=l.padding("vertical"),u=d+o;return u>i?u:i},0)},r})(),g0=(function(){function r(e,t,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=l.split(o)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=Oc(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r})(),$b=(function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,i=e.allRows();n<i.length;n++){var a=i[n],l=a.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},r})();function Vb(r,e){Gb(r,e);var t=[],n=0;e.columns.forEach(function(a){var l=a.getMaxCustomCellWidth(e);l?a.width=l:(a.width=a.wrappedWidth,t.push(a)),n+=a.width});var i=e.getWidth(r.pageSize().width)-n;i&&(i=bu(t,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=bu(t,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/r.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Kb(e),Xb(e,r),Yb(e)}function Gb(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,i=u0(r,e);e.allRows().forEach(function(a){for(var l=0,o=e.columns;l<o.length;l++){var d=o[l],u=a.cells[d.index];if(u){var p=e.hooks.didParseCell;e.callCellHooks(r,p,u,a,d,null);var g=u.padding("horizontal");u.contentWidth=Sc(u.text,u.styles,r)+g;var b=Sc(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,r);if(u.minReadableWidth=b+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/t;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(a){for(var l=0,o=e.columns;l<o.length;l++){var d=o[l],u=a.cells[d.index];if(u&&u.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,u.wrappedWidth),d.minWidth=Math.max(d.minWidth,u.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,u.minReadableWidth);else{var p=e.styles.columnStyles[d.dataKey]||e.styles.columnStyles[d.index]||{},g=p.cellWidth||p.minCellWidth;g&&typeof g=="number"&&(d.minWidth=g,d.wrappedWidth=g)}u&&(u.colSpan>1&&!d.minWidth&&(d.minWidth=u.minWidth),u.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=u.minWidth))}})}function bu(r,e,t){for(var n=e,i=r.reduce(function(f,y){return f+y.wrappedWidth},0),a=0;a<r.length;a++){var l=r[a],o=l.wrappedWidth/i,d=n*o,u=l.width+d,p=t(l),g=u<p?p:u;e-=g-l.width,l.width=g}if(e=Math.round(e*1e10)/1e10,e){var b=r.filter(function(f){return e<0?f.width>t(f):!0});b.length&&(e=bu(b,e,t))}return e}function Yb(r){for(var e={},t=1,n=r.allRows(),i=0;i<n.length;i++)for(var a=n[i],l=0,o=r.columns;l<o.length;l++){var d=o[l],u=e[d.index];if(t>1)t--,delete a.cells[d.index];else if(u)u.cell.height+=a.height,t=u.cell.colSpan,delete a.cells[d.index],u.left--,u.left<=1&&delete e[d.index];else{var p=a.cells[d.index];if(!p)continue;if(p.height=a.height,p.rowSpan>1){var g=n.length-i,b=p.rowSpan>g?g:p.rowSpan;e[d.index]={cell:p,left:b,row:a}}}}}function Kb(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],i=null,a=0,l=0,o=0;o<r.columns.length;o++){var d=r.columns[o];if(l-=1,l>1&&r.columns[o+1])a+=d.width,delete n.cells[d.index];else if(i){var u=i;delete n.cells[d.index],i=null,u.width=d.width+a}else{var u=n.cells[d.index];if(!u)continue;if(l=u.colSpan,a=0,u.colSpan>1){i=u,a+=d.width;continue}u.width=d.width+a}}}function Xb(r,e){for(var t={count:0,height:0},n=0,i=r.allRows();n<i.length;n++){for(var a=i[n],l=0,o=r.columns;l<o.length;l++){var d=o[l],u=a.cells[d.index];if(u){e.applyStyles(u.styles,!0);var p=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,p+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=pp(u.text,p,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=pp(u.text,p,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var g=u.styles.overflow(u.text,p);typeof g=="string"?u.text=[g]:u.text=g}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var b=u.contentHeight/u.rowSpan;u.rowSpan>1&&t.count*t.height<b*u.rowSpan?t={height:b,count:u.rowSpan}:t&&t.count>0&&t.height>b&&(b=t.height),b>a.height&&(a.height=b)}}t.count--}}function pp(r,e,t,n,i){return r.map(function(a){return Jb(a,e,t,n,i)})}function Jb(r,e,t,n,i){var a=1e4*n.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Sc(r,t,n))return r;for(;e<Sc(r+i,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+i}function x0(r,e){var t=new za(r),n=Zb(e,t.scaleFactor()),i=new Wb(e,n);return Vb(t,i),t.applyStyles(t.userStyles),i}function Zb(r,e){var t=r.content,n=ev(t.columns);if(t.head.length===0){var i=mp(n,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=mp(n,"foot");i&&t.foot.push(i)}var a=r.settings.theme,l=r.styles;return{columns:n,head:Wd("head",t.head,n,l,a,e),body:Wd("body",t.body,n,l,a,e),foot:Wd("foot",t.foot,n,l,a,e)}}function Wd(r,e,t,n,i,a){var l={},o=e.map(function(d,u){for(var p=0,g={},b=0,f=0,y=0,j=t;y<j.length;y++){var _=j[y];if(l[_.index]==null||l[_.index].left===0)if(f===0){var w=void 0;Array.isArray(d)?w=d[_.index-b-p]:w=d[_.dataKey];var U={};typeof w=="object"&&!Array.isArray(w)&&(U=(w==null?void 0:w.styles)||{});var D=tv(r,_,u,i,n,a,U),F=new g0(w,D,r);g[_.dataKey]=F,g[_.index]=F,f=F.colSpan-1,l[_.index]={left:F.rowSpan-1,times:f}}else f--,b++;else l[_.index].left--,f=l[_.index].times,p++}return new m0(d,u,r,g)});return o}function mp(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var i=Qb(e,n.raw);i!=null&&(t[n.dataKey]=i)}}),Object.keys(t).length>0?t:null}function Qb(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function ev(r){return r.map(function(e,t){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:t:i=t,new $b(i,e,t)})}function tv(r,e,t,n,i,a,l){var o=Pb(n),d;r==="head"?d=i.headStyles:r==="body"?d=i.bodyStyles:r==="foot"&&(d=i.footStyles);var u=Qs({},o.table,o[r],i.styles,d),p=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},g=r==="body"?p:{},b=r==="body"&&t%2===0?Qs({},o.alternateRow,i.alternateRowStyles):{},f=Cb(a),y=Qs({},f,u,b,g);return Qs(y,l)}function rv(r,e,t){var n;t===void 0&&(t={});var i=u0(r,e),a=new Map,l=[],o=[],d=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?d=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(d=[e.settings.horizontalPageBreakRepeat]),d.forEach(function(b){var f=e.columns.find(function(y){return y.dataKey===b||y.index===b});f&&!a.has(f.index)&&(a.set(f.index,!0),l.push(f.index),o.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var u=!0,p=(n=t==null?void 0:t.start)!==null&&n!==void 0?n:0;p<e.columns.length;){if(a.has(p)){p++;continue}var g=e.columns[p].wrappedWidth;if(u||i>=g)u=!1,l.push(p),o.push(e.columns[p]),i-=g;else break;p++}return{colIndexes:l,columns:o,lastIndex:p-1}}function nv(r,e){for(var t=[],n=0;n<e.columns.length;n++){var i=rv(r,e,{start:n});i.columns.length&&(t.push(i),n=i.lastIndex)}return t}function b0(r,e){var t=e.settings,n=t.startY,i=t.margin,a={x:i.left,y:n},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+l;if(t.pageBreak==="avoid"){var d=e.body,u=d.reduce(function(b,f){return b+f.height},0);o+=u}var p=new za(r);(t.pageBreak==="always"||t.startY!=null&&o>p.pageSize().height)&&(y0(p),a.y=i.top),e.callWillDrawPageHooks(p,a);var g=Qs({},a);e.startPageNumber=p.pageNumber(),t.horizontalPageBreak?sv(p,e,g,a):(p.applyStyles(p.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(b){return ni(p,e,b,a,e.columns)}),p.applyStyles(p.userStyles),e.body.forEach(function(b,f){var y=f===e.body.length-1;kc(p,e,b,y,g,a,e.columns)}),p.applyStyles(p.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(b){return ni(p,e,b,a,e.columns)})),c0(p,e,g,a),e.callEndPageHooks(p,a),e.finalY=a.y,r.lastAutoTable=e,p.applyStyles(p.userStyles)}function sv(r,e,t,n){var i=nv(r,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,p){r.applyStyles(r.userStyles),p>0?$o(r,e,t,n,u.columns,!0):gp(r,e,n,u.columns),iv(r,e,t,n,u.columns),$d(r,e,n,u.columns)});else for(var l=-1,o=i[0],d=function(){var u=l;if(o){r.applyStyles(r.userStyles);var p=o.columns;l>=0?$o(r,e,t,n,p,!0):gp(r,e,n,p),u=xp(r,e,l+1,n,p),$d(r,e,n,p)}var g=u-l;i.slice(1).forEach(function(b){r.applyStyles(r.userStyles),$o(r,e,t,n,b.columns,!0),xp(r,e,l+1,n,b.columns,g),$d(r,e,n,b.columns)}),l=u};l<e.body.length-1;)d()}function gp(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return ni(r,e,a,t,n)})}function iv(r,e,t,n,i){r.applyStyles(r.userStyles),e.body.forEach(function(a,l){var o=l===e.body.length-1;kc(r,e,a,o,t,n,i)})}function xp(r,e,t,n,i,a){r.applyStyles(r.userStyles),a=a??e.body.length;var l=Math.min(t+a,e.body.length),o=-1;return e.body.slice(t,l).forEach(function(d,u){var p=t+u===e.body.length-1,g=v0(r,e,p,n);d.canEntireRowFit(g,i)&&(ni(r,e,d,n,i),o=t+u)}),o}function $d(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return ni(r,e,a,t,n)})}function av(r,e,t){var n=t.getLineHeight(r.styles.fontSize),i=r.padding("vertical"),a=Math.floor((e-i)/n);return Math.max(0,a)}function ov(r,e,t,n){var i={};r.spansMultiplePages=!0,r.height=0;for(var a=0,l=0,o=t.columns;l<o.length;l++){var d=o[l],u=r.cells[d.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var p=new g0(u.raw,u.styles,u.section);p=Qs(p,u),p.text=[];var g=av(u,e,n);u.text.length>g&&(p.text=u.text.splice(g,u.text.length));var b=n.scaleFactor(),f=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(b,f),u.contentHeight>=e&&(u.contentHeight=e,p.styles.minCellHeight-=e),u.contentHeight>r.height&&(r.height=u.contentHeight),p.contentHeight=p.getContentHeight(b,f),p.contentHeight>a&&(a=p.contentHeight),i[d.index]=p}}var y=new m0(r.raw,-1,r.section,i,!0);y.height=a;for(var j=0,_=t.columns;j<_.length;j++){var d=_[j],p=y.cells[d.index];p&&(p.height=y.height);var u=r.cells[d.index];u&&(u.height=r.height)}return y}function lv(r,e,t,n){var i=r.pageSize().height,a=n.settings.margin,l=a.top+a.bottom,o=i-l;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var d=e.getMinimumRowHeight(n.columns,r),u=d<t;if(d>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var p=e.hasRowSpan(n.columns),g=e.getMaxCellHeight(n.columns)>o;return g?(p&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||n.settings.rowPageBreak==="avoid")}function kc(r,e,t,n,i,a,l){var o=v0(r,e,n,a);if(t.canEntireRowFit(o,l))ni(r,e,t,a,l);else if(lv(r,t,o,e)){var d=ov(t,o,e,r);ni(r,e,t,a,l),$o(r,e,i,a,l),kc(r,e,d,n,i,a,l)}else $o(r,e,i,a,l),kc(r,e,t,n,i,a,l)}function ni(r,e,t,n,i){n.x=e.settings.margin.left;for(var a=0,l=i;a<l.length;a++){var o=l[a],d=t.cells[o.index];if(!d){n.x+=o.width;continue}r.applyStyles(d.styles),d.x=n.x,d.y=n.y;var u=e.callCellHooks(r,e.hooks.willDrawCell,d,t,o,n);if(u===!1){n.x+=o.width;continue}cv(r,d,n);var p=d.getTextPos();a0(d.text,p.x,p.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,d,t,o,n),n.x+=o.width}n.y+=t.height}function cv(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=d0(n.lineWidth,n.fillColor);i&&r.rect(e.x,t.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),dv(r,e,t,n.lineWidth))}function dv(r,e,t,n){var i,a,l,o;n.top&&(i=t.x,a=t.y,l=t.x+e.width,o=t.y,n.right&&(l+=.5*n.right),n.left&&(i-=.5*n.left),d(n.top,i,a,l,o)),n.bottom&&(i=t.x,a=t.y+e.height,l=t.x+e.width,o=t.y+e.height,n.right&&(l+=.5*n.right),n.left&&(i-=.5*n.left),d(n.bottom,i,a,l,o)),n.left&&(i=t.x,a=t.y,l=t.x,o=t.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),d(n.left,i,a,l,o)),n.right&&(i=t.x+e.width,a=t.y,l=t.x+e.width,o=t.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),d(n.right,i,a,l,o));function d(u,p,g,b,f){r.getDocument().setLineWidth(u),r.getDocument().line(p,g,b,f,"S")}}function v0(r,e,t,n){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-i}function $o(r,e,t,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(o){return ni(r,e,o,n,i)}),e.callEndPageHooks(r,n);var l=e.settings.margin;c0(r,e,t,n),y0(r),e.pageNumber++,n.x=l.left,n.y=l.top,t.y=l.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return ni(r,e,o,n,i)}),r.applyStyles(r.userStyles))}function y0(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function uv(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],i=p0(this,n),a=x0(this,i);return b0(this,a),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,i){a0(e,t,n,i,this)},r.API.autoTableSetDefaults=function(e){return za.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){za.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new za(this),a=f0(i,e,window,t,!1),l=a.head,o=a.body,d=((n=l[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:d,rows:o,data:o}}}var Vd;function hv(r,e){var t=p0(r,e),n=x0(r,t);b0(r,n)}try{if(typeof window<"u"&&window){var bp=window,vp=bp.jsPDF||((Vd=bp.jspdf)===null||Vd===void 0?void 0:Vd.jsPDF);vp&&uv(vp)}}catch(r){console.error("Could not apply autoTable plugin",r)}function fv({order:r,onClose:e,onUpdate:t}){var y,j,_;const[n,i]=ue.useState(r.status),[a,l]=ue.useState(r.trackingId||""),[o,d]=ue.useState(r.adminNotes||""),[u,p]=ue.useState(!1),g=["Pending","Processing","Shipped","Delivered","Cancelled"],b=async()=>{p(!0);try{const w=await bt.put(`/orders/${r._id}/status`,{status:n,trackingId:a,adminNotes:o});t(w.data),it.success("Order updated successfully"),e()}catch(w){console.error("Error updating order:",w),it.error("Failed to update order")}finally{p(!1)}},f=()=>{const w=new st,U=new Image;U.src="/kumarKosmetics.png",U.onload=()=>{w.setFillColor(248,250,252),w.rect(0,0,210,40,"F");const D=U.width,F=U.height,te=D/F,X=50,K=X/te;w.addImage(U,"PNG",14,5,X,K),w.setFont("helvetica","bold"),w.setFontSize(14),w.setTextColor(79,70,229),w.text("INVOICE",170,22),w.setTextColor(0,0,0),w.setFontSize(11),w.text(`Order ID: #${r._id.slice(-6).toUpperCase()}`,14,55),w.setFontSize(10),w.text(`Date: ${new Date(r.createdAt).toLocaleDateString()}`,14,62),w.text(`Status: ${r.status}`,14,68);let k=`${r.paymentMethod}`;r.paymentMethod!=="Cash on Delivery"&&(k+=` (${r.paymentStatus})`),w.text(`Payment: ${k}`,14,74),w.text("Bill To:",120,55),w.setFont("helvetica","bold"),w.text(r.address.fullName,120,60),w.setFont("helvetica","normal"),w.text(r.address.address,120,65),w.text(`${r.address.city}, ${r.address.state} - ${r.address.pincode}`,120,70),w.text(`Phone: ${r.address.phone}`,120,75);const N=["Item","Variant","Qty","Price","Total"],T=[];r.items.forEach(C=>{const W=[C.name,C.variant||"-",C.quantity,`Rs. ${C.price}`,`Rs. ${C.price*C.quantity}`];T.push(W)}),hv(w,{head:[N],body:T,startY:85,theme:"grid",headStyles:{fillColor:[79,70,229],textColor:[255,255,255],fontStyle:"bold"},styles:{fontSize:10,cellPadding:3},alternateRowStyles:{fillColor:[248,250,252]}});const S=w.lastAutoTable.finalY||85;w.setFontSize(12),w.setFont("helvetica","bold"),w.text(`Grand Total: Rs. ${r.totalAmount}`,14,S+15),w.setFontSize(9),w.setFont("helvetica","italic"),w.setTextColor(148,163,184),w.text("Thank you for shopping with Kumar Kosmetics!",105,280,{align:"center"}),w.save(`invoice_${r._id}.pdf`)}};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border sticky top-0 bg-white z-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Order Details"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Order ID: #",r._id.slice(-6)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-50 text-indigo-600 hover:bg-indigo-100 rounded-lg text-sm font-medium transition-colors",children:[s.jsx(Sg,{className:"w-4 h-4"}),"Invoice"]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-muted rounded-full transition-colors",children:s.jsx(ti,{className:"w-6 h-6 text-muted-foreground"})})]})]}),s.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(ea,{className:"w-5 h-5 text-primary"})," Order Items"]}),s.jsx("div",{className:"space-y-4",children:r.items.map((w,U)=>s.jsxs("div",{className:"flex gap-4 p-3 bg-muted/30 rounded-lg border border-border",children:[s.jsx("div",{className:"w-16 h-16 bg-white rounded-md overflow-hidden border border-border flex-shrink-0",children:s.jsx("img",{src:w.image||"/placeholder.svg",alt:w.name,className:"w-full h-full object-contain p-1"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-foreground",children:w.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Variant: ",w.variant||"N/A"]}),s.jsxs("div",{className:"flex justify-between mt-1",children:[s.jsxs("span",{className:"text-sm",children:["Qty: ",w.quantity]}),s.jsxs("span",{className:"font-semibold",children:["â‚¹",w.price*w.quantity]})]})]})]},U))}),s.jsxs("div",{className:"mt-4 flex justify-between pt-4 border-t border-border",children:[s.jsx("span",{className:"font-semibold",children:"Total Amount"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["â‚¹",r.totalAmount]})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Ac,{className:"w-5 h-5 text-primary"})," Payment Information"]}),s.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg border border-border space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Method:"}),s.jsx("span",{className:"font-medium",children:r.paymentMethod})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${r.paymentStatus==="Paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.paymentStatus})]}),r.razorpayPaymentId&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment ID:"}),s.jsx("span",{className:"font-mono text-sm",children:r.razorpayPaymentId})]})]})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Ha,{className:"w-5 h-5 text-primary"})," Customer Details"]}),s.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg border border-border space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ha,{className:"w-4 h-4 mt-1 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:((y=r.user)==null?void 0:y.name)||"Unknown"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(j=r.user)==null?void 0:j.email}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(_=r.user)==null?void 0:_.phone})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(wu,{className:"w-4 h-4 mt-1 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:r.address.fullName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.address.address}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.address.city,", ",r.address.state," - ",r.address.pincode]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Phone: ",r.address.phone]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Pp,{className:"w-4 h-4 mt-1 text-muted-foreground"}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ordered on: ",new Date(r.createdAt).toLocaleString()]})})]})]})]}),s.jsxs("section",{className:"bg-white border-2 border-primary/10 rounded-xl p-6 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(kg,{className:"w-5 h-5 text-primary"})," Order Management"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Order Status"}),s.jsx("select",{value:n,onChange:w=>i(w.target.value),className:"w-full p-2 border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",children:g.map(w=>s.jsx("option",{value:w,children:w},w))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tracking ID"}),s.jsx("input",{type:"text",value:a,onChange:w=>l(w.target.value),placeholder:"Enter tracking number",className:"w-full p-2 border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Admin Notes"}),s.jsx("textarea",{value:o,onChange:w=>d(w.target.value),placeholder:"Internal notes...",rows:3,className:"w-full p-2 border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none resize-none"})]}),s.jsx("button",{onClick:b,disabled:u,className:"w-full bg-primary text-primary-foreground py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50",children:u?"Updating...":"Update Order"})]})]})]})]})]})})}function pv({orders:r=[],setOrders:e=()=>{}}){const[t,n]=ue.useState(null),i={Delivered:"bg-green-50 text-green-700",Processing:"bg-blue-50 text-blue-700",Shipped:"bg-purple-50 text-purple-700",Pending:"bg-yellow-50 text-yellow-700",Cancelled:"bg-red-50 text-red-700"},a=l=>{e(r.map(o=>o._id===l._id?l:o))};return s.jsxs("div",{className:"p-8",children:[s.jsxs("h2",{className:"text-3xl font-light text-foreground mb-8",children:["Recent ",s.jsx("span",{className:"font-semibold",children:"Orders"})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-border overflow-hidden shadow-sm",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Order ID"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Total"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Payment"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Action"})]})}),s.jsx("tbody",{children:s.jsx(Va,{children:r.map((l,o)=>{var d,u;return s.jsxs(cr.tr,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:o*.05},className:"border-b border-gray-100 hover:bg-gray-50/80 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-blue-600",children:["#",l._id.slice(-6)]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:((d=l.user)==null?void 0:d.name)||"Unknown"}),s.jsx("p",{className:"text-xs text-gray-500",children:(u=l.user)==null?void 0:u.email})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(l.createdAt).toLocaleDateString()}),s.jsxs("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:["â‚¹",l.totalAmount]}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium border ${l.paymentStatus==="Paid"?"bg-green-50 text-green-700 border-green-100":"bg-yellow-50 text-yellow-700 border-yellow-100"}`,children:l.paymentStatus})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium border border-transparent ${i[l.status]||"bg-gray-100 border-gray-200"}`,children:l.status})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsx("button",{onClick:()=>n(l),className:"p-2 hover:bg-blue-50 text-blue-600 rounded-lg transition-colors border border-transparent hover:border-blue-100",title:"View Details",children:s.jsx(_s,{className:"w-5 h-5"})})})]},l._id)})})})]})}),t&&s.jsx(fv,{order:t,onClose:()=>n(null),onUpdate:a})]})}function mv(){const r=[{id:1,name:"Serums",productCount:8,status:"Active"},{id:2,name:"Skincare",productCount:15,status:"Active"},{id:3,name:"Creams",productCount:12,status:"Active"},{id:4,name:"Masks",productCount:6,status:"Active"}];return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h2",{className:"text-3xl font-light text-foreground",children:s.jsx("span",{className:"font-semibold",children:"Categories"})}),s.jsx("button",{className:"bg-primary text-primary-foreground px-6 py-2 rounded-lg font-medium hover:opacity-90",children:"Add Category"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(e=>s.jsxs("div",{className:"bg-white rounded-2xl border border-border p-6 hover:shadow-lg transition-shadow",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e.name}),s.jsx("p",{className:"text-3xl font-bold text-primary mb-4",children:e.productCount}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs bg-green-50 text-green-700 px-3 py-1 rounded-full font-medium",children:e.status}),s.jsx("button",{className:"text-primary font-medium hover:underline text-sm",children:"Edit"})]})]},e.id))})]})}function gv({customers:r=[]}){const[e,t]=ue.useState(""),n=r.filter(i=>i.name.toLowerCase().includes(e.toLowerCase())||i.email.toLowerCase().includes(e.toLowerCase()));return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-light text-foreground",children:[s.jsx("span",{className:"font-semibold",children:"Customers"}),s.jsxs("span",{className:"text-lg text-muted-foreground ml-2",children:["(",r.length,")"]})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage and view your customer base"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search customers...",value:e,onChange:i=>t(i.target.value),className:"pl-10 pr-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary w-full md:w-64"})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-border overflow-hidden shadow-sm",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Contact Info"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Joined Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Role"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:s.jsx(Va,{children:n.length>0?n.map((i,a)=>s.jsxs(cr.tr,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:a*.05},className:"hover:bg-gray-50/80 transition-colors border-b border-gray-100",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-lg border border-blue-200",children:i.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:i.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",i._id.slice(-6)]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Lc,{className:"w-3.5 h-3.5 mr-2 text-gray-400"}),i.email]}),i.phone&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Ag,{className:"w-3.5 h-3.5 mr-2 text-gray-400"}),i.phone]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Pp,{className:"w-3.5 h-3.5 mr-2 text-gray-400"}),new Date(i.createdAt).toLocaleDateString()]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2.5 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-50 text-blue-700 border border-blue-100 capitalize",children:i.role})})]},i._id)):s.jsx(cr.tr,{initial:{opacity:0},animate:{opacity:1},children:s.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("div",{className:"bg-gray-100 p-3 rounded-full mb-3",children:s.jsx(Vo,{className:"w-6 h-6 text-gray-400"})}),s.jsx("p",{className:"text-lg font-medium text-gray-900",children:"No customers found"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your search terms"})]})})})})})]})})})]})}function xv(){const r=Cc(),[e,t]=ue.useState("overview"),[n,i]=ue.useState([]);ue.useEffect(()=>{var u;(u=r.state)!=null&&u.section&&t(r.state.section)},[r.state]),ue.useEffect(()=>{(async()=>{try{const p=await bt.get("/products");i(p.data.products)}catch(p){console.error("Error fetching products:",p),Dt.error("Failed to fetch products")}})()},[]);const[a,l]=ue.useState([]);ue.useEffect(()=>{(e==="orders"||e==="overview")&&(async()=>{try{const p=await bt.get("/orders/admin");l(p.data)}catch(p){console.error("Error fetching orders:",p),Dt.error("Failed to fetch orders")}})()},[e]);const[o,d]=ue.useState([]);return ue.useEffect(()=>{(e==="customers"||e==="overview")&&(async()=>{try{const p=await bt.get("/auth/users");d(p.data)}catch(p){console.error("Error fetching customers:",p),Dt.error("Failed to fetch customers")}})()},[e]),s.jsxs("div",{className:"flex h-screen bg-slate-900",children:[s.jsx(R2,{currentSection:e,setCurrentSection:t}),s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-50 rounded-l-2xl shadow-2xl my-2 mr-2",children:s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[e==="overview"&&s.jsx(D2,{products:n,orders:a,customers:o}),e==="products"&&s.jsx(M2,{products:n,setProducts:i}),e==="orders"&&s.jsx(pv,{orders:a,setOrders:l}),e==="categories"&&s.jsx(mv,{}),e==="customers"&&s.jsx(gv,{customers:o}),e==="messages"&&s.jsx(pm,{})]})})]})}const bv=["Cleanser","Moisturizer","Serum","Sunscreen","Mask","Toner","Treatment"],vv=["Oily","Dry","Combination","Sensitive","Normal"],yv=["Acne","Pigmentation","Dullness","Redness","Dark spots","Fine lines","Dehydration","Texture","Enlarged pores"],wv=["Paraben-free","Alcohol-free","Fragrance-free","Essential-oil-free","Silicone-free"],yp=()=>{const r=ks(),[e,t]=ue.useState(!1),[n,i]=ue.useState({name:"",description:"",category:"",price:"",discountPrice:"",stock:"",status:"Active",featured:!1,ingredients:"",skinType:[],skinConcerns:[],allergyLabels:[],images:[],variants:[]}),[a,l]=ue.useState({name:"",stock:"",price:"",image:""}),{id:o}=Fp(),d=!!o;ue.useEffect(()=>{d&&u()},[o]);const u=async()=>{try{t(!0);const F=(await bt.get(`/products/${o}`)).data;i({name:F.name,description:F.description,category:F.category,price:F.price,discountPrice:F.discountPrice||"",stock:F.stock,status:F.status||"Active",featured:F.featured||!1,ingredients:Array.isArray(F.ingredients)?F.ingredients.join(", "):F.ingredients,skinType:F.skinType||[],skinConcerns:F.skinConcerns||[],allergyLabels:F.allergyLabels||[],images:F.images||[],variants:F.variants||[]})}catch(D){console.error("Error fetching product:",D),Dt.error("Failed to fetch product details")}finally{t(!1)}},p=D=>{const{name:F,value:te,type:X,checked:K}=D.target;i({...n,[F]:X==="checkbox"?K:te})},g=(D,F)=>{const{value:te,checked:X}=D.target;let K=[...n[F]];X?K.push(te):K=K.filter(k=>k!==te),i({...n,[F]:K})},b=D=>{const F=D.target.files[0];if(F){const te=new FileReader;te.onloadend=()=>{i({...n,images:[...n.images,te.result]})},te.readAsDataURL(F)}},f=D=>{const F=n.images.filter((te,X)=>X!==D);i({...n,images:F})},y=D=>{const{name:F,value:te}=D.target;l({...a,[F]:te})},j=D=>{const F=D.target.files[0];if(F){const te=new FileReader;te.onloadend=()=>{l({...a,image:te.result})},te.readAsDataURL(F)}},_=()=>{a.name&&a.stock?(i({...n,variants:[...n.variants,a]}),l({name:"",stock:"",image:""})):Dt.error("Please fill in variant name and stock")},w=D=>{const F=n.variants.filter((te,X)=>X!==D);i({...n,variants:F})},U=async D=>{var F,te;D.preventDefault(),t(!0);try{const X={...n,ingredients:n.ingredients.split(",").map(K=>K.trim())};d?(await bt.put(`/products/${o}`,X),Dt.success("Product updated successfully")):(await bt.post("/products",X),Dt.success("Product created successfully")),r("/admin")}catch(X){console.error("Error saving product:",X),Dt.error(((te=(F=X.response)==null?void 0:F.data)==null?void 0:te.message)||"Failed to save product")}finally{t(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(cr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 bg-emerald-600 border-b border-emerald-500",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:d?"Edit Product":"Add New Product"}),s.jsx("p",{className:"text-emerald-100 mt-1",children:d?"Update product details":"Create a new product with skin analysis details"})]}),s.jsxs("form",{onSubmit:U,className:"p-6 space-y-8",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 border-b pb-2",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",required:!0})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{name:"description",value:n.description,onChange:p,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),s.jsxs("select",{name:"category",value:n.category,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",required:!0,children:[s.jsx("option",{value:"",children:"Select Category"}),bv.map(D=>s.jsx("option",{value:D,children:D},D))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),s.jsx("input",{type:"number",name:"stock",value:n.stock,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price ($)"}),s.jsx("input",{type:"number",name:"price",value:n.price,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Discount Price ($)"}),s.jsx("input",{type:"number",name:"discountPrice",value:n.discountPrice,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border"})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"featured",checked:n.featured,onChange:p,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),s.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Featured Product"})]})})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 border-b pb-2",children:"Product Images"}),s.jsx("div",{className:"flex items-center space-x-4 mb-4",children:s.jsxs("label",{className:"cursor-pointer bg-emerald-50 text-emerald-700 px-4 py-2 rounded-md hover:bg-emerald-100 transition-colors flex items-center",children:[s.jsx(mc,{className:"w-5 h-5 mr-2"}),"Upload Image",s.jsx("input",{type:"file",className:"hidden",onChange:b,accept:"image/*"})]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.images.map((D,F)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:D,alt:`Product ${F+1}`,className:"h-32 w-full object-cover rounded-md border"}),s.jsx("button",{type:"button",onClick:()=>f(F),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(ti,{className:"w-4 h-4"})})]},F))})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 border-b pb-2",children:"Skin Compatibility & Safety"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skin Type Compatibility"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:vv.map(D=>s.jsxs("label",{className:"inline-flex items-center bg-white border rounded-full px-3 py-1 cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"checkbox",value:D,checked:n.skinType.includes(D),onChange:F=>g(F,"skinType"),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:D})]},D))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skin Concerns Solved"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:yv.map(D=>s.jsxs("label",{className:"inline-flex items-center bg-white border rounded-full px-3 py-1 cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"checkbox",value:D,checked:n.skinConcerns.includes(D),onChange:F=>g(F,"skinConcerns"),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:D})]},D))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allergy-Safe Labels"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:wv.map(D=>s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"checkbox",value:D,checked:n.allergyLabels.includes(D),onChange:F=>g(F,"allergyLabels"),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:D})]},D))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ingredients"}),s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Separate ingredients with commas"}),s.jsx("textarea",{name:"ingredients",value:n.ingredients,onChange:p,rows:3,placeholder:"Water, Glycerin, Niacinamide...",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border"})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 border-b pb-2",children:"Variants / Shades"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add New Variant"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Variant Name (e.g. Red, XL)"}),s.jsx("input",{type:"text",name:"name",value:a.name,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Stock"}),s.jsx("input",{type:"number",name:"stock",value:a.stock,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Price ($)"}),s.jsx("input",{type:"number",name:"price",value:a.price,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("label",{className:"cursor-pointer bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded-md hover:bg-gray-50 transition-colors flex items-center justify-center flex-1",children:[s.jsx(mc,{className:"w-4 h-4 mr-1"}),"Image",s.jsx("input",{type:"file",className:"hidden",onChange:j,accept:"image/*"})]}),s.jsxs("button",{type:"button",onClick:_,className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors flex items-center",children:[s.jsx(Go,{className:"w-4 h-4 mr-1"})," Add"]})]})]}),a.image&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:a.image,alt:"Variant Preview",className:"h-16 w-16 object-cover rounded border"})})]}),n.variants.length>0&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.variants.map((D,F)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D.image?s.jsx("img",{src:D.image,alt:D.name,className:"h-10 w-10 object-cover rounded-full"}):s.jsx("span",{className:"text-gray-400 text-xs",children:"No Image"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:D.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.stock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{type:"button",onClick:()=>w(F),className:"text-red-600 hover:text-red-900",children:s.jsx(Lg,{className:"w-4 h-4"})})})]},F))})]})})]}),s.jsxs("div",{className:"flex justify-end pt-6 border-t",children:[s.jsx("button",{type:"button",onClick:()=>r("/admin"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md mr-4 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:e,className:"bg-emerald-600 text-white px-6 py-2 rounded-md hover:bg-emerald-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:e?s.jsxs(s.Fragment,{children:[s.jsx(os,{className:"w-5 h-5 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Go,{className:"w-5 h-5 mr-2"}),d?"Update Product":"Create Product"]})})]})]})]})})})};function Nv(){const[r,e]=ue.useState(!1),{login:t,loggingIn:n,googleLogin:i}=An(),[a,l]=ue.useState({email:"",password:"",rememberMe:!1}),o=u=>{const{name:p,value:g,type:b,checked:f}=u.target;l(y=>({...y,[p]:b==="checkbox"?f:g}))},d=async u=>{u.preventDefault(),t(a)};return s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),s.jsx("input",{type:"email",name:"email",value:a.email,onChange:o,placeholder:"you@example.com",required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:r?"text":"password",name:"password",value:a.password,onChange:o,placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors"}),s.jsx("button",{type:"button",onClick:()=>e(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:r?s.jsx(Qi,{className:"w-5 h-5"}):s.jsx(_s,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"rememberMe",checked:a.rememberMe,onChange:o,className:"w-4 h-4 rounded border-border"}),s.jsx("span",{className:"text-sm text-foreground",children:"Remember me"})]}),s.jsx(At,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),s.jsx("button",{type:"submit",disabled:n,className:"w-full bg-primary text-primary-foreground py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed mt-6 flex justify-center items-center",children:n?s.jsxs(s.Fragment,{children:[s.jsx(os,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):"Sign In"}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-border"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-muted-foreground",children:"or continue with"})})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(fm,{onSuccess:u=>{i(u.credential)},onError:()=>{console.log("Google auth failed")}})})]})}function jv(){const[r,e]=ue.useState(!1),{signup:t,signingUp:n}=An(),[i,a]=ue.useState({name:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),l=d=>{const{name:u,value:p,type:g,checked:b}=d.target;a(f=>({...f,[u]:g==="checkbox"?b:p}))},o=async d=>{if(d.preventDefault(),i.password!==i.confirmPassword){alert("Passwords do not match");return}if(!i.agreeToTerms){alert("Please agree to terms");return}t(i)};return s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Full Name"}),s.jsx("input",{type:"text",name:"name",value:i.name,onChange:l,placeholder:"John Doe",required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),s.jsx("input",{type:"email",name:"email",value:i.email,onChange:l,placeholder:"you@example.com",required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:r?"text":"password",name:"password",value:i.password,onChange:l,placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors"}),s.jsx("button",{type:"button",onClick:()=>e(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:r?s.jsx(Qi,{className:"w-5 h-5"}):s.jsx(_s,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Confirm Password"}),s.jsx("input",{type:r?"text":"password",name:"confirmPassword",value:i.confirmPassword,onChange:l,placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0,className:"w-full px-4 py-3 border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors"})]}),s.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"agreeToTerms",checked:i.agreeToTerms,onChange:l,className:"w-4 h-4 rounded border-border mt-1"}),s.jsx("span",{className:"text-xs text-foreground leading-relaxed",children:"I agree to Kumar Kosmetics' Terms of Service and Privacy Policy"})]}),s.jsx("button",{type:"submit",disabled:n,className:"w-full bg-primary text-primary-foreground py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed mt-6 flex justify-center items-center",children:n?s.jsxs(s.Fragment,{children:[s.jsx(os,{className:"mr-2 h-5 w-5 animate-spin"}),"Creating account..."]}):"Create Account"}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-border"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-muted-foreground",children:"or continue with"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("button",{type:"button",className:"py-2 border border-border rounded-lg text-sm font-medium text-foreground hover:bg-muted transition-colors",children:"Google"}),s.jsx("button",{type:"button",className:"py-2 border border-border rounded-lg text-sm font-medium text-foreground hover:bg-muted transition-colors",children:"Apple"})]})]})}function _v(){const{isAuthModalOpen:r,closeAuthModal:e,authUser:t}=An(),[n,i]=ue.useState(!0);return ue.useEffect(()=>{t&&e()},[t,e]),r?s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl relative animate-in fade-in zoom-in duration-200",children:[s.jsx("button",{onClick:e,className:"absolute right-4 top-4 p-2 hover:bg-muted rounded-full transition-colors z-10",children:s.jsx(ti,{className:"w-5 h-5 text-muted-foreground"})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-2",children:n?"Welcome Back":"Create Account"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:n?"Enter your details to access your account":"Join us to unlock exclusive features"})]}),n?s.jsx(Nv,{}):s.jsx(jv,{}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n?"Don't have an account? ":"Already have an account? ",s.jsx("button",{onClick:()=>i(!n),className:"text-primary font-medium hover:underline focus:outline-none",children:n?"Sign up":"Log in"})]})})]})]})}):null}function Sv({onClose:r}){const{changePassword:e,authUser:t}=An(),[n,i]=ue.useState({currentPassword:"",newPassword:"",confirmPassword:"",logoutOthers:!1}),[a,l]=ue.useState({current:!1,new:!1,confirm:!1}),[o,d]=ue.useState(0),[u,p]=ue.useState({length:!1,uppercase:!1,number:!1,symbol:!1});ue.useEffect(()=>{const y=n.newPassword,j={length:y.length>=8,uppercase:/[A-Z]/.test(y),number:/[0-9]/.test(y),symbol:/[^A-Za-z0-9]/.test(y)};p(j);let _=0;j.length&&_++,j.uppercase&&_++,j.number&&_++,j.symbol&&_++,d(_)},[n.newPassword]);const g=async y=>{if(y.preventDefault(),n.newPassword!==n.confirmPassword)return;await e({currentPassword:n.currentPassword,newPassword:n.newPassword,logoutOthers:n.logoutOthers})&&!n.logoutOthers&&r()},b=()=>o===0?"bg-gray-200":o<=2?"bg-red-500":o===3?"bg-yellow-500":"bg-green-500",f=()=>o===0?"":o<=2?"Weak":o===3?"Medium":"Strong";return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(_p,{className:"w-6 h-6 text-primary"}),"Change Password"]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-muted rounded-full",children:s.jsx(ti,{className:"w-5 h-5"})})]}),(t==null?void 0:t.lastPasswordChange)&&s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg mb-6 text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx(Cg,{className:"w-4 h-4"}),"Last changed: ",new Date(t.lastPasswordChange).toLocaleDateString()]}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:a.current?"text":"password",className:"w-full p-3 border rounded-lg pr-10",value:n.currentPassword,onChange:y=>i({...n,currentPassword:y.target.value}),required:!0}),s.jsx("button",{type:"button",onClick:()=>l({...a,current:!a.current}),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:a.current?s.jsx(Qi,{className:"w-5 h-5"}):s.jsx(_s,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:a.new?"text":"password",className:"w-full p-3 border rounded-lg pr-10",value:n.newPassword,onChange:y=>i({...n,newPassword:y.target.value}),required:!0}),s.jsx("button",{type:"button",onClick:()=>l({...a,new:!a.new}),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:a.new?s.jsx(Qi,{className:"w-5 h-5"}):s.jsx(_s,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Password Strength"}),s.jsx("span",{className:`font-medium ${o<=2?"text-red-500":o===3?"text-yellow-500":"text-green-500"}`,children:f()})]}),s.jsx("div",{className:"h-1.5 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ${b()}`,style:{width:`${o/4*100}%`}})})]}),s.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[{key:"length",label:"8+ Characters"},{key:"uppercase",label:"Uppercase Letter"},{key:"number",label:"Number"},{key:"symbol",label:"Symbol"}].map(y=>s.jsxs("div",{className:`flex items-center gap-1.5 text-xs ${u[y.key]?"text-green-600":"text-muted-foreground"}`,children:[u[y.key]?s.jsx(Nh,{className:"w-3 h-3"}):s.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),y.label]},y.key))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:a.confirm?"text":"password",className:"w-full p-3 border rounded-lg pr-10",value:n.confirmPassword,onChange:y=>i({...n,confirmPassword:y.target.value}),required:!0}),s.jsx("button",{type:"button",onClick:()=>l({...a,confirm:!a.confirm}),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:a.confirm?s.jsx(Qi,{className:"w-5 h-5"}):s.jsx(_s,{className:"w-5 h-5"})})]}),n.confirmPassword&&s.jsx("div",{className:`mt-1 text-xs flex items-center gap-1 ${n.newPassword===n.confirmPassword?"text-green-600":"text-red-500"}`,children:n.newPassword===n.confirmPassword?s.jsxs(s.Fragment,{children:[s.jsx(Nh,{className:"w-3 h-3"})," Passwords match"]}):s.jsxs(s.Fragment,{children:[s.jsx(ti,{className:"w-3 h-3"})," Passwords do not match"]})})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/30 rounded-lg",children:[s.jsx("input",{type:"checkbox",id:"logoutOthers",checked:n.logoutOthers,onChange:y=>i({...n,logoutOthers:y.target.checked}),className:"mt-1"}),s.jsxs("label",{htmlFor:"logoutOthers",className:"text-sm cursor-pointer",children:[s.jsx("span",{className:"font-medium block text-foreground",children:"Log out of all devices"}),s.jsx("span",{className:"text-muted-foreground",children:"You will be required to log in again."})]})]}),s.jsx("div",{className:"pt-2",children:s.jsx("button",{type:"submit",disabled:o<3||n.newPassword!==n.confirmPassword,className:"w-full bg-primary text-primary-foreground py-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity",children:"Update Password"})})]})]})})}function kv(){var C,W,G,le,fe,ne;const{authUser:r,logout:e,updateProfile:t,addAddress:n,deleteAddress:i,addUPI:a,deleteUPI:l,getMyOrders:o}=An(),[d,u]=ue.useState("orders"),[p,g]=ue.useState([]),[b,f]=ue.useState(!1),[y,j]=ue.useState(!1),[_,w]=ue.useState(!1),[U,D]=ue.useState(!1),[F,te]=ue.useState({fullName:"",phone:"",address:"",city:"",state:"",pincode:"",type:"Home"}),[X,K]=ue.useState({upiId:""}),[k,N]=ue.useState({name:(r==null?void 0:r.name)||"",phone:(r==null?void 0:r.phone)||"",avatar:(r==null?void 0:r.avatar)||""});ue.useEffect(()=>{d==="orders"&&o().then(g)},[d,o]);const T=[{id:"orders",label:"My Orders",icon:ea},{id:"addresses",label:"Saved Addresses",icon:wu},{id:"payment",label:"Payment Methods",icon:Ac},{id:"account",label:"Account Details",icon:Ha}],S=q=>{const ee=q.target.files[0];if(ee){const V=new FileReader;V.onloadend=()=>{N({...k,avatar:V.result})},V.readAsDataURL(ee)}};return s.jsxs("main",{className:"min-h-screen bg-background",children:[s.jsx(As,{}),s.jsx("section",{className:"max-w-7xl mx-auto px-4 py-12",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[s.jsx("aside",{className:"w-full md:w-64 flex-shrink-0",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-border sticky top-24",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center text-primary font-semibold text-lg overflow-hidden",children:r!=null&&r.avatar?s.jsx("img",{src:r.avatar,alt:"Profile",className:"w-full h-full object-cover"}):((C=r==null?void 0:r.name)==null?void 0:C.charAt(0))||"U"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold text-foreground",children:(r==null?void 0:r.name)||"User"}),s.jsx("p",{className:"text-sm text-muted-foreground w-1/2",children:r==null?void 0:r.email})]})]}),s.jsxs("nav",{className:"space-y-2",children:[T.map(q=>s.jsxs("button",{onClick:()=>u(q.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${d===q.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[s.jsx(q.icon,{className:"w-5 h-5"}),q.label]},q.id)),s.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-red-500 hover:bg-red-50 transition-colors mt-4",children:[s.jsx(Np,{className:"w-5 h-5"}),"Log Out"]})]})]})}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-border min-h-[500px]",children:[s.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-6",children:(W=T.find(q=>q.id===d))==null?void 0:W.label}),d==="orders"&&s.jsx("div",{className:"space-y-4",children:p.length===0?s.jsxs("div",{className:"text-center py-12 bg-muted/30 rounded-xl border border-dashed border-border",children:[s.jsx(ea,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No orders yet"}),s.jsx("p",{className:"text-muted-foreground",children:"Start shopping to see your orders here."})]}):p.map(q=>s.jsxs("div",{className:"bg-white border border-border rounded-xl overflow-hidden hover:shadow-md transition-shadow duration-200",children:[s.jsxs("div",{className:"bg-muted/30 px-6 py-4 border-b border-border flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-white p-2 rounded-lg border border-border",children:s.jsx(ea,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order ID"}),s.jsxs("p",{className:"font-mono font-medium text-foreground",children:["#",q._id.slice(-6)]})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date Placed"}),s.jsx("p",{className:"font-medium text-foreground",children:new Date(q.createdAt).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-semibold text-primary",children:["â‚¹",q.totalAmount]})]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"space-y-6",children:q.items.map((ee,V)=>s.jsxs("div",{className:"flex gap-4 items-start",children:[s.jsx("div",{className:"w-20 h-20 bg-muted/30 rounded-lg border border-border overflow-hidden flex-shrink-0",children:s.jsx("img",{src:ee.image||"/placeholder.svg",alt:ee.name,className:"w-full h-full object-contain p-2"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-foreground truncate",children:ee.name}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Variant: ",ee.variant||"N/A"]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("span",{className:"text-sm bg-muted px-2 py-1 rounded text-muted-foreground",children:["Qty: ",ee.quantity]}),s.jsxs("span",{className:"text-sm font-medium",children:["â‚¹",ee.price]})]})]})]},V))}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${q.status==="Delivered"?"bg-green-100 text-green-800":q.status==="Cancelled"?"bg-red-100 text-red-800":q.status==="Processing"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:q.status})]}),s.jsxs("div",{className:"flex gap-3",children:[q.status==="Pending"&&s.jsx("button",{className:"px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Cancel Order"}),s.jsx("button",{className:"px-4 py-2 text-sm font-medium text-primary hover:bg-primary/5 rounded-lg transition-colors border border-transparent hover:border-primary/20",children:"View Details"})]})]})]})]},q._id))}),d==="addresses"&&s.jsx("div",{children:b?s.jsxs("form",{onSubmit:q=>{q.preventDefault(),n(F),f(!1),te({fullName:"",phone:"",address:"",city:"",state:"",pincode:"",type:"Home"})},className:"max-w-lg space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("input",{placeholder:"Full Name",className:"p-3 border rounded-lg",value:F.fullName,onChange:q=>te({...F,fullName:q.target.value}),required:!0}),s.jsx("input",{placeholder:"Phone Number",className:"p-3 border rounded-lg",value:F.phone,onChange:q=>te({...F,phone:q.target.value}),required:!0})]}),s.jsx("textarea",{placeholder:"Address",className:"w-full p-3 border rounded-lg",value:F.address,onChange:q=>te({...F,address:q.target.value}),required:!0}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("input",{placeholder:"City",className:"p-3 border rounded-lg",value:F.city,onChange:q=>te({...F,city:q.target.value}),required:!0}),s.jsx("input",{placeholder:"State",className:"p-3 border rounded-lg",value:F.state,onChange:q=>te({...F,state:q.target.value}),required:!0}),s.jsx("input",{placeholder:"Pincode",className:"p-3 border rounded-lg",value:F.pincode,onChange:q=>te({...F,pincode:q.target.value}),required:!0})]}),s.jsx("div",{className:"flex gap-4",children:["Home","Work"].map(q=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"type",checked:F.type===q,onChange:()=>te({...F,type:q})}),q]},q))}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"submit",className:"bg-primary text-primary-foreground px-6 py-2 rounded-lg",children:"Save Address"}),s.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-6 py-2 rounded-lg border hover:bg-muted",children:"Cancel"})]})]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>f(!0),className:"border-2 border-dashed border-border rounded-lg p-6 flex flex-col items-center justify-center text-muted-foreground hover:border-primary hover:text-primary transition-colors h-full min-h-[150px]",children:[s.jsx(Go,{className:"w-8 h-8 mb-2"}),s.jsx("span",{children:"Add New Address"})]}),(G=r==null?void 0:r.addresses)==null?void 0:G.map(q=>s.jsxs("div",{className:"border border-border rounded-lg p-6 relative group",children:[s.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{className:"p-2 text-muted-foreground hover:text-primary",children:s.jsx(Cp,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>i(q._id),className:"p-2 text-muted-foreground hover:text-red-500",children:s.jsx(Wa,{className:"w-4 h-4"})})]}),s.jsx("span",{className:"inline-block px-2 py-1 bg-muted rounded text-xs font-medium mb-2",children:q.type}),s.jsx("h4",{className:"font-medium",children:q.fullName}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:q.address}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[q.city,", ",q.state," - ",q.pincode]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Phone: ",q.phone]})]},q._id))]})})}),d==="payment"&&s.jsxs("div",{className:"max-w-xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-medium mb-4",children:"Default Payment Method"}),s.jsx("div",{className:"p-4 border border-primary bg-primary/5 rounded-lg flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center border",children:"ðŸ’µ"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Cash on Delivery"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Default"})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-4",children:"Saved UPI IDs"}),s.jsx("div",{className:"space-y-3",children:(le=r==null?void 0:r.paymentMethods)==null?void 0:le.map(q=>s.jsxs("div",{className:"p-4 border rounded-lg flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:"UPI"}),s.jsx("p",{className:"font-medium",children:q.upiId})]}),s.jsx("button",{onClick:()=>l(q._id),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:s.jsx(Wa,{className:"w-4 h-4"})})]},q._id))}),y?s.jsxs("form",{onSubmit:q=>{q.preventDefault(),a(X),j(!1),K({upiId:""})},className:"mt-4 flex gap-2",children:[s.jsx("input",{placeholder:"example@upi",className:"flex-1 p-2 border rounded-lg",value:X.upiId,onChange:q=>K({upiId:q.target.value}),required:!0}),s.jsx("button",{type:"submit",className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg",children:"Add"}),s.jsx("button",{type:"button",onClick:()=>j(!1),className:"border px-4 py-2 rounded-lg",children:"Cancel"})]}):s.jsxs("button",{onClick:()=>j(!0),className:"mt-4 text-primary flex items-center gap-2 hover:underline",children:[s.jsx(Go,{className:"w-4 h-4"})," Add New UPI ID"]})]})]}),d==="account"&&s.jsx("div",{className:"max-w-md",children:_?s.jsxs("form",{onSubmit:q=>{q.preventDefault(),t(k),w(!1)},className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 bg-muted rounded-full overflow-hidden",children:k.avatar?s.jsx("img",{src:k.avatar,alt:"Preview",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl font-bold text-muted-foreground",children:(ne=k.name)==null?void 0:ne.charAt(0)})}),s.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary text-primary-foreground p-2 rounded-full cursor-pointer hover:opacity-90",children:[s.jsx(Pg,{className:"w-4 h-4"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:S})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Full Name"}),s.jsx("input",{className:"w-full p-3 border rounded-lg",value:k.name,onChange:q=>N({...k,name:q.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),s.jsx("input",{className:"w-full p-3 border rounded-lg",value:k.phone,onChange:q=>N({...k,phone:q.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{className:"w-full p-3 border rounded-lg bg-muted text-muted-foreground",value:r==null?void 0:r.email,readOnly:!0})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"submit",className:"flex-1 bg-primary text-primary-foreground py-2 rounded-lg",children:"Save Changes"}),s.jsx("button",{type:"button",onClick:()=>w(!1),className:"flex-1 border border-border py-2 rounded-lg hover:bg-muted",children:"Cancel"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"w-20 h-20 bg-muted rounded-full overflow-hidden",children:r!=null&&r.avatar?s.jsx("img",{src:r.avatar,alt:"Profile",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl font-bold text-muted-foreground",children:(fe=r==null?void 0:r.name)==null?void 0:fe.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-lg",children:r==null?void 0:r.name}),s.jsx("p",{className:"text-muted-foreground",children:r==null?void 0:r.email})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"font-medium",children:(r==null?void 0:r.phone)||"Not added"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:r==null?void 0:r.email})]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{onClick:()=>w(!0),className:"flex-1 bg-primary text-primary-foreground py-2 rounded-lg",children:"Edit Profile"}),s.jsx("button",{onClick:()=>D(!0),className:"flex-1 border border-border py-2 rounded-lg hover:bg-muted",children:"Change Password"})]})]})})]})})]})}),s.jsx(Ls,{}),U&&s.jsx(Sv,{onClose:()=>D(!1)})]})}function Av(){const{wishlist:r,getWishlist:e,loading:t}=Fu();return ue.useEffect(()=>{e()},[e]),s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[s.jsx(As,{}),s.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx(Pi,{className:"w-8 h-8 text-primary fill-primary"}),s.jsx("h1",{className:"text-3xl font-light text-foreground",children:"My Wishlist"})]}),t?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):r.length>0?s.jsx(Iu,{viewType:"grid",products:r,filters:{category:[],priceRange:[0,1e4],skinType:[],concern:[]}}):s.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-dashed border-border",children:[s.jsx(Pi,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-medium text-foreground mb-2",children:"Your wishlist is empty"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Start saving your favorite products to build your skincare routine."}),s.jsx(At,{to:"/products",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-primary-foreground bg-primary hover:bg-primary/90 transition-colors",children:"Browse Products"})]})]}),s.jsx(Ls,{})]})}function Lv(){return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:s.jsxs("div",{className:"max-w-md w-full bg-card rounded-2xl p-8 border border-border text-center shadow-lg",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(pc,{className:"w-8 h-8 text-primary"})}),s.jsx("h2",{className:"text-3xl font-semibold text-foreground mb-2",children:"Order Confirmed!"}),s.jsx("p",{className:"text-muted-foreground",children:"Thank you for your purchase"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-8",children:"You'll receive a confirmation email shortly with order details and tracking information."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(At,{to:"/",className:"flex-1 bg-primary text-primary-foreground py-3 rounded-lg font-medium hover:opacity-90 transition-opacity text-center",children:"Back to Home"}),s.jsx(At,{to:"/products",className:"flex-1 bg-muted text-foreground py-3 rounded-lg font-medium hover:bg-border transition-colors text-center",children:"Continue Shopping"})]})]})})}var fc={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Cv=fc.exports,wp;function Pv(){return wp||(wp=1,(function(r,e){((t,n)=>{r.exports=n()})(Cv,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,l=n.IS_PAPA_WORKER||!1,o={},d=0,u={};function p(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(N){var T=te(N);T.chunkSize=parseInt(T.chunkSize),N.step||N.chunk||(T.chunkSize=null),this._handle=new j(T),(this._handle.streamer=this)._config=T}).call(this,k),this.parseChunk=function(N,T){var S=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<S){let W=this._config.newline;W||(C=this._config.quoteChar||'"',W=this._handle.guessLineEndings(N,C)),N=[...N.split(W).slice(S)].join(W)}this.isFirstChunk&&K(this._config.beforeFirstChunk)&&(C=this._config.beforeFirstChunk(N))!==void 0&&(N=C),this.isFirstChunk=!1,this._halted=!1;var S=this._partialLine+N,C=(this._partialLine="",this._handle.parse(S,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(N=C.meta.cursor,S=(this._finished||(this._partialLine=S.substring(N-this._baseIndex),this._baseIndex=N),C&&C.data&&(this._rowCount+=C.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)n.postMessage({results:C,workerId:u.WORKER_ID,finished:S});else if(K(this._config.chunk)&&!T){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=C=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!S||!K(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),S||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(N){K(this._config.error)?this._config.error(N):l&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:N,finished:!1})}}function g(k){var N;(k=k||{}).chunkSize||(k.chunkSize=u.RemoteChunkSize),p.call(this,k),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(T){this._input=T,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(N=new XMLHttpRequest,this._config.withCredentials&&(N.withCredentials=this._config.withCredentials),a||(N.onload=X(this._chunkLoaded,this),N.onerror=X(this._chunkError,this)),N.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var T,S=this._config.downloadRequestHeaders;for(T in S)N.setRequestHeader(T,S[T])}var C;this._config.chunkSize&&(C=this._start+this._config.chunkSize-1,N.setRequestHeader("Range","bytes="+this._start+"-"+C));try{N.send(this._config.downloadRequestBody)}catch(W){this._chunkError(W.message)}a&&N.status===0&&this._chunkError()}},this._chunkLoaded=function(){N.readyState===4&&(N.status<200||400<=N.status?this._chunkError():(this._start+=this._config.chunkSize||N.responseText.length,this._finished=!this._config.chunkSize||this._start>=(T=>(T=T.getResponseHeader("Content-Range"))!==null?parseInt(T.substring(T.lastIndexOf("/")+1)):-1)(N),this.parseChunk(N.responseText)))},this._chunkError=function(T){T=N.statusText||T,this._sendError(new Error(T))}}function b(k){(k=k||{}).chunkSize||(k.chunkSize=u.LocalChunkSize),p.call(this,k);var N,T,S=typeof FileReader<"u";this.stream=function(C){this._input=C,T=C.slice||C.webkitSlice||C.mozSlice,S?((N=new FileReader).onload=X(this._chunkLoaded,this),N.onerror=X(this._chunkError,this)):N=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input,W=(this._config.chunkSize&&(W=Math.min(this._start+this._config.chunkSize,this._input.size),C=T.call(C,this._start,W)),N.readAsText(C,this._config.encoding));S||this._chunkLoaded({target:{result:W}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(N.error)}}function f(k){var N;p.call(this,k=k||{}),this.stream=function(T){return N=T,this._nextChunk()},this._nextChunk=function(){var T,S;if(!this._finished)return T=this._config.chunkSize,N=T?(S=N.substring(0,T),N.substring(T)):(S=N,""),this._finished=!N,this.parseChunk(S)}}function y(k){p.call(this,k=k||{});var N=[],T=!0,S=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){S&&N.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),N.length?this.parseChunk(N.shift()):T=!0},this._streamData=X(function(C){try{N.push(typeof C=="string"?C:C.toString(this._config.encoding)),T&&(T=!1,this._checkIsFinished(),this.parseChunk(N.shift()))}catch(W){this._streamError(W)}},this),this._streamError=X(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=X(function(){this._streamCleanUp(),S=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function j(k){var N,T,S,C,W=Math.pow(2,53),G=-W,le=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,fe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ne=this,q=0,ee=0,V=!1,pe=!1,P=[],M={data:[],errors:[],meta:{}};function Y(ae){return k.skipEmptyLines==="greedy"?ae.join("").trim()==="":ae.length===1&&ae[0].length===0}function J(){if(M&&S&&(se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),S=!1),k.skipEmptyLines&&(M.data=M.data.filter(function(xe){return!Y(xe)})),Z()){let xe=function(ke,we){K(k.transformHeader)&&(ke=k.transformHeader(ke,we)),P.push(ke)};if(M)if(Array.isArray(M.data[0])){for(var ae=0;Z()&&ae<M.data.length;ae++)M.data[ae].forEach(xe);M.data.splice(0,1)}else M.data.forEach(xe)}function ce(xe,ke){for(var we=k.header?{}:[],Pe=0;Pe<xe.length;Pe++){var R=Pe,Ne=xe[Pe],Ne=((oe,Ae)=>(ve=>(k.dynamicTypingFunction&&k.dynamicTyping[ve]===void 0&&(k.dynamicTyping[ve]=k.dynamicTypingFunction(ve)),(k.dynamicTyping[ve]||k.dynamicTyping)===!0))(oe)?Ae==="true"||Ae==="TRUE"||Ae!=="false"&&Ae!=="FALSE"&&((ve=>{if(le.test(ve)&&(ve=parseFloat(ve),G<ve&&ve<W))return 1})(Ae)?parseFloat(Ae):fe.test(Ae)?new Date(Ae):Ae===""?null:Ae):Ae)(R=k.header?Pe>=P.length?"__parsed_extra":P[Pe]:R,Ne=k.transform?k.transform(Ne,R):Ne);R==="__parsed_extra"?(we[R]=we[R]||[],we[R].push(Ne)):we[R]=Ne}return k.header&&(Pe>P.length?se("FieldMismatch","TooManyFields","Too many fields: expected "+P.length+" fields but parsed "+Pe,ee+ke):Pe<P.length&&se("FieldMismatch","TooFewFields","Too few fields: expected "+P.length+" fields but parsed "+Pe,ee+ke)),we}var be;M&&(k.header||k.dynamicTyping||k.transform)&&(be=1,!M.data.length||Array.isArray(M.data[0])?(M.data=M.data.map(ce),be=M.data.length):M.data=ce(M.data,0),k.header&&M.meta&&(M.meta.fields=P),ee+=be)}function Z(){return k.header&&P.length===0}function se(ae,ce,be,xe){ae={type:ae,code:ce,message:be},xe!==void 0&&(ae.row=xe),M.errors.push(ae)}K(k.step)&&(C=k.step,k.step=function(ae){M=ae,Z()?J():(J(),M.data.length!==0&&(q+=ae.data.length,k.preview&&q>k.preview?T.abort():(M.data=M.data[0],C(M,ne))))}),this.parse=function(ae,ce,be){var xe=k.quoteChar||'"',xe=(k.newline||(k.newline=this.guessLineEndings(ae,xe)),S=!1,k.delimiter?K(k.delimiter)&&(k.delimiter=k.delimiter(ae),M.meta.delimiter=k.delimiter):((xe=((ke,we,Pe,R,Ne)=>{var oe,Ae,ve,ze;Ne=Ne||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Ie=0;Ie<Ne.length;Ie++){for(var Me,He=Ne[Ie],ot=0,We=0,qe=0,Be=(ve=void 0,new w({comments:R,delimiter:He,newline:we,preview:10}).parse(ke)),rt=0;rt<Be.data.length;rt++)Pe&&Y(Be.data[rt])?qe++:(Me=Be.data[rt].length,We+=Me,ve===void 0?ve=Me:0<Me&&(ot+=Math.abs(Me-ve),ve=Me));0<Be.data.length&&(We/=Be.data.length-qe),(Ae===void 0||ot<=Ae)&&(ze===void 0||ze<We)&&1.99<We&&(Ae=ot,oe=He,ze=We)}return{successful:!!(k.delimiter=oe),bestDelimiter:oe}})(ae,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess)).successful?k.delimiter=xe.bestDelimiter:(S=!0,k.delimiter=u.DefaultDelimiter),M.meta.delimiter=k.delimiter),te(k));return k.preview&&k.header&&xe.preview++,N=ae,T=new w(xe),M=T.parse(N,ce,be),J(),V?{meta:{paused:!0}}:M||{meta:{paused:!1}}},this.paused=function(){return V},this.pause=function(){V=!0,T.abort(),N=K(k.chunk)?"":N.substring(T.getCharIndex())},this.resume=function(){ne.streamer._halted?(V=!1,ne.streamer.parseChunk(N,!0)):setTimeout(ne.resume,3)},this.aborted=function(){return pe},this.abort=function(){pe=!0,T.abort(),M.meta.aborted=!0,K(k.complete)&&k.complete(M),N=""},this.guessLineEndings=function(ke,xe){ke=ke.substring(0,1048576);var xe=new RegExp(_(xe)+"([^]*?)"+_(xe),"gm"),be=(ke=ke.replace(xe,"")).split("\r"),xe=ke.split(`
`),ke=1<xe.length&&xe[0].length<be[0].length;if(be.length===1||ke)return`
`;for(var we=0,Pe=0;Pe<be.length;Pe++)be[Pe][0]===`
`&&we++;return we>=be.length/2?`\r
`:"\r"}}function _(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(k){var N=(k=k||{}).delimiter,T=k.newline,S=k.comments,C=k.step,W=k.preview,G=k.fastMode,le=null,fe=!1,ne=k.quoteChar==null?'"':k.quoteChar,q=ne;if(k.escapeChar!==void 0&&(q=k.escapeChar),(typeof N!="string"||-1<u.BAD_DELIMITERS.indexOf(N))&&(N=","),S===N)throw new Error("Comment character same as delimiter");S===!0?S="#":(typeof S!="string"||-1<u.BAD_DELIMITERS.indexOf(S))&&(S=!1),T!==`
`&&T!=="\r"&&T!==`\r
`&&(T=`
`);var ee=0,V=!1;this.parse=function(pe,P,M){if(typeof pe!="string")throw new Error("Input must be a string");var Y=pe.length,J=N.length,Z=T.length,se=S.length,ae=K(C),ce=[],be=[],xe=[],ke=ee=0;if(!pe)return ot();if(G||G!==!1&&pe.indexOf(ne)===-1){for(var we=pe.split(T),Pe=0;Pe<we.length;Pe++){if(xe=we[Pe],ee+=xe.length,Pe!==we.length-1)ee+=T.length;else if(M)return ot();if(!S||xe.substring(0,se)!==S){if(ae){if(ce=[],ze(xe.split(N)),We(),V)return ot()}else ze(xe.split(N));if(W&&W<=Pe)return ce=ce.slice(0,W),ot(!0)}}return ot()}for(var R=pe.indexOf(N,ee),Ne=pe.indexOf(T,ee),oe=new RegExp(_(q)+_(ne),"g"),Ae=pe.indexOf(ne,ee);;)if(pe[ee]===ne)for(Ae=ee,ee++;;){if((Ae=pe.indexOf(ne,Ae+1))===-1)return M||be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ce.length,index:ee}),Me();if(Ae===Y-1)return Me(pe.substring(ee,Ae).replace(oe,ne));if(ne===q&&pe[Ae+1]===q)Ae++;else if(ne===q||Ae===0||pe[Ae-1]!==q){R!==-1&&R<Ae+1&&(R=pe.indexOf(N,Ae+1));var ve=Ie((Ne=Ne!==-1&&Ne<Ae+1?pe.indexOf(T,Ae+1):Ne)===-1?R:Math.min(R,Ne));if(pe.substr(Ae+1+ve,J)===N){xe.push(pe.substring(ee,Ae).replace(oe,ne)),pe[ee=Ae+1+ve+J]!==ne&&(Ae=pe.indexOf(ne,ee)),R=pe.indexOf(N,ee),Ne=pe.indexOf(T,ee);break}if(ve=Ie(Ne),pe.substring(Ae+1+ve,Ae+1+ve+Z)===T){if(xe.push(pe.substring(ee,Ae).replace(oe,ne)),He(Ae+1+ve+Z),R=pe.indexOf(N,ee),Ae=pe.indexOf(ne,ee),ae&&(We(),V))return ot();if(W&&ce.length>=W)return ot(!0);break}be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ce.length,index:ee}),Ae++}}else if(S&&xe.length===0&&pe.substring(ee,ee+se)===S){if(Ne===-1)return ot();ee=Ne+Z,Ne=pe.indexOf(T,ee),R=pe.indexOf(N,ee)}else if(R!==-1&&(R<Ne||Ne===-1))xe.push(pe.substring(ee,R)),ee=R+J,R=pe.indexOf(N,ee);else{if(Ne===-1)break;if(xe.push(pe.substring(ee,Ne)),He(Ne+Z),ae&&(We(),V))return ot();if(W&&ce.length>=W)return ot(!0)}return Me();function ze(qe){ce.push(qe),ke=ee}function Ie(qe){var Be=0;return Be=qe!==-1&&(qe=pe.substring(Ae+1,qe))&&qe.trim()===""?qe.length:Be}function Me(qe){return M||(qe===void 0&&(qe=pe.substring(ee)),xe.push(qe),ee=Y,ze(xe),ae&&We()),ot()}function He(qe){ee=qe,ze(xe),xe=[],Ne=pe.indexOf(T,ee)}function ot(qe){if(k.header&&!P&&ce.length&&!fe){var Be=ce[0],rt=Object.create(null),De=new Set(Be);let lt=!1;for(let Ue=0;Ue<Be.length;Ue++){let ct=Be[Ue];if(rt[ct=K(k.transformHeader)?k.transformHeader(ct,Ue):ct]){let yt,ht=rt[ct];for(;yt=ct+"_"+ht,ht++,De.has(yt););De.add(yt),Be[Ue]=yt,rt[ct]++,lt=!0,(le=le===null?{}:le)[yt]=ct}else rt[ct]=1,Be[Ue]=ct;De.add(ct)}lt&&console.warn("Duplicate headers found and renamed."),fe=!0}return{data:ce,errors:be,meta:{delimiter:N,linebreak:T,aborted:V,truncated:!!qe,cursor:ke+(P||0),renamedHeaders:le}}}function We(){C(ot()),ce=[],be=[]}},this.abort=function(){V=!0},this.getCharIndex=function(){return ee}}function U(k){var N=k.data,T=o[N.workerId],S=!1;if(N.error)T.userError(N.error,N.file);else if(N.results&&N.results.data){var C={abort:function(){S=!0,D(N.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:F,resume:F};if(K(T.userStep)){for(var W=0;W<N.results.data.length&&(T.userStep({data:N.results.data[W],errors:N.results.errors,meta:N.results.meta},C),!S);W++);delete N.results}else K(T.userChunk)&&(T.userChunk(N.results,C,N.file),delete N.results)}N.finished&&!S&&D(N.workerId,N.results)}function D(k,N){var T=o[k];K(T.userComplete)&&T.userComplete(N),T.terminate(),delete o[k]}function F(){throw new Error("Not implemented.")}function te(k){if(typeof k!="object"||k===null)return k;var N,T=Array.isArray(k)?[]:{};for(N in k)T[N]=te(k[N]);return T}function X(k,N){return function(){k.apply(N,arguments)}}function K(k){return typeof k=="function"}return u.parse=function(k,N){var T=(N=N||{}).dynamicTyping||!1;if(K(T)&&(N.dynamicTypingFunction=T,T={}),N.dynamicTyping=T,N.transform=!!K(N.transform)&&N.transform,!N.worker||!u.WORKERS_SUPPORTED)return T=null,u.NODE_STREAM_INPUT,typeof k=="string"?(k=(S=>S.charCodeAt(0)!==65279?S:S.slice(1))(k),T=new(N.download?g:f)(N)):k.readable===!0&&K(k.read)&&K(k.on)?T=new y(N):(n.File&&k instanceof File||k instanceof Object)&&(T=new b(N)),T.stream(k);(T=(()=>{var S;return!!u.WORKERS_SUPPORTED&&(S=(()=>{var C=n.URL||n.webkitURL||null,W=t.toString();return u.BLOB_URL||(u.BLOB_URL=C.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",W,")();"],{type:"text/javascript"})))})(),(S=new n.Worker(S)).onmessage=U,S.id=d++,o[S.id]=S)})()).userStep=N.step,T.userChunk=N.chunk,T.userComplete=N.complete,T.userError=N.error,N.step=K(N.step),N.chunk=K(N.chunk),N.complete=K(N.complete),N.error=K(N.error),delete N.worker,T.postMessage({input:k,config:N,workerId:T.id})},u.unparse=function(k,N){var T=!1,S=!0,C=",",W=`\r
`,G='"',le=G+G,fe=!1,ne=null,q=!1,ee=((()=>{if(typeof N=="object"){if(typeof N.delimiter!="string"||u.BAD_DELIMITERS.filter(function(P){return N.delimiter.indexOf(P)!==-1}).length||(C=N.delimiter),typeof N.quotes!="boolean"&&typeof N.quotes!="function"&&!Array.isArray(N.quotes)||(T=N.quotes),typeof N.skipEmptyLines!="boolean"&&typeof N.skipEmptyLines!="string"||(fe=N.skipEmptyLines),typeof N.newline=="string"&&(W=N.newline),typeof N.quoteChar=="string"&&(G=N.quoteChar),typeof N.header=="boolean"&&(S=N.header),Array.isArray(N.columns)){if(N.columns.length===0)throw new Error("Option columns is empty");ne=N.columns}N.escapeChar!==void 0&&(le=N.escapeChar+G),N.escapeFormulae instanceof RegExp?q=N.escapeFormulae:typeof N.escapeFormulae=="boolean"&&N.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(G),"g"));if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return V(null,k,fe);if(typeof k[0]=="object")return V(ne||Object.keys(k[0]),k,fe)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||ne),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),V(k.fields||[],k.data||[],fe);throw new Error("Unable to serialize unrecognized input");function V(P,M,Y){var J="",Z=(typeof P=="string"&&(P=JSON.parse(P)),typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(P)&&0<P.length),se=!Array.isArray(M[0]);if(Z&&S){for(var ae=0;ae<P.length;ae++)0<ae&&(J+=C),J+=pe(P[ae],ae);0<M.length&&(J+=W)}for(var ce=0;ce<M.length;ce++){var be=(Z?P:M[ce]).length,xe=!1,ke=Z?Object.keys(M[ce]).length===0:M[ce].length===0;if(Y&&!Z&&(xe=Y==="greedy"?M[ce].join("").trim()==="":M[ce].length===1&&M[ce][0].length===0),Y==="greedy"&&Z){for(var we=[],Pe=0;Pe<be;Pe++){var R=se?P[Pe]:Pe;we.push(M[ce][R])}xe=we.join("").trim()===""}if(!xe){for(var Ne=0;Ne<be;Ne++){0<Ne&&!ke&&(J+=C);var oe=Z&&se?P[Ne]:Ne;J+=pe(M[ce][oe],Ne)}ce<M.length-1&&(!Y||0<be&&!ke)&&(J+=W)}}return J}function pe(P,M){var Y,J;return P==null?"":P.constructor===Date?JSON.stringify(P).slice(1,25):(J=!1,q&&typeof P=="string"&&q.test(P)&&(P="'"+P,J=!0),Y=P.toString().replace(ee,le),(J=J||T===!0||typeof T=="function"&&T(P,M)||Array.isArray(T)&&T[M]||((Z,se)=>{for(var ae=0;ae<se.length;ae++)if(-1<Z.indexOf(se[ae]))return!0;return!1})(Y,u.BAD_DELIMITERS)||-1<Y.indexOf(C)||Y.charAt(0)===" "||Y.charAt(Y.length-1)===" ")?G+Y+G:Y)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=w,u.ParserHandle=j,u.NetworkStreamer=g,u.FileStreamer=b,u.StringStreamer=f,u.ReadableStreamStreamer=y,n.jQuery&&((i=n.jQuery).fn.parse=function(k){var N=k.config||{},T=[];return this.each(function(W){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var G=0;G<this.files.length;G++)T.push({file:this.files[G],inputElem:this,instanceConfig:i.extend({},N)})}),S(),this;function S(){if(T.length===0)K(k.complete)&&k.complete();else{var W,G,le,fe,ne=T[0];if(K(k.before)){var q=k.before(ne.file,ne.inputElem);if(typeof q=="object"){if(q.action==="abort")return W="AbortError",G=ne.file,le=ne.inputElem,fe=q.reason,void(K(k.error)&&k.error({name:W},G,le,fe));if(q.action==="skip")return void C();typeof q.config=="object"&&(ne.instanceConfig=i.extend(ne.instanceConfig,q.config))}else if(q==="skip")return void C()}var ee=ne.instanceConfig.complete;ne.instanceConfig.complete=function(V){K(ee)&&ee(V,ne.file,ne.inputElem),C()},u.parse(ne.file,ne.instanceConfig)}}function C(){T.splice(0,1),S()}}),l&&(n.onmessage=function(k){k=k.data,u.WORKER_ID===void 0&&k&&(u.WORKER_ID=k.workerId),typeof k.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(k.input,k.config),finished:!0}):(n.File&&k.input instanceof File||k.input instanceof Object)&&(k=u.parse(k.input,k.config))&&n.postMessage({workerId:u.WORKER_ID,results:k,finished:!0})}),(g.prototype=Object.create(p.prototype)).constructor=g,(b.prototype=Object.create(p.prototype)).constructor=b,(f.prototype=Object.create(f.prototype)).constructor=f,(y.prototype=Object.create(p.prototype)).constructor=y,u})})(fc)),fc.exports}var Ev=Pv();const Fv=Ep(Ev);function Iv(){const[r,e]=ue.useState(null),[t,n]=ue.useState([]),[i,a]=ue.useState(!1),[l,o]=ue.useState(null),d=ks(),u=f=>{const y=f.target.files[0];if(y){if(y.type!=="text/csv"){Dt.error("Please upload a CSV file");return}e(y),g(y)}},p=f=>{n(y=>y.filter((j,_)=>_!==f))},g=f=>{Fv.parse(f,{header:!0,skipEmptyLines:!0,complete:y=>{const j=y.data.map((_,w)=>{try{return{_id:w,name:_.productName||_.name,description:_.description,category:_.category,stock:_.stock?parseInt(_.stock):0,price:_.price?parseFloat(_.price):0,discountPrice:_.discountPrice?parseFloat(_.discountPrice):void 0,featured:_.featured==="true",skinType:_.skinTypes?_.skinTypes.split(",").map(U=>U.trim()):[],skinConcerns:_.skinConcerns?_.skinConcerns.split(",").map(U=>U.trim()):[],allergyLabels:_.allergyLabels?_.allergyLabels.split(",").map(U=>U.trim()):[],ingredients:_.ingredients?_.ingredients.split(",").map(U=>U.trim()):[],images:[_.image1,_.image2,_.image3].filter(Boolean),variants:_.variants?JSON.parse(_.variants):[],isValid:!!(_.productName||_.name)&&!!_.category&&!!_.price&&!!_.stock}}catch(U){return console.error("Row parse error",U),{_id:w,isValid:!1,error:"Parse Error"}}});n(j)},error:y=>{Dt.error("Error parsing CSV: "+y.message)}})},b=async()=>{var y,j;const f=t.filter(_=>_.isValid).map(({_id:_,isValid:w,error:U,...D})=>D);if(f.length===0){Dt.error("No valid products to upload");return}a(!0);try{const _=await bt.post("/products/bulk",{products:f});o(_.data),Dt.success("Bulk upload completed!"),e(null),n([])}catch(_){console.error("Bulk upload error",_),Dt.error(((j=(y=_.response)==null?void 0:y.data)==null?void 0:j.message)||"Upload failed")}finally{a(!1)}};return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-light text-foreground mb-2",children:"Bulk Upload Products"}),s.jsx("p",{className:"text-muted-foreground",children:"Upload a CSV file to add multiple products at once."})]}),s.jsxs("button",{onClick:()=>d("/admin"),className:"flex items-center gap-2 text-gray-500 hover:text-blue-600 transition-colors",children:[s.jsx(Ap,{className:"w-5 h-5"}),"Back to Products"]})]}),l?s.jsxs(cr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-lg border border-green-100 p-8 text-center max-w-2xl mx-auto",children:[s.jsx("div",{className:"bg-green-100 p-4 rounded-full inline-flex mb-4",children:s.jsx(pc,{className:"w-12 h-12 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Upload Complete!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Your bulk upload has been processed."}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-gray-500 uppercase",children:"Total"}),s.jsx("div",{className:"text-2xl font-bold text-gray-800",children:l.summary.total})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-green-600 uppercase",children:"Added"}),s.jsx("div",{className:"text-2xl font-bold text-green-700",children:l.summary.added})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-red-600 uppercase",children:"Failed"}),s.jsx("div",{className:"text-2xl font-bold text-red-700",children:l.summary.failed})]})]}),l.errors.length>0&&s.jsxs("div",{className:"text-left mb-8",children:[s.jsx("h4",{className:"font-semibold text-red-600 mb-2",children:"Errors:"}),s.jsx("div",{className:"bg-red-50 p-4 rounded-lg max-h-40 overflow-y-auto text-sm",children:l.errors.map((f,y)=>s.jsxs("div",{className:"text-red-700 mb-1",children:["Row ",f.row," (",f.name,"): ",f.message]},y))})]}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx("button",{onClick:()=>{o(null),e(null),n([])},className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-700",children:"Upload More"}),s.jsx("button",{onClick:()=>d("/admin"),className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"View Products"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-dashed border-gray-300 p-10 text-center mb-8",children:[s.jsx("input",{type:"file",id:"csvUpload",accept:".csv",onChange:u,className:"hidden"}),s.jsxs("label",{htmlFor:"csvUpload",className:"cursor-pointer flex flex-col items-center",children:[s.jsx("div",{className:"bg-indigo-50 p-4 rounded-full mb-4",children:s.jsx(mc,{className:"w-8 h-8 text-indigo-600"})}),s.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Click to upload CSV"}),s.jsx("span",{className:"text-sm text-gray-500 mt-1",children:"or drag and drop file here"}),r&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 bg-indigo-50 px-4 py-2 rounded text-indigo-700",children:[s.jsx(Eg,{size:16}),r.name]})]})]}),t.length>0&&s.jsxs(cr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-semibold text-gray-700",children:["CSV Preview (",t.length," rows)"]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsxs("span",{className:"text-green-600 font-medium",children:[t.filter(f=>f.isValid).length," Valid"]})," / ",s.jsxs("span",{className:"text-red-600 font-medium",children:[t.filter(f=>!f.isValid).length," Invalid"]})]})]}),s.jsx("div",{className:"overflow-x-auto max-h-96",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3",children:"Status"}),s.jsx("th",{className:"px-4 py-3",children:"Name"}),s.jsx("th",{className:"px-4 py-3",children:"Category"}),s.jsx("th",{className:"px-4 py-3",children:"Price"}),s.jsx("th",{className:"px-4 py-3",children:"Stock"}),s.jsx("th",{className:"px-4 py-3",children:"Images"}),s.jsx("th",{className:"px-4 py-3",children:"Action"})]})}),s.jsx("tbody",{children:t.map((f,y)=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3",children:f.isValid?s.jsx(pc,{className:"text-green-500 w-5 h-5"}):s.jsx(Lp,{className:"text-red-500 w-5 h-5"})}),s.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:f.name||"-"}),s.jsx("td",{className:"px-4 py-3 text-gray-500",children:f.category||"-"}),s.jsxs("td",{className:"px-4 py-3 text-gray-500",children:["â‚¹",f.price]}),s.jsx("td",{className:"px-4 py-3 text-gray-500",children:f.stock}),s.jsx("td",{className:"px-4 py-3",children:f.images&&f.images.length>0?s.jsx("img",{src:f.images[0],alt:f.name,className:"w-10 h-10 object-cover rounded border border-gray-200"}):s.jsx("span",{className:"text-xs text-gray-400",children:"No image"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{onClick:()=>p(y),className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded transition-colors",title:"Remove product",children:s.jsx(Wa,{className:"w-4 h-4"})})})]},f._id))})]})}),s.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-end",children:s.jsxs("button",{onClick:b,disabled:i||t.filter(f=>f.isValid).length===0,className:"bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[i&&s.jsx(os,{className:"animate-spin w-4 h-4"}),"Upload ",t.filter(f=>f.isValid).length," Products"]})})]})]})]})}function Tv(){const r=Cc(),{authUser:e}=An();return s.jsx(Va,{mode:"wait",children:s.jsxs(Og,{location:r,children:[s.jsx(Ar,{path:"/",element:s.jsx(f2,{})}),s.jsx(Ar,{path:"/about",element:s.jsx(p2,{})}),s.jsx(Ar,{path:"/products",element:s.jsx(g2,{})}),s.jsx(Ar,{path:"/products/:id",element:s.jsx(b2,{})}),s.jsx(Ar,{path:"/cart",element:s.jsx(w2,{})}),s.jsx(Ar,{path:"/checkout",element:s.jsx(j2,{})}),s.jsx(Ar,{path:"/login",element:e?s.jsx(Vs,{to:"/"}):s.jsx(jo,{})}),s.jsx(Ar,{path:"/signup",element:e?s.jsx(Vs,{to:"/"}):s.jsx(jo,{})}),s.jsx(Ar,{path:"/forgot-password",element:s.jsx(jo,{})}),s.jsx(Ar,{path:"/verify-otp",element:s.jsx(jo,{})}),s.jsx(Ar,{path:"/reset-password",element:s.jsx(jo,{})}),s.jsx(Ar,{path:"/contact",element:s.jsx(E2,{})}),s.jsx(Ar,{path:"/skin-analyzer",element:s.jsx(O2,{})}),s.jsx(Ar,{path:"/admin",element:(e==null?void 0:e.role)==="admin"?s.jsx(xv,{}):s.jsx(Vs,{to:"/"})}),s.jsx(Ar,{path:"/admin/add-product",element:(e==null?void 0:e.role)==="admin"?s.jsx(yp,{}):s.jsx(Vs,{to:"/"})}),s.jsx(Ar,{path:"/admin/edit-product/:id",element:(e==null?void 0:e.role)==="admin"?s.jsx(yp,{}):s.jsx(Vs,{to:"/"})}),s.jsx(Ar,{path:"/admin/bulk-products",element:(e==null?void 0:e.role)==="admin"?s.jsx(Iv,{}):s.jsx(Vs,{to:"/"})}),s.jsx(Ar,{path:"/admin/messages",element:(e==null?void 0:e.role)==="admin"?s.jsx(pm,{}):s.jsx(Vs,{to:"/"})}),s.jsx(Ar,{path:"/profile",element:e?s.jsx(kv,{}):s.jsx(Vs,{to:"/"})}),s.jsx(Ar,{path:"/wishlist",element:e?s.jsx(Av,{}):s.jsx(Vs,{to:"/login"})}),s.jsx(Ar,{path:"/order-success",element:s.jsx(Lv,{})})]},r.pathname)})}function Ov(){const{checkAuth:r,checkingAuth:e}=An();return console.log("Vercel API URL:","https://kumar-kosmetics.onrender.com"),ue.useEffect(()=>{r()},[r]),e?s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx(os,{className:"size-10 animate-spin"})}):s.jsxs(Tg,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[s.jsx(Tv,{}),s.jsx(_v,{}),s.jsx(H1,{})]})}Jg.createRoot(document.getElementById("root")).render(s.jsx(k2,{clientId:"846428747928-8ugiaeleou3n8kn666vre15rjqp873i5.apps.googleusercontent.com",children:s.jsx(Ov,{})}));export{Zt as _};
